!function(e,t){function n(e){var t,n,r=B[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)r[e[t]]=!0;return r}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(U,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:O.isNumeric(r)?parseFloat(r):$.test(r)?O.parseJSON(r):r}catch(o){}O.data(e,n,r)}else r=t}return r}function i(e){for(var t in e)if(("data"!==t||!O.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",a=O._data(e,r);!a||"queue"!==n&&O._data(e,i)||"mark"!==n&&O._data(e,o)||setTimeout(function(){O._data(e,i)||O._data(e,o)||(O.removeData(e,r,!0),a.fire())},0)}function a(){return!1}function s(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,n){if(t=t||0,O.isFunction(t))return O.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return O.grep(e,function(e,r){return e===t===n});if("string"==typeof t){var r=O.grep(e,function(e){return 1===e.nodeType});if(de.test(t))return O.filter(t,r,!n);t=O.filter(t,r)}return O.grep(e,function(e,r){return O.inArray(e,t)>=0===n})}function u(e){var t=me.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return O.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e,t){if(1===t.nodeType&&O.hasData(e)){var n,r,i,o=O._data(e),a=O._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)O.event.add(t,n+(s[n][r].namespace?".":"")+s[n][r].namespace,s[n][r],s[n][r].data)}a.data&&(a.data=O.extend({},a.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(O.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function g(e){var t=(e.nodeName||"").toLowerCase();"input"===t?m(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&O.grep(e.getElementsByTagName("input"),m)}function v(e){var t=M.createElement("div");return Re.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function y(e,t){t.src?O.ajax({url:t.src,async:!1,dataType:"script"}):O.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ne,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function b(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?Ue:je,o=0,a=i.length;if(r>0){if("border"!==n)for(;a>o;o++)n||(r-=parseFloat(O.css(e,"padding"+i[o]))||0),"margin"===n?r+=parseFloat(O.css(e,n+i[o]))||0:r-=parseFloat(O.css(e,"border"+i[o]+"Width"))||0;return r+"px"}if(r=Ie(e,t,t),(0>r||null==r)&&(r=e.style[t]||0),r=parseFloat(r)||0,n)for(;a>o;o++)r+=parseFloat(O.css(e,"padding"+i[o]))||0,"padding"!==n&&(r+=parseFloat(O.css(e,"border"+i[o]+"Width"))||0),"margin"===n&&(r+=parseFloat(O.css(e,n+i[o]))||0);return r+"px"}function C(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),O.isFunction(n))for(var r,i,o,a=t.toLowerCase().split(nt),s=0,l=a.length;l>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[o?"unshift":"push"](n)}}function w(e,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],c=0,u=l?l.length:0,d=e===at;u>c&&(d||!s);c++)s=l[c](n,r,i),"string"==typeof s&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=w(e,n,r,i,s,a)));return!d&&s||a["*"]||(s=w(e,n,r,i,"*",a)),s}function _(e,n){var r,i,o=O.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&O.extend(!0,e,i)}function E(e,t,n,r){if(O.isArray(t))O.each(t,function(t,i){n||We.test(e)?r(e,i):E(e+"["+("object"==typeof i||O.isArray(i)?t:"")+"]",i,n,r)});else if(n||null==t||"object"!=typeof t)r(e,t);else for(var i in t)E(e+"["+i+"]",t[i],n,r)}function x(e,n,r){var i,o,a,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in r&&(n[u[o]]=r[o]);for(;"*"===c[0];)c.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){c.unshift(o);break}if(c[0]in r)a=c[0];else{for(o in r){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==c[0]&&c.unshift(a),r[a]):void 0}function T(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r,i,o,a,s,l,c,u,d=e.dataTypes,p={},h=d.length,f=d[0];for(r=1;h>r;r++){if(1===r)for(i in e.converters)"string"==typeof i&&(p[i.toLowerCase()]=e.converters[i]);if(a=f,f=d[r],"*"===f)f=a;else if("*"!==a&&a!==f){if(s=a+" "+f,l=p[s]||p["* "+f],!l){u=t;for(c in p)if(o=c.split(" "),(o[0]===a||"*"===o[0])&&(u=p[o[1]+" "+f])){c=p[c],c===!0?l=u:u===!0&&(l=c);break}}l||u||O.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):u(c(n)))}}return n}function S(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function k(){return setTimeout(R,0),yt=O.now()}function R(){yt=t}function I(e,t){var n={};return O.each(_t.concat.apply([],_t.slice(0,t)),function(){n[this]=e}),n}function P(e){if(!bt[e]){var t=M.body,n=O("<"+e+">").appendTo(t),r=n.css("display");n.remove(),("none"===r||""===r)&&(mt||(mt=M.createElement("iframe"),mt.frameBorder=mt.width=mt.height=0),t.appendChild(mt),gt&&mt.createElement||(gt=(mt.contentWindow||mt.contentDocument).document,gt.write(("CSS1Compat"===M.compatMode?"<!doctype html>":"")+"<html><body>"),gt.close()),n=gt.createElement(e),gt.body.appendChild(n),r=O.css(n,"display"),t.removeChild(mt)),bt[e]=r}return bt[e]}function A(e){return O.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var M=e.document,D=e.navigator,L=e.location,O=function(){function n(){if(!s.isReady){try{M.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}s.ready()}}var r,i,o,a,s=function(e,t){return new s.fn.init(e,t,r)},l=e.jQuery,c=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,p=/^\s+/,h=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,C=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,_=/(mozilla)(?:.*? rv:([\w.]+))?/,E=/-([a-z]|[0-9])/gi,x=/^-ms-/,T=function(e,t){return(t+"").toUpperCase()},S=D.userAgent,N=Object.prototype.toString,k=Object.prototype.hasOwnProperty,R=Array.prototype.push,I=Array.prototype.slice,P=String.prototype.trim,A=Array.prototype.indexOf,L={};return s.fn=s.prototype={constructor:s,init:function(e,n,r){var i,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&M.body)return this.context=M,this[0]=M.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:u.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:M,a=f.exec(e),a?s.isPlainObject(n)?(e=[M.createElement(a[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(a[1])]:(a=s.buildFragment([i[1]],[l]),e=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,e);if(o=M.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=M,this.selector=e,this}return s.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return I.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return s.isArray(e)?R.apply(r,e):s.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(I.apply(this,arguments),"slice",I.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:R,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,r,i,o,a,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||s.isFunction(l)||(l={}),u===c&&(l=this,--c);u>c;c++)if(null!=(e=arguments[c]))for(n in e)r=l[n],i=e[n],l!==i&&(d&&i&&(s.isPlainObject(i)||(o=s.isArray(i)))?(o?(o=!1,a=r&&s.isArray(r)?r:[]):a=r&&s.isPlainObject(r)?r:{},l[n]=s.extend(d,a,i)):i!==t&&(l[n]=i));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=c),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(e===!0&&!--s.readyWait||e!==!0&&!s.isReady){if(!M.body)return setTimeout(s.ready,1);if(s.isReady=!0,e!==!0&&--s.readyWait>0)return;o.fireWith(M,[s]),s.fn.trigger&&s(M).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===M.readyState)return setTimeout(s.ready,1);if(M.addEventListener)M.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(M.attachEvent){M.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(r){}M.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):L[N.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!k.call(e,"constructor")&&!k.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||k.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(n){var r,i;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||s.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(x,"ms-").replace(E,T)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,o=0,a=e.length,l=a===t||s.isFunction(e);if(r)if(l){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;a>o&&n.apply(e[o++],r)!==!1;);else if(l){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:P?function(e){return null==e?"":P.call(e)}:function(e){return null==e?"":e.toString().replace(p,"").replace(h,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=s.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(e)?R.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(A)return A.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if("number"==typeof n.length)for(var o=n.length;o>i;i++)e[r++]=n[i];else for(;n[i]!==t;)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[];n=!!n;for(var o=0,a=e.length;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,n,r){var i,o,a=[],l=0,c=e.length,u=e instanceof s||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||s.isArray(e));if(u)for(;c>l;l++)i=n(e[l],l,r),null!=i&&(a[a.length]=i);else for(o in e)i=n(e[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(e,n){if("string"==typeof n){var r=e[n];n=e,e=r}if(!s.isFunction(e))return t;var i=I.call(arguments,2),o=function(){return e.apply(n,i.concat(I.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,n,r,i,o,a){var l=e.length;if("object"==typeof n){for(var c in n)s.access(e,c,n[c],i,o,r);return e}if(r!==t){i=!a&&i&&s.isFunction(r);for(var u=0;l>u;u++)o(e[u],n,i?r.call(e[u],u,o(e[u],n)):r,a);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||C.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&_.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof e)&&(r=e(r)),s.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(M);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){L["[object "+t+"]"]=t.toLowerCase()}),i=s.uaMatch(S),i.browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),d.test("\xa0")&&(p=/^[\s\xA0]+/,h=/[\s\xA0]+$/),r=s(M),M.addEventListener?a=function(){M.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:M.attachEvent&&(a=function(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",a),s.ready())}),s}(),B={};O.Callbacks=function(e){e=e?B[e]||n(e):{};var r,i,o,a,s,l=[],c=[],u=function(t){var n,r,i,o;for(n=0,r=t.length;r>n;n++)i=t[n],o=O.type(i),"array"===o?u(i):"function"===o&&(e.unique&&p.has(i)||l.push(i))},d=function(t,n){for(n=n||[],r=!e.memory||[t,n],i=!0,s=o||0,o=0,a=l.length;l&&a>s;s++)if(l[s].apply(t,n)===!1&&e.stopOnFalse){r=!0;break}i=!1,l&&(e.once?r===!0?p.disable():l=[]:c&&c.length&&(r=c.shift(),p.fireWith(r[0],r[1])))},p={add:function(){if(l){var e=l.length;u(arguments),i?a=l.length:r&&r!==!0&&(o=e,d(r[0],r[1]))}return this},remove:function(){if(l)for(var t=arguments,n=0,r=t.length;r>n;n++)for(var o=0;o<l.length&&(t[n]!==l[o]||(i&&a>=o&&(a--,s>=o&&s--),l.splice(o--,1),!e.unique));o++);return this},has:function(e){if(l)for(var t=0,n=l.length;n>t;t++)if(e===l[t])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=c=r=t,this},disabled:function(){return!l},lock:function(){return c=t,r&&r!==!0||p.disable(),this},locked:function(){return!c},fireWith:function(t,n){return c&&(i?e.once||c.push([t,n]):e.once&&r||d(t,n)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p};var F=[].slice;O.extend({Deferred:function(e){var t,n=O.Callbacks("once memory"),r=O.Callbacks("once memory"),i=O.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return O.Deferred(function(r){O.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,i=t[0],o=t[1];O.isFunction(i)?l[e](function(){n=i.apply(this,arguments),n&&O.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[n])}):l[e](r[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){r[e]=arguments.length>1?F.call(arguments,0):t,--s||l.resolveWith(l,r)}}function n(e){return function(t){a[e]=arguments.length>1?F.call(arguments,0):t,l.notifyWith(c,a)}}var r=F.call(arguments,0),i=0,o=r.length,a=new Array(o),s=o,l=1>=o&&e&&O.isFunction(e.promise)?e:O.Deferred(),c=l.promise();if(o>1){for(;o>i;i++)r[i]&&r[i].promise&&O.isFunction(r[i].promise)?r[i].promise().then(t(i),l.reject,n(i)):--s;s||l.resolveWith(l,r)}else l!==e&&l.resolveWith(l,o?[e]:[]);return c}}),O.support=function(){var t,n,r,i,o,a,s,l,c,u,d,p,h=M.createElement("div");M.documentElement;if(h.setAttribute("className","t"),h.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),r=h.getElementsByTagName("a")[0],!n||!n.length||!r)return{};i=M.createElement("select"),o=i.appendChild(M.createElement("option")),a=h.getElementsByTagName("input")[0],t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==h.className,enctype:!!M.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==M.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(f){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick")),a=M.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),h.appendChild(a),l=M.createDocumentFragment(),l.appendChild(h.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(h),h.innerHTML="",e.getComputedStyle&&(s=M.createElement("div"),s.style.width="0",s.style.marginRight="0",h.style.width="2px",h.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),h.attachEvent)for(d in{submit:1,change:1,focusin:1})u="on"+d,p=u in h,p||(h.setAttribute(u,"return;"),p="function"==typeof h[u]),t[d+"Bubbles"]=p;return l.removeChild(h),l=i=o=s=h=a=null,O(function(){var e,n,r,i,o,a,s,l,u,d,f=M.getElementsByTagName("body")[0];f&&(a=1,s="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",u="style='"+s+"border:5px solid #000;padding:0;'",d="<div "+u+"><div></div></div><table "+u+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",e=M.createElement("div"),e.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+a+"px",f.insertBefore(e,f.firstChild),h=M.createElement("div"),e.appendChild(h),h.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",c=h.getElementsByTagName("td"),p=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",t.reliableHiddenOffsets=p&&0===c[0].offsetHeight,h.innerHTML="",h.style.width=h.style.paddingLeft="1px",O.boxModel=t.boxModel=2===h.offsetWidth,"undefined"!=typeof h.style.zoom&&(h.style.display="inline",h.style.zoom=1,t.inlineBlockNeedsLayout=2===h.offsetWidth,h.style.display="",h.innerHTML="<div style='width:4px;'></div>",t.shrinkWrapBlocks=2!==h.offsetWidth),h.style.cssText=s+l,h.innerHTML=d,n=h.firstChild,r=n.firstChild,i=n.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==r.offsetTop,doesAddBorderForTableAndCells:5===i.offsetTop},r.style.position="fixed",r.style.top="20px",o.fixedPosition=20===r.offsetTop||15===r.offsetTop,r.style.position=r.style.top="",n.style.overflow="hidden",n.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===r.offsetTop,o.doesNotIncludeMarginInBodyOffset=f.offsetTop!==a,f.removeChild(e),h=e=null,O.extend(t,o))}),t}();var $=/^(?:\{.*\}|\[.*\])$/,U=/([A-Z])/g;O.extend({cache:{},uuid:0,expando:"jQuery"+(O.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?O.cache[e[O.expando]]:e[O.expando],!!e&&!i(e)},data:function(e,n,r,i){if(O.acceptData(e)){var o,a,s,l=O.expando,c="string"==typeof n,u=e.nodeType,d=u?O.cache:e,p=u?e[l]:e[l]&&l,h="events"===n;if(p&&d[p]&&(h||i||d[p].data)||!c||r!==t)return p||(u?e[l]=p=++O.uuid:p=l),d[p]||(d[p]={},u||(d[p].toJSON=O.noop)),("object"==typeof n||"function"==typeof n)&&(i?d[p]=O.extend(d[p],n):d[p].data=O.extend(d[p].data,n)),o=a=d[p],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[O.camelCase(n)]=r),h&&!a[n]?o.events:(c?(s=a[n],null==s&&(s=a[O.camelCase(n)])):s=a,s)}},removeData:function(e,t,n){if(O.acceptData(e)){var r,o,a,s=O.expando,l=e.nodeType,c=l?O.cache:e,u=l?e[s]:s;if(c[u]){if(t&&(r=n?c[u]:c[u].data)){O.isArray(t)||(t in r?t=[t]:(t=O.camelCase(t),t=t in r?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete r[t[o]];if(!(n?i:O.isEmptyObject)(r))return}(n||(delete c[u].data,i(c[u])))&&(O.support.deleteExpando||!c.setInterval?delete c[u]:c[u]=null,l&&(O.support.deleteExpando?delete e[s]:e.removeAttribute?e.removeAttribute(s):e[s]=null))}}},_data:function(e,t,n){return O.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=O.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),O.fn.extend({data:function(e,n){var i,o,a,s=null;if("undefined"==typeof e){if(this.length&&(s=O.data(this[0]),1===this[0].nodeType&&!O._data(this[0],"parsedAttrs"))){o=this[0].attributes;for(var l=0,c=o.length;c>l;l++)a=o[l].name,0===a.indexOf("data-")&&(a=O.camelCase(a.substring(5)),r(this[0],a,s[a]));O._data(this[0],"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){O.data(this,e)}):(i=e.split("."),i[1]=i[1]?"."+i[1]:"",n===t?(s=this.triggerHandler("getData"+i[1]+"!",[i[0]]),s===t&&this.length&&(s=O.data(this[0],e),s=r(this[0],e,s)),s===t&&i[1]?this.data(i[0]):s):this.each(function(){var t=O(this),r=[i[0],n];t.triggerHandler("setData"+i[1]+"!",r),O.data(this,e,n),t.triggerHandler("changeData"+i[1]+"!",r)}))},removeData:function(e){return this.each(function(){O.removeData(this,e)})}}),O.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",O._data(e,t,(O._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var r=n+"mark",i=e?0:(O._data(t,r)||1)-1;i?O._data(t,r,i):(O.removeData(t,r,!0),o(t,n,"mark"))}},queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=O._data(e,t),n&&(!r||O.isArray(n)?r=O._data(e,t,O.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=O.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),O._data(e,t+".run",i),r.call(e,function(){O.dequeue(e,t)},i)),n.length||(O.removeData(e,t+"queue "+t+".run",!0),o(e,t,"queue"))}}),O.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?O.queue(this[0],e):this.each(function(){var t=O.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&O.dequeue(this,e)})},dequeue:function(e){return this.each(function(){O.dequeue(this,e)})},delay:function(e,t){return e=O.fx?O.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--l||o.resolveWith(a,[a])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var i,o=O.Deferred(),a=this,s=a.length,l=1,c=e+"defer",u=e+"queue",d=e+"mark";s--;)(i=O.data(a[s],c,t,!0)||(O.data(a[s],u,t,!0)||O.data(a[s],d,t,!0))&&O.data(a[s],c,O.Callbacks("once memory"),!0))&&(l++,i.add(r));return r(),o.promise()}});var j,H,q,V=/[\n\t\r]/g,W=/\s+/,z=/\r/g,K=/^(?:button|input)$/i,G=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,Y=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Q=O.support.getSetAttribute;O.fn.extend({attr:function(e,t){return O.access(this,e,t,!0,O.attr)},removeAttr:function(e){return this.each(function(){O.removeAttr(this,e)})},prop:function(e,t){return O.access(this,e,t,!0,O.prop)},removeProp:function(e){return e=O.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a,s;if(O.isFunction(e))return this.each(function(t){O(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(W),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;s>a;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=O.trim(o)}else i.className=e;return this},removeClass:function(e){var n,r,i,o,a,s,l;if(O.isFunction(e))return this.each(function(t){O(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(W),r=0,i=this.length;i>r;r++)if(o=this[r],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(V," "),s=0,l=n.length;l>s;s++)a=a.replace(" "+n[s]+" "," ");o.className=O.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return O.isFunction(e)?this.each(function(n){O(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=O(this),s=t,l=e.split(W);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&O._data(this,"__className__",this.className),this.className=this.className||e===!1?"":O._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=O.isFunction(e),this.each(function(r){var o,a=O(this);1===this.nodeType&&(o=i?e.call(this,r,a.val()):e,null==o?o="":"number"==typeof o?o+="":O.isArray(o)&&(o=O.map(o,function(e){return null==e?"":e+""})),n=O.valHooks[this.nodeName.toLowerCase()]||O.valHooks[this.type],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=O.valHooks[o.nodeName.toLowerCase()]||O.valHooks[o.type],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,"string"==typeof r?r.replace(z,""):null==r?"":r)}}}),O.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,r=l?o+1:s.length;r>n;n++)if(i=s[n],i.selected&&(O.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!O.nodeName(i.parentNode,"optgroup"))){if(t=O(i).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?O(s[o]).val():a},set:function(e,t){var n=O.makeArray(t);return O(e).find("option").each(function(){this.selected=O.inArray(O(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,a,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&n in O.attrFn?O(e)[n](r):"undefined"==typeof e.getAttribute?O.prop(e,n,r):(s=1!==l||!O.isXMLDoc(e),s&&(n=n.toLowerCase(),a=O.attrHooks[n]||(Y.test(n)?H:j)),r!==t?null===r?void O.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,r,i,o,a=0;if(t&&1===e.nodeType)for(r=t.toLowerCase().split(W),o=r.length;o>a;a++)i=r[a],i&&(n=O.propFix[i]||i,O.attr(e,i,""),e.removeAttribute(Q?i:n),Y.test(i)&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(K.test(e.nodeName)&&e.parentNode)O.error("type property can't be changed");else if(!O.support.radioValue&&"radio"===t&&O.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&O.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){return j&&O.nodeName(e,"button")?j.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!O.isXMLDoc(e),a&&(n=O.propFix[n]||n,o=O.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):G.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:t}}}}),O.attrHooks.tabindex=O.propHooks.tabIndex,H={get:function(e,n){var r,i=O.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?O.removeAttr(e,n):(r=O.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Q||(q={name:!0,id:!0},j=O.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(q[n]?""!==r.nodeValue:r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=M.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},O.attrHooks.tabindex.set=j.set,O.each(["width","height"],function(e,t){O.attrHooks[t]=O.extend(O.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),O.attrHooks.contenteditable={get:j.get,set:function(e,t,n){""===t&&(t="false"),j.set(e,t,n)}}),O.support.hrefNormalized||O.each(["href","src","width","height"],function(e,n){O.attrHooks[n]=O.extend(O.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),O.support.style||(O.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),O.support.optSelected||(O.propHooks.selected=O.extend(O.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),O.support.enctype||(O.propFix.enctype="encoding"),O.support.checkOn||O.each(["radio","checkbox"],function(){O.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),O.each(["radio","checkbox"],function(){O.valHooks[this]=O.extend(O.valHooks[this],{set:function(e,t){return O.isArray(t)?e.checked=O.inArray(O(e).val(),t)>=0:void 0}})});var J=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,ee=/\bhover(\.\S+)?\b/,te=/^key/,ne=/^(?:mouse|contextmenu)|click/,re=/^(?:focusinfocus|focusoutblur)$/,ie=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,oe=function(e){var t=ie.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},ae=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},se=function(e){return O.event.special.hover?e:e.replace(ee,"mouseenter$1 mouseleave$1")};O.event={add:function(e,n,r,i,o){var a,s,l,c,u,d,p,h,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(a=O._data(e))){for(r.handler&&(f=r,r=f.handler),r.guid||(r.guid=O.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof O||e&&O.event.triggered===e.type?t:O.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=O.trim(se(n)).split(" "),c=0;c<n.length;c++)u=Z.exec(n[c])||[],d=u[1],p=(u[2]||"").split(".").sort(),g=O.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=O.event.special[d]||{},h=O.extend({type:d,origType:u[1],data:i,handler:r,guid:r.guid,selector:o,quick:oe(o),namespace:p.join(".")},f),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,p,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),
g.add&&(g.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),o?m.splice(m.delegateCount++,0,h):m.push(h),O.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,l,c,u,d,p,h,f,m,g,v=O.hasData(e)&&O._data(e);if(v&&(p=v.events)){for(t=O.trim(se(t||"")).split(" "),o=0;o<t.length;o++)if(a=Z.exec(t[o])||[],s=l=a[1],c=a[2],s){for(h=O.event.special[s]||{},s=(r?h.delegateType:h.bindType)||s,m=p[s]||[],u=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],!i&&l!==g.origType||n&&n.guid!==g.guid||c&&!c.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,h.remove&&h.remove.call(e,g));0===m.length&&u!==m.length&&(h.teardown&&h.teardown.call(e,c)!==!1||O.removeEvent(e,s,v.handle),delete p[s])}else for(s in p)O.event.remove(e,s+t[o],n,r,!0);O.isEmptyObject(p)&&(f=v.handle,f&&(f.elem=null),O.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,c,u,d,p,h,f,m,g=n.type||n,v=[];if(!re.test(g+O.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),i&&!O.event.customEvent[g]||O.event.global[g]))if(n="object"==typeof n?n[O.expando]?n:new O.Event(g,n):new O.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?O.makeArray(r):[],r.unshift(n),p=O.event.special[g]||{},!p.trigger||p.trigger.apply(i,r)!==!1){if(f=[[i,p.bindType||g]],!o&&!p.noBubble&&!O.isWindow(i)){for(m=p.delegateType||g,c=re.test(m+g)?i:i.parentNode,u=null;c;c=c.parentNode)f.push([c,m]),u=c;u&&u===i.ownerDocument&&f.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)c=f[l][0],n.type=f[l][1],h=(O._data(c,"events")||{})[n.type]&&O._data(c,"handle"),h&&h.apply(c,r),h=d&&c[d],h&&O.acceptData(c)&&h.apply(c,r)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&O.nodeName(i,"a")||!O.acceptData(i)||d&&i[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!O.isWindow(i)&&(u=i[d],u&&(i[d]=null),O.event.triggered=g,i[g](),O.event.triggered=t,u&&(i[d]=u)),n.result}}else{a=O.cache;for(l in a)a[l].events&&a[l].events[g]&&O.event.trigger(n,r,a[l].handle.elem,!0)}}},dispatch:function(n){n=O.event.fix(n||e.event);var r,i,o,a,s,l,c,u,d,p,h=(O._data(this,"events")||{})[n.type]||[],f=h.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,v=[];if(m[0]=n,n.delegateTarget=this,f&&!n.target.disabled&&(!n.button||"click"!==n.type))for(a=O(this),a.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this){for(l={},u=[],a[0]=o,r=0;f>r;r++)d=h[r],p=d.selector,l[p]===t&&(l[p]=d.quick?ae(o,d.quick):a.is(p)),l[p]&&u.push(d);u.length&&v.push({elem:o,matches:u})}for(h.length>f&&v.push({elem:this,matches:h.slice(f)}),r=0;r<v.length&&!n.isPropagationStopped();r++)for(c=v[r],n.currentTarget=c.elem,i=0;i<c.matches.length&&!n.isImmediatePropagationStopped();i++)d=c.matches[i],(g||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,s=((O.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,m),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||M,i=r.documentElement,o=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[O.expando])return e;var n,r,i=e,o=O.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=O.Event(i),n=a.length;n;)r=a[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||M),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,i):e},special:{ready:{setup:O.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){O.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=O.extend(new O.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?O.event.trigger(i,null,t):O.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},O.event.handle=O.event.dispatch,O.removeEvent=M.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},O.Event=function(e,t){return this instanceof O.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:a):this.type=e,t&&O.extend(this,t),this.timeStamp=e&&e.timeStamp||O.now(),void(this[O.expando]=!0)):new O.Event(e,t)},O.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},O.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){O.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;o.selector;return(!i||i!==r&&!O.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),O.support.submitBubbles||(O.event.special.submit={setup:function(){return O.nodeName(this,"form")?!1:void O.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=O.nodeName(n,"input")||O.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(O.event.add(r,"submit._submit",function(e){this.parentNode&&!e.isTrigger&&O.event.simulate("submit",this.parentNode,e,!0)}),r._submit_attached=!0)})},teardown:function(){return O.nodeName(this,"form")?!1:void O.event.remove(this,"._submit")}}),O.support.changeBubbles||(O.event.special.change={setup:function(){return J.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(O.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),O.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,O.event.simulate("change",this,e,!0))})),!1):void O.event.add(this,"beforeactivate._change",function(e){var t=e.target;J.test(t.nodeName)&&!t._change_attached&&(O.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||O.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return O.event.remove(this,"._change"),J.test(this.nodeName)}}),O.support.focusinBubbles||O.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){O.event.simulate(t,e.target,O.event.fix(e),!0)};O.event.special[t]={setup:function(){0===n++&&M.addEventListener(e,r,!0)},teardown:function(){0===--n&&M.removeEventListener(e,r,!0)}}}),O.fn.extend({on:function(e,n,r,i,o){var s,l;if("object"==typeof e){"string"!=typeof n&&(r=n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(e){return O().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=O.guid++)),this.each(function(){O.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on.call(this,e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return O(e.delegateTarget).off(i.namespace?i.type+"."+i.namespace:i.type,i.selector,i.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=a),this.each(function(){O.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return O(this.context).on(e,this.selector,t,n),this},die:function(e,t){return O(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){O.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?O.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||O.guid++,r=0,i=function(n){var i=(O._data(this,"lastToggle"+e.guid)||0)%r;return O._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),O.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){O.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},O.attrFn&&(O.attrFn[t]=!0),te.test(t)&&(O.event.fixHooks[t]=O.event.keyHooks),ne.test(t)&&(O.event.fixHooks[t]=O.event.mouseHooks)}),function(){function e(e,t,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var c=r[s];if(c){var u=!1;for(c=c[e];c;){if(c[i]===n){u=r[c.sizset];break}if(1!==c.nodeType||a||(c[i]=n,c.sizset=s),c.nodeName.toLowerCase()===t){u=c;break}c=c[e]}r[s]=u}}}function n(e,t,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var c=r[s];if(c){var u=!1;for(c=c[e];c;){if(c[i]===n){u=r[c.sizset];break}if(1===c.nodeType)if(a||(c[i]=n,c.sizset=s),"string"!=typeof t){if(c===t){u=!0;break}}else if(p.filter(t,[c]).length>0){u=c;break}c=c[e]}r[s]=u}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var p=function(e,t,n,i){n=n||[],t=t||M;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,c,u,d,h,g,v,b=!0,C=p.isXML(t),w=[],E=e;do if(r.exec(""),s=r.exec(E),s&&(E=s[3],w.push(s[1]),s[2])){u=s[3];break}while(s);if(w.length>1&&m.exec(e))if(2===w.length&&f.relative[w[0]])l=_(w[0]+w[1],t,i);else for(l=f.relative[w[0]]?[t]:p(w.shift(),t);w.length;)e=w.shift(),f.relative[e]&&(e+=w.shift()),l=_(e,l,i);else if(!i&&w.length>1&&9===t.nodeType&&!C&&f.match.ID.test(w[0])&&!f.match.ID.test(w[w.length-1])&&(d=p.find(w.shift(),t,C),t=d.expr?p.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=i?{expr:w.pop(),set:y(i)}:p.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,C),l=d.expr?p.filter(d.expr,d.set):d.set,w.length>0?c=y(l):b=!1;w.length;)h=w.pop(),g=h,f.relative[h]?g=w.pop():h="",null==g&&(g=t),f.relative[h](c,g,C);else c=w=[];if(c||(c=l),c||p.error(h||e),"[object Array]"===a.call(c))if(b)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&p.contains(t,c[v]))&&n.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&n.push(l[v]);else n.push.apply(n,c);else y(c,n);return u&&(p(u,o,n,i),p.uniqueSort(n)),n};p.uniqueSort=function(e){if(C&&(s=l,e.sort(C),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},p.matches=function(e,t){return p(e,null,null,t)},p.matchesSelector=function(e,t){return p(t,null,null,[e]).length>0},p.find=function(e,t,n){var r,i,o,a,s,l;if(!e)return[];for(i=0,o=f.order.length;o>i;i++)if(s=f.order[i],(a=f.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(c,""),r=f.find[s](a,t,n),null!=r))){e=e.replace(f.match[s],"");break}return r||(r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},p.filter=function(e,n,r,i){for(var o,a,s,l,c,u,d,h,m,g=e,v=[],y=n,b=n&&n[0]&&p.isXML(n[0]);e&&n.length;){for(s in f.filter)if(null!=(o=f.leftMatch[s].exec(e))&&o[2]){if(u=f.filter[s],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),f.preFilter[s])if(o=f.preFilter[s](o,y,r,v,i,b)){if(o===!0)continue}else a=l=!0;if(o)for(h=0;null!=(c=y[h]);h++)c&&(l=u(c,o,h,y),m=i^l,r&&null!=l?m?a=!0:y[h]=!1:m&&(v.push(c),a=!0));if(l!==t){if(r||(y=v),e=e.replace(f.match[s],""),!a)return[];break}}if(e===g){if(null!=a)break;p.error(e)}g=e}return y},p.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var h=p.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)i+=h(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=h(n));return i},f=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!d.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;s>a;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&p.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!d.test(t)){for(t=t.toLowerCase();o>i;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;o>i;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&p.filter(t,e,!0)}},"":function(t,r,i){var a,s=o++,l=n;"string"!=typeof r||d.test(r)||(r=r.toLowerCase(),a=r,l=e),l("parentNode",r,s,t,a,i)},"~":function(t,r,i){var a,s=o++,l=n;"string"!=typeof r||d.test(r)||(r=r.toLowerCase(),a=r,l=e),l("previousSibling",r,s,t,a,i)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;o>i;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(c,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e,t){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||p.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&p.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(c,"");return!o&&f.attrMap[a]&&(e[1]=f.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,o){if("not"===e[1]){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=p.filter(e[3],t,n,!0^o);return n||i.push.apply(i,a),!1}e[3]=p(e[3],null,null,t)}else if(f.match.POS.test(e[0])||f.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!p(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=f.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||h([e])||"").indexOf(t[3])>=0;if("not"===i){for(var a=t[3],s=0,l=a.length;l>s;s++)if(a[s]===e)return!1;return!0}p.error(i)},CHILD:function(e,t){var n,r,o,a,s,l,c=t[1],u=e;switch(c){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===c)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(n=t[2],r=t[3],1===n&&0===r)return!0;if(o=t[0],a=e.parentNode,a&&(a[i]!==o||!e.nodeIndex)){for(s=0,u=a.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++s);a[i]=o}return l=e.nodeIndex-r,0===n?0===l:l%n===0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=p.attr?p.attr(e,n):f.attrHandle[n]?f.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&p.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o?i===a||i.substr(0,a.length+1)===a+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],o=f.setFilters[i];return o?o(e,n,t,r):void 0}}},m=f.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in f.match)f.match[v]=new RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,g));var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(M.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(r,e);else if("number"==typeof e.length)for(var i=e.length;i>n;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var C,w;M.documentElement.compareDocumentPosition?C=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(C=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],a=e.parentNode,l=t.parentNode,c=a;if(a===l)return w(e,t);if(!a)return-1;if(!l)return 1;for(;c;)i.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=i.length,r=o.length;for(var u=0;n>u&&r>u;u++)if(i[u]!==o[u])return w(i[u],o[u]);return u===n?w(e,o[u],-1):w(i[u],t,1)},w=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=M.createElement("div"),n="script"+(new Date).getTime(),r=M.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),M.getElementById(n)&&(f.find.ID=function(e,n,r){if("undefined"!=typeof n.getElementById&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||"undefined"!=typeof i.getAttributeNode&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},f.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=M.createElement("div");e.appendChild(M.createComment("")),e.getElementsByTagName("*").length>0&&(f.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(f.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),M.querySelectorAll&&!function(){var e=p,t=M.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){p=function(t,r,i,o){if(r=r||M,!o&&!p.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return y(r.getElementsByTagName(t),i);if(a[2]&&f.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===t&&r.body)return y([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return y([],i);if(s.id===a[3])return y([s],i)}try{return y(r.querySelectorAll(t),i)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var c=r,u=r.getAttribute("id"),d=u||n,h=r.parentNode,m=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):r.setAttribute("id",d),m&&h&&(r=r.parentNode);try{if(!m||h)return y(r.querySelectorAll("[id='"+d+"'] "+t),i)}catch(g){}finally{u||c.removeAttribute("id")}}}return e(t,r,i,o)};for(var r in e)p[r]=e[r];t=null}}(),function(){var e=M.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(M.createElement("div"),"div"),r=!1;try{t.call(M.documentElement,"[test!='']:sizzle")}catch(i){r=!0}p.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!p.isXML(e))try{if(r||!f.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=t.call(e,i);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(a){}return p(i,null,null,[e]).length>0}}}(),function(){var e=M.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),M.documentElement.contains?p.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:M.documentElement.compareDocumentPosition?p.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:p.contains=function(){return!1},p.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var _=function(e,t,n){for(var r,i=[],o="",a=t.nodeType?[t]:t;r=f.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(f.match.PSEUDO,"");e=f.relative[e]?e+"*":e;for(var s=0,l=a.length;l>s;s++)p(e,a[s],i,n);return p.filter(o,i)};p.attr=O.attr,p.selectors.attrMap={},O.find=p,O.expr=p.selectors,O.expr[":"]=O.expr.filters,O.unique=p.uniqueSort,O.text=p.getText,O.isXMLDoc=p.isXML,O.contains=p.contains}();var le=/Until$/,ce=/^(?:parents|prevUntil|prevAll)/,ue=/,/,de=/^.[^:#\[\.,]*$/,pe=Array.prototype.slice,he=O.expr.match.POS,fe={children:!0,contents:!0,next:!0,prev:!0};O.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return O(e).filter(function(){for(t=0,n=r.length;n>t;t++)if(O.contains(r[t],this))return!0});var i,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(i=s.length,O.find(e,this[t],s),t>0)for(o=i;o<s.length;o++)for(a=0;i>a;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=O(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(O.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?he.test(e)?O(e,this.context).index(this[0])>=0:O.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],o=this[0];if(O.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)O(o).is(e[n])&&i.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=he.test(e)||"string"!=typeof e?O(e,t||this.context):0;for(n=0,r=this.length;r>n;n++)for(o=this[n];o;){if(s?s.index(o)>-1:O.find.matchesSelector(o,e)){i.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||11===o.nodeType)break}return i=i.length>1?O.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?O.inArray(this[0],O(e)):O.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?O(e,t):O.makeArray(e&&e.nodeType?[e]:e),r=O.merge(this.get(),n);return this.pushStack(l(n[0])||l(r[0])?r:O.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),O.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O.dir(e,"parentNode")},parentsUntil:function(e,t,n){return O.dir(e,"parentNode",n)},next:function(e){return O.nth(e,2,"nextSibling")},prev:function(e){return O.nth(e,2,"previousSibling")},nextAll:function(e){return O.dir(e,"nextSibling")},prevAll:function(e){return O.dir(e,"previousSibling")},nextUntil:function(e,t,n){return O.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return O.dir(e,"previousSibling",n)},siblings:function(e){return O.sibling(e.parentNode.firstChild,e)},children:function(e){return O.sibling(e.firstChild)},contents:function(e){return O.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:O.makeArray(e.childNodes)}},function(e,t){O.fn[e]=function(n,r){var i=O.map(this,t,n);return le.test(e)||(r=n),r&&"string"==typeof r&&(i=O.filter(r,i)),i=this.length>1&&!fe[e]?O.unique(i):i,(this.length>1||ue.test(r))&&ce.test(e)&&(i=i.reverse()),this.pushStack(i,e,pe.call(arguments).join(","))}}),O.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?O.find.matchesSelector(t[0],e)?[t[0]]:[]:O.find.matches(e,t)},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!O(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},nth:function(e,t,n,r){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var me="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ge=/ jQuery\d+="(?:\d+|null)"/g,ve=/^\s+/,ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,be=/<([\w:]+)/,Ce=/<tbody/i,we=/<|&#?\w+;/,_e=/<(?:script|style)/i,Ee=/<(?:script|object|embed|option|style)/i,xe=new RegExp("<(?:"+me+")","i"),Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/\/(java|ecma)script/i,Ne=/^\s*<!(?:\[CDATA\[|\-\-)/,ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Re=u(M);ke.optgroup=ke.option,ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,O.support.htmlSerialize||(ke._default=[1,"div<div>","</div>"]),O.fn.extend({text:function(e){return O.isFunction(e)?this.each(function(t){var n=O(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(e)):O.text(this)},wrapAll:function(e){if(O.isFunction(e))return this.each(function(t){O(this).wrapAll(e.call(this,t))});if(this[0]){var t=O(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return O.isFunction(e)?this.each(function(t){O(this).wrapInner(e.call(this,t))}):this.each(function(){var t=O(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=O.isFunction(e);return this.each(function(n){O(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){O.nodeName(this,"body")||O(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=O.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,O.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||O.filter(e,[n]).length)&&(t||1!==n.nodeType||(O.cleanData(n.getElementsByTagName("*")),O.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&O.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return O.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(ge,""):null;if("string"!=typeof e||_e.test(e)||!O.support.leadingWhitespace&&ve.test(e)||ke[(be.exec(e)||["",""])[1].toLowerCase()])O.isFunction(e)?this.each(function(t){var n=O(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(ye,"<$1></$2>");try{for(var n=0,r=this.length;r>n;n++)1===this[n].nodeType&&(O.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(i){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?O.isFunction(e)?this.each(function(t){var n=O(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=O(e).detach()),this.each(function(){
var t=this.nextSibling,n=this.parentNode;O(this).remove(),t?O(t).before(e):O(n).append(e)})):this.length?this.pushStack(O(O.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,a,s,l=e[0],c=[];if(!O.support.checkClone&&3===arguments.length&&"string"==typeof l&&Te.test(l))return this.each(function(){O(this).domManip(e,n,r,!0)});if(O.isFunction(l))return this.each(function(i){var o=O(this);e[0]=l.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){if(s=l&&l.parentNode,i=O.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:O.buildFragment(e,this,c),a=i.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild){n=n&&O.nodeName(o,"tr");for(var u=0,p=this.length,h=p-1;p>u;u++)r.call(n?d(this[u],o):this[u],i.cacheable||p>1&&h>u?O.clone(a,!0,!0):a)}c.length&&O.each(c,y)}return this}}),O.buildFragment=function(e,t,n){var r,i,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=M),!(1===e.length&&"string"==typeof s&&s.length<512&&a===M&&"<"===s.charAt(0))||Ee.test(s)||!O.support.checkClone&&Te.test(s)||!O.support.html5Clone&&xe.test(s)||(i=!0,o=O.fragments[s],o&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),O.clean(e,a,r,n)),i&&(O.fragments[s]=o?r:1),{fragment:r,cacheable:i}},O.fragments={},O.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){O.fn[e]=function(n){var r=[],i=O(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var a=0,s=i.length;s>a;a++){var l=(a>0?this.clone(!0):this).get();O(i[a])[t](l),r=r.concat(l)}return this.pushStack(r,e,i.selector)}}),O.extend({clone:function(e,t,n){var r,i,o,a=O.support.html5Clone||!xe.test("<"+e.nodeName)?e.cloneNode(!0):v(e);if(!(O.support.noCloneEvent&&O.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||O.isXMLDoc(e)))for(h(e,a),r=f(e),i=f(a),o=0;r[o];++o)i[o]&&h(r[o],i[o]);if(t&&(p(e,a),n))for(r=f(e),i=f(a),o=0;r[o];++o)p(r[o],i[o]);return r=i=null,a},clean:function(e,t,n,r){var i;t=t||M,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||M);for(var o,a,s=[],l=0;null!=(a=e[l]);l++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(we.test(a)){a=a.replace(ye,"<$1></$2>");var c=(be.exec(a)||["",""])[1].toLowerCase(),d=ke[c]||ke._default,p=d[0],h=t.createElement("div");for(t===M?Re.appendChild(h):u(t).appendChild(h),h.innerHTML=d[1]+a+d[2];p--;)h=h.lastChild;if(!O.support.tbody){var f=Ce.test(a),m="table"!==c||f?"<table>"!==d[1]||f?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes;for(o=m.length-1;o>=0;--o)O.nodeName(m[o],"tbody")&&!m[o].childNodes.length&&m[o].parentNode.removeChild(m[o])}!O.support.leadingWhitespace&&ve.test(a)&&h.insertBefore(t.createTextNode(ve.exec(a)[0]),h.firstChild),a=h.childNodes}else a=t.createTextNode(a);var v;if(!O.support.appendChecked)if(a[0]&&"number"==typeof(v=a.length))for(o=0;v>o;o++)g(a[o]);else g(a);a.nodeType?s.push(a):s=O.merge(s,a)}if(n)for(i=function(e){return!e.type||Se.test(e.type)},l=0;s[l];l++)if(!r||!O.nodeName(s[l],"script")||s[l].type&&"text/javascript"!==s[l].type.toLowerCase()){if(1===s[l].nodeType){var y=O.grep(s[l].getElementsByTagName("script"),i);s.splice.apply(s,[l+1,0].concat(y))}n.appendChild(s[l])}else r.push(s[l].parentNode?s[l].parentNode.removeChild(s[l]):s[l]);return s},cleanData:function(e){for(var t,n,r,i=O.cache,o=O.event.special,a=O.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!O.noData[r.nodeName.toLowerCase()])&&(n=r[O.expando])){if(t=i[n],t&&t.events){for(var l in t.events)o[l]?O.event.remove(r,l):O.removeEvent(r,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete r[O.expando]:r.removeAttribute&&r.removeAttribute(O.expando),delete i[n]}}});var Ie,Pe,Ae,Me=/alpha\([^)]*\)/i,De=/opacity=([^)]*)/,Le=/([A-Z]|^ms)/g,Oe=/^-?\d+(?:px)?$/i,Be=/^-?\d/,Fe=/^([\-+])=([\-+.\de]+)/,$e={position:"absolute",visibility:"hidden",display:"block"},Ue=["Left","Right"],je=["Top","Bottom"];O.fn.css=function(e,n){return 2===arguments.length&&n===t?this:O.access(this,e,n,!0,function(e,n,r){return r!==t?O.style(e,n,r):O.css(e,n)})},O.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ie(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":O.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=O.camelCase(n),l=e.style,c=O.cssHooks[s];if(n=O.cssProps[s]||s,r===t)return c&&"get"in c&&(o=c.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Fe.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(O.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||O.cssNumber[s]||(r+="px"),c&&"set"in c&&(r=c.set(e,r))===t)))try{l[n]=r}catch(u){}}},css:function(e,n,r){var i,o;return n=O.camelCase(n),o=O.cssHooks[n],n=O.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(i=o.get(e,!0,r))!==t?i:Ie?Ie(e,n):void 0},swap:function(e,t,n){var r={};for(var i in t)r[i]=e.style[i],e.style[i]=t[i];n.call(e);for(i in t)e.style[i]=r[i]}}),O.curCSS=O.css,O.each(["height","width"],function(e,t){O.cssHooks[t]={get:function(e,n,r){var i;return n?0!==e.offsetWidth?b(e,t,r):(O.swap(e,$e,function(){i=b(e,t,r)}),i):void 0},set:function(e,t){return Oe.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),O.support.opacity||(O.cssHooks.opacity={get:function(e,t){return De.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=O.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===O.trim(o.replace(Me,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Me.test(o)?o.replace(Me,i):o+" "+i)}}),O(function(){O.support.reliableMarginRight||(O.cssHooks.marginRight={get:function(e,t){var n;return O.swap(e,{display:"inline-block"},function(){n=t?Ie(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),M.defaultView&&M.defaultView.getComputedStyle&&(Pe=function(e,t){var n,r,i;return t=t.replace(Le,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),""!==n||O.contains(e.ownerDocument.documentElement,e)||(n=O.style(e,t))),n}),M.documentElement.currentStyle&&(Ae=function(e,t){var n,r,i,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null===o&&a&&(i=a[t])&&(o=i),!Oe.test(o)&&Be.test(o)&&(n=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o||0,o=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),Ie=Pe||Ae,O.expr&&O.expr.filters&&(O.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!O.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||O.css(e,"display"))},O.expr.filters.visible=function(e){return!O.expr.filters.hidden(e)});var He,qe,Ve=/%20/g,We=/\[\]$/,ze=/\r?\n/g,Ke=/#.*$/,Ge=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xe=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ye=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Je=/^\/\//,Ze=/\?/,et=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tt=/^(?:select|textarea)/i,nt=/\s+/,rt=/([?&])_=[^&]*/,it=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ot=O.fn.load,at={},st={},lt=["*/"]+["*"];try{He=L.href}catch(ct){He=M.createElement("a"),He.href="",He=He.href}qe=it.exec(He.toLowerCase())||[],O.fn.extend({load:function(e,n,r){if("string"!=typeof e&&ot)return ot.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var a="GET";n&&(O.isFunction(n)?(r=n,n=t):"object"==typeof n&&(n=O.param(n,O.ajaxSettings.traditional),a="POST"));var s=this;return O.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(o?O("<div>").append(n.replace(et,"")).find(o):n)),r&&s.each(r,[n,t,e])}}),this},serialize:function(){return O.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?O.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tt.test(this.nodeName)||Xe.test(this.type))}).map(function(e,t){var n=O(this).val();return null==n?null:O.isArray(n)?O.map(n,function(e,n){return{name:t.name,value:e.replace(ze,"\r\n")}}):{name:t.name,value:n.replace(ze,"\r\n")}}).get()}}),O.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){O.fn[t]=function(e){return this.on(t,e)}}),O.each(["get","post"],function(e,n){O[n]=function(e,r,i,o){return O.isFunction(r)&&(o=o||i,i=r,r=t),O.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),O.extend({getScript:function(e,n){return O.get(e,t,n,"script")},getJSON:function(e,t,n){return O.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?_(e,O.ajaxSettings):(t=e,e=O.ajaxSettings),_(e,t),e},ajaxSettings:{url:He,isLocal:Ye.test(qe[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":lt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":O.parseJSON,"text xml":O.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(at),ajaxTransport:C(st),ajax:function(e,n){function r(e,n,r,a){if(2!==C){C=2,l&&clearTimeout(l),s=t,o=a||"",_.readyState=e>0?4:0;var c,d,y,b,w,E=n,S=r?x(p,_,r):t;if(e>=200&&300>e||304===e)if(p.ifModified&&((b=_.getResponseHeader("Last-Modified"))&&(O.lastModified[i]=b),(w=_.getResponseHeader("Etag"))&&(O.etag[i]=w)),304===e)E="notmodified",c=!0;else try{d=T(p,S),E="success",c=!0}catch(N){E="parsererror",y=N}else y=E,(!E||e)&&(E="error",0>e&&(e=0));_.status=e,_.statusText=""+(n||E),c?m.resolveWith(h,[d,E,_]):m.rejectWith(h,[_,E,y]),_.statusCode(v),v=t,u&&f.trigger("ajax"+(c?"Success":"Error"),[_,p,c?d:y]),g.fireWith(h,[_,E]),u&&(f.trigger("ajaxComplete",[_,p]),--O.active||O.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,c,u,d,p=O.ajaxSetup({},n),h=p.context||p,f=h!==p&&(h.nodeType||h instanceof O)?O(h):O.event,m=O.Deferred(),g=O.Callbacks("once memory"),v=p.statusCode||{},y={},b={},C=0,_={readyState:0,setRequestHeader:function(e,t){if(!C){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===C?o:null},getResponseHeader:function(e){var n;if(2===C){if(!a)for(a={};n=Ge.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return C||(p.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),r(0,e),this}};if(m.promise(_),_.success=_.done,_.error=_.fail,_.complete=g.add,_.statusCode=function(e){if(e){var t;if(2>C)for(t in e)v[t]=[v[t],e[t]];else t=e[_.status],_.then(t,t)}return this},p.url=((e||p.url)+"").replace(Ke,"").replace(Je,qe[1]+"//"),p.dataTypes=O.trim(p.dataType||"*").toLowerCase().split(nt),null==p.crossDomain&&(c=it.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]==qe[1]&&c[2]==qe[2]&&(c[3]||("http:"===c[1]?80:443))==(qe[3]||("http:"===qe[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=O.param(p.data,p.traditional)),w(at,p,n,_),2===C)return!1;if(u=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Qe.test(p.type),u&&0===O.active++&&O.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Ze.test(p.url)?"&":"?")+p.data,delete p.data),i=p.url,p.cache===!1)){var E=O.now(),S=p.url.replace(rt,"$1_="+E);p.url=S+(S===p.url?(Ze.test(p.url)?"&":"?")+"_="+E:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(i=i||p.url,O.lastModified[i]&&_.setRequestHeader("If-Modified-Since",O.lastModified[i]),O.etag[i]&&_.setRequestHeader("If-None-Match",O.etag[i])),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+lt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(h,_,p)===!1||2===C))return _.abort(),!1;for(d in{success:1,error:1,complete:1})_[d](p[d]);if(s=w(st,p,n,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},p.timeout));try{C=1,s.send(y,r)}catch(N){if(!(2>C))throw N;r(-1,N)}}else r(-1,"No Transport");return _},param:function(e,n){var r=[],i=function(e,t){t=O.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=O.ajaxSettings.traditional),O.isArray(e)||e.jquery&&!O.isPlainObject(e))O.each(e,function(){i(this.name,this.value)});else for(var o in e)E(o,e[o],n,i);return r.join("&").replace(Ve,"+")}}),O.extend({active:0,lastModified:{},etag:{}});var ut=O.now(),dt=/(\=)\?(&|$)|\?\?/i;O.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return O.expando+"_"+ut++}}),O.ajaxPrefilter("json jsonp",function(t,n,r){var i="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(dt.test(t.url)||i&&dt.test(t.data))){var o,a=t.jsonpCallback=O.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,c=t.data,u="$1"+a+"$2";return t.jsonp!==!1&&(l=l.replace(dt,u),t.url===l&&(i&&(c=c.replace(dt,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=c,e[a]=function(e){o=[e]},r.always(function(){e[a]=s,o&&O.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||O.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),O.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return O.globalEval(e),e}}}),O.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),O.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=M.head||M.getElementsByTagName("head")[0]||M.documentElement;return{send:function(i,o){n=M.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var pt,ht=e.ActiveXObject?function(){for(var e in pt)pt[e](0,1)}:!1,ft=0;O.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&S()||N()}:S,function(e){O.extend(O.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(O.ajaxSettings.xhr()),O.support.ajax&&O.ajaxTransport(function(n){if(!n.crossDomain||O.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,c,u,d,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=O.noop,ht&&delete pt[a]),i)4!==l.readyState&&l.abort();else{s=l.status,u=l.getAllResponseHeaders(),d={},p=l.responseXML,p&&p.documentElement&&(d.xml=p),d.text=l.responseText;try{c=l.statusText}catch(h){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(f){i||o(-1,f)}d&&o(s,c,d,u)},n.async&&4!==l.readyState?(a=++ft,ht&&(pt||(pt={},O(e).unload(ht)),pt[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var mt,gt,vt,yt,bt={},Ct=/^(?:toggle|show|hide)$/,wt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,_t=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];O.fn.extend({show:function(e,t,n){var r,i;if(e||0===e)return this.animate(I("show",3),e,t,n);for(var o=0,a=this.length;a>o;o++)r=this[o],r.style&&(i=r.style.display,O._data(r,"olddisplay")||"none"!==i||(i=r.style.display=""),""===i&&"none"===O.css(r,"display")&&O._data(r,"olddisplay",P(r.nodeName)));for(o=0;a>o;o++)r=this[o],r.style&&(i=r.style.display,(""===i||"none"===i)&&(r.style.display=O._data(r,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(I("hide",3),e,t,n);for(var r,i,o=0,a=this.length;a>o;o++)r=this[o],r.style&&(i=O.css(r,"display"),"none"===i||O._data(r,"olddisplay")||O._data(r,"olddisplay",i));for(o=0;a>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:O.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return O.isFunction(e)&&O.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:O(this).is(":hidden");O(this)[t?"show":"hide"]()}):this.animate(I("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){function i(){o.queue===!1&&O._mark(this);var t,n,r,i,a,s,l,c,u,d=O.extend({},o),p=1===this.nodeType,h=p&&O(this).is(":hidden");d.animatedProperties={};for(r in e){if(t=O.camelCase(r),r!==t&&(e[t]=e[r],delete e[r]),n=e[t],O.isArray(n)?(d.animatedProperties[t]=n[1],n=e[t]=n[0]):d.animatedProperties[t]=d.specialEasing&&d.specialEasing[t]||d.easing||"swing","hide"===n&&h||"show"===n&&!h)return d.complete.call(this);!p||"height"!==t&&"width"!==t||(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===O.css(this,"display")&&"none"===O.css(this,"float")&&(O.support.inlineBlockNeedsLayout&&"inline"!==P(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=d.overflow&&(this.style.overflow="hidden");for(r in e)i=new O.fx(this,d,r),n=e[r],Ct.test(n)?(u=O._data(this,"toggle"+r)||("toggle"===n?h?"show":"hide":0),u?(O._data(this,"toggle"+r,"show"===u?"hide":"show"),i[u]()):i[n]()):(a=wt.exec(n),s=i.cur(),a?(l=parseFloat(a[2]),c=a[3]||(O.cssNumber[r]?"":"px"),"px"!==c&&(O.style(this,r,(l||1)+c),s=(l||1)/i.cur()*s,O.style(this,r,s+c)),a[1]&&(l=("-="===a[1]?-1:1)*l+s),i.custom(s,l,c)):i.custom(s,n,""));return!0}var o=O.speed(t,n,r);return O.isEmptyObject(e)?this.each(o.complete,[!1]):(e=O.extend({},e),o.queue===!1?this.each(i):this.queue(o.queue,i))},stop:function(e,n,r){return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];O.removeData(e,n,!0),i.stop(r)}var n,i=!1,o=O.timers,a=O._data(this);if(r||O._unmark(!0,this),null==e)for(n in a)a[n]&&a[n].stop&&n.indexOf(".run")===n.length-4&&t(this,a,n);else a[n=e+".run"]&&a[n].stop&&t(this,a,n);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(r?o[n](!0):o[n].saveState(),i=!0,o.splice(n,1));r&&i||O.dequeue(this,e)})}}),O.each({slideDown:I("show",1),slideUp:I("hide",1),slideToggle:I("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){O.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),O.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?O.extend({},e):{complete:n||!n&&t||O.isFunction(e)&&e,duration:e,easing:n&&t||t&&!O.isFunction(t)&&t};return r.duration=O.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in O.fx.speeds?O.fx.speeds[r.duration]:O.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(e){O.isFunction(r.old)&&r.old.call(this),r.queue?O.dequeue(this,r.queue):e!==!1&&O._unmark(this)},r},easing:{linear:function(e,t,n,r){return n+r*e},swing:function(e,t,n,r){return(-Math.cos(e*Math.PI)/2+.5)*r+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),O.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(O.fx.step[this.prop]||O.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=O.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,r){function i(e){return o.step(e)}var o=this,a=O.fx;this.startTime=yt||k(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(O.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){o.options.hide&&O._data(o.elem,"fxshow"+o.prop)===t&&O._data(o.elem,"fxshow"+o.prop,o.start)},i()&&O.timers.push(i)&&!vt&&(vt=setInterval(a.tick,a.interval))},show:function(){var e=O._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||O.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),O(this.elem).show()},hide:function(){this.options.orig[this.prop]=O._data(this.elem,"fxshow"+this.prop)||O.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=yt||k(),o=!0,a=this.elem,s=this.options;if(e||i>=s.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0;for(t in s.animatedProperties)s.animatedProperties[t]!==!0&&(o=!1);if(o){if(null==s.overflow||O.support.shrinkWrapBlocks||O.each(["","X","Y"],function(e,t){a.style["overflow"+t]=s.overflow[e]}),s.hide&&O(a).hide(),s.hide||s.show)for(t in s.animatedProperties)O.style(a,t,s.orig[t]),O.removeData(a,"fxshow"+t,!0),O.removeData(a,"toggle"+t,!0);r=s.complete,r&&(s.complete=!1,r.call(a))}return!1}return s.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/s.duration,this.pos=O.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},O.extend(O.fx,{tick:function(){for(var e,t=O.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||O.fx.stop()},interval:13,stop:function(){clearInterval(vt),vt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){O.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),O.each(["width","height"],function(e,t){O.fx.step[t]=function(e){O.style(e.elem,t,Math.max(0,e.now)+e.unit)}}),O.expr&&O.expr.filters&&(O.expr.filters.animated=function(e){return O.grep(O.timers,function(t){return e===t.elem}).length});var Et=/^t(?:able|d|h)$/i,xt=/^(?:body|html)$/i;"getBoundingClientRect"in M.documentElement?O.fn.offset=function(e){var t,n=this[0];if(e)return this.each(function(t){O.offset.setOffset(this,e,t)});if(!n||!n.ownerDocument)return null;if(n===n.ownerDocument.body)return O.offset.bodyOffset(n);try{t=n.getBoundingClientRect()}catch(r){}var i=n.ownerDocument,o=i.documentElement;if(!t||!O.contains(o,n))return t?{top:t.top,left:t.left}:{top:0,left:0};var a=i.body,s=A(i),l=o.clientTop||a.clientTop||0,c=o.clientLeft||a.clientLeft||0,u=s.pageYOffset||O.support.boxModel&&o.scrollTop||a.scrollTop,d=s.pageXOffset||O.support.boxModel&&o.scrollLeft||a.scrollLeft,p=t.top+u-l,h=t.left+d-c;return{top:p,left:h}}:O.fn.offset=function(e){var t=this[0];if(e)return this.each(function(t){O.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return O.offset.bodyOffset(t);for(var n,r=t.offsetParent,i=t,o=t.ownerDocument,a=o.documentElement,s=o.body,l=o.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==s&&t!==a&&(!O.support.fixedPosition||"fixed"!==c.position);)n=l?l.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,d-=t.scrollLeft,t===r&&(u+=t.offsetTop,d+=t.offsetLeft,!O.support.doesNotAddBorder||O.support.doesAddBorderForTableAndCells&&Et.test(t.nodeName)||(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),i=r,r=t.offsetParent),O.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(u+=s.offsetTop,d+=s.offsetLeft),O.support.fixedPosition&&"fixed"===c.position&&(u+=Math.max(a.scrollTop,s.scrollTop),d+=Math.max(a.scrollLeft,s.scrollLeft)),{top:u,left:d}},O.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return O.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(O.css(e,"marginTop"))||0,n+=parseFloat(O.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=O.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=O(e),s=a.offset(),l=O.css(e,"top"),c=O.css(e,"left"),u=("absolute"===r||"fixed"===r)&&O.inArray("auto",[l,c])>-1,d={},p={};u?(p=a.position(),i=p.top,o=p.left):(i=parseFloat(l)||0,o=parseFloat(c)||0),O.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},O.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=xt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(O.css(e,"marginTop"))||0,n.left-=parseFloat(O.css(e,"marginLeft"))||0,r.top+=parseFloat(O.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(O.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!xt.test(e.nodeName)&&"static"===O.css(e,"position");)e=e.offsetParent;return e})}}),O.each(["Left","Top"],function(e,n){var r="scroll"+n;O.fn[r]=function(n){var i,o;return n===t?(i=this[0])?(o=A(i),o?"pageXOffset"in o?o[e?"pageYOffset":"pageXOffset"]:O.support.boxModel&&o.document.documentElement[r]||o.document.body[r]:i[r]):null:this.each(function(){o=A(this),o?o.scrollTo(e?O(o).scrollLeft():n,e?n:O(o).scrollTop()):this[r]=n})}}),O.each(["Height","Width"],function(e,n){var r=n.toLowerCase();O.fn["inner"+n]=function(){var e=this[0];return e?e.style?parseFloat(O.css(e,r,"padding")):this[r]():null},O.fn["outer"+n]=function(e){var t=this[0];return t?t.style?parseFloat(O.css(t,r,e?"margin":"border")):this[r]():null},O.fn[r]=function(e){var i=this[0];if(!i)return null==e?null:this;if(O.isFunction(e))return this.each(function(t){var n=O(this);n[r](e.call(this,t,n[r]()))});if(O.isWindow(i)){var o=i.document.documentElement["client"+n],a=i.document.body;return"CSS1Compat"===i.document.compatMode&&o||a&&a["client"+n]||o}if(9===i.nodeType)return Math.max(i.documentElement["client"+n],i.body["scroll"+n],i.documentElement["scroll"+n],i.body["offset"+n],i.documentElement["offset"+n]);if(e===t){var s=O.css(i,r),l=parseFloat(s);return O.isNumeric(l)?l:s}return this.css(r,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=O,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return O})}(window),function(e,t){var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},handleRemote:function(r){var i,o,a,s,l=r.data("cross-domain")||null,c=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.fire(r,"ajax:before")){if(r.is("form")){i=r.attr("method"),o=r.attr("action"),a=r.serializeArray();var u=r.data("ujs:submit-button");u&&(a.push(u),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),o=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(i=r.data("method"),o=r.attr("href"),a=r.data("params")||null);return s={type:i||"GET",data:a,dataType:c,crossDomain:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[e,i])},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])}},o&&(s.url=o),n.ajax(s)}return!1},handleMethod:function(n){var r=n.attr("href"),i=n.data("method"),o=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),s=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+i+'" type="hidden" />';s!==t&&a!==t&&(c+='<input name="'+s+'" value="'+a+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,r=e.data("confirm"),i=!1;return r?(n.fire(e,"confirm")&&(i=n.confirm(r),t=n.fire(e,"confirm:complete",[i])),i&&t):!0},blankInputs:function(t,n,r){var i,o=e(),a=n||"input,textarea";return t.find(a).each(function(){i=e(this),(r?i.val():!i.val())&&(o=o.add(i))}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),o=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(r):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(r){var i=e(this),o=i.data("method"),a=i.data("params");return n.allowAction(i)?(i.is(n.linkDisableSelector)&&n.disableElement(i),i.data("remote")!==t?!r.metaKey&&!r.ctrlKey||o&&"GET"!==o||a?(n.handleRemote(i)===!1&&n.enableElement(i),!1):!0:i.data("method")?(n.handleMethod(i),!1):void 0):n.stopEverything(r)}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(r){var i=e(this),o=i.data("remote")!==t,a=n.blankInputs(i,n.requiredInputSelector),s=n.nonBlankInputs(i,n.fileInputSelector);return n.allowAction(i)?a&&i.attr("novalidate")==t&&n.fire(i,"ajax:aborted:required",[a])?n.stopEverything(r):o?s?n.fire(i,"ajax:aborted:file",[s]):!e.support.submitBubbles&&e().jquery<"1.7"&&n.callFormSubmitBindings(i,r)===!1?n.stopEverything(r):(n.handleRemote(i),!1):void setTimeout(function(){n.disableFormElements(i)},13):n.stopEverything(r)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var i=r.attr("name"),o=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",o)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){
this==t.target&&n.enableFormElements(e(this))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,c=s?a:t;return null!=n&&n>=i?"top":null!=r&&l+c>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target);r.hasClass("btn")||(r=r.closest(".btn")),t.call(r,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.5",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var h=s,f=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+p>f.bottom?"top":"top"==s&&u.top-p<f.top?"bottom":"right"==s&&u.right+d>f.width?"left":"left"==s&&u.left-d<f.left?"right":s,o.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,u,d,p);this.applyPlacement(m,s);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),p=d?2*u.left-i+l:2*u.top-o+c,h=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][h],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,r){
return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?i.left=a.left-c:u>a.right&&(i.left=a.left+a.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),window.tinyMCEPreInit=window.tinyMCEPreInit||{base:"/assets/tinymce",query:"3.5.9",suffix:""},function(e){var t,n=/^\s*|\s*$/g,r="$1"==="B".replace(/A(.)|B/,"$1"),i={majorVersion:"3",minorVersion:"5.9",releaseDate:"2013-10-10",_init:function(){function t(e){return e.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(e.src)?(/_(src|dev)\.js/g.test(e.src)&&(l.suffix="_src"),-1!=(a=e.src.indexOf("?"))&&(l.query=e.src.substring(a+1)),l.baseURL=e.src.substring(0,e.src.lastIndexOf("/")),o&&-1==l.baseURL.indexOf("://")&&0!==l.baseURL.indexOf("/")&&(l.baseURL=o+l.baseURL),l.baseURL):null}var n,r,i,o,a,s,l=this,c=document,u=navigator,d=u.userAgent;if(l.isIE11=-1!=d.indexOf("Trident/")&&-1!=d.indexOf("rv:"),l.isOpera=e.opera&&opera.buildNumber,l.isWebKit=/WebKit/.test(d),l.isIE=!l.isWebKit&&!l.isOpera&&/MSIE/gi.test(d)&&/Explorer/gi.test(u.appName)||l.isIE11,l.isIE6=l.isIE&&/MSIE [56]/.test(d),l.isIE7=l.isIE&&/MSIE [7]/.test(d),l.isIE8=l.isIE&&/MSIE [8]/.test(d),l.isIE9=l.isIE&&/MSIE [9]/.test(d),l.isGecko=!l.isWebKit&&!l.isIE11&&/Gecko/.test(d),l.isMac=-1!=d.indexOf("Mac"),l.isAir=/adobeair/i.test(d),l.isIDevice=/(iPad|iPhone)/.test(d),l.isIOS5=l.isIDevice&&d.match(/AppleWebKit\/(\d*)/)[1]>=534,e.tinyMCEPreInit)return l.suffix=tinyMCEPreInit.suffix,l.baseURL=tinyMCEPreInit.base,void(l.query=tinyMCEPreInit.query);for(l.suffix="",r=c.getElementsByTagName("base"),n=0;n<r.length;n++)s=r[n].href,s&&(/^https?:\/\/[^\/]+$/.test(s)&&(s+="/"),o=s?s.match(/.*\//)[0]:"");for(r=c.getElementsByTagName("script"),n=0;n<r.length;n++)if(t(r[n]))return;if(i=c.getElementsByTagName("head")[0])for(r=i.getElementsByTagName("script"),n=0;n<r.length;n++)if(t(r[n]))return},is:function(e,n){return n?"array"==n&&i.isArray(e)?!0:typeof e==n:e!==t},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},makeMap:function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:function(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;o>i;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return 0;return 1},trim:function(e){return(e?""+e:"").replace(n,"")},create:function(e,t,n){var r,i,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],i=l.createNS(e[3].replace(/\.\w+$/,""),n),!i[o]){if("static"==e[2])return i[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[o]));t[o]||(t[o]=function(){},c=1),i[o]=t[o],l.extend(i[o].prototype,t),e[5]&&(r=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[o],c?i[o]=function(){return r[a].apply(this,arguments)}:i[o]=function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],l.each(r,function(e,t){i[o].prototype[t]=r[t]}),l.each(t,function(e,t){r[t]?i[o].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!=o&&(i[o].prototype[t]=e)})),l.each(t["static"],function(e,t){i[o][t]=e}),this.onCreate&&this.onCreate(e[2],e[3],i[o].prototype)}},walk:function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),i.each(e,function(e,o){return t.call(r,e,o,n)===!1?!1:void i.walk(e,t,n,r)}))},createNS:function(t,n){var r,i;for(n=n||e,t=t.split("."),r=0;r<t.length;r++)i=t[r],n[i]||(n[i]={}),n=n[i];return n},resolve:function(t,n){var r,i;for(n=n||e,t=t.split("."),r=0,i=t.length;i>r&&(n=n[t[r]],n);r++);return n},addUnload:function(t,n){function r(){function t(){n.detachEvent("onstop",t),i&&i(),n=0}var n=document;"interactive"==n.readyState&&(n&&n.attachEvent("onstop",t),e.setTimeout(function(){n&&n.detachEvent("onstop",t)},0))}var i,o=this;return i=function(){var t,n,a=o.unloads;if(a){for(n in a)t=a[n],t&&t.func&&t.func.call(t.scope,1);e.detachEvent?(e.detachEvent("onbeforeunload",r),e.detachEvent("onunload",i)):e.removeEventListener&&e.removeEventListener("unload",i,!1),o.unloads=t=a=w=i=0,e.CollectGarbage&&CollectGarbage()}},t={func:t,scope:n||this},o.unloads?o.unloads.push(t):(e.attachEvent?(e.attachEvent("onunload",i),e.attachEvent("onbeforeunload",r)):e.addEventListener&&e.addEventListener("unload",i,!1),o.unloads=[t]),t},removeUnload:function(e){var t=this.unloads,n=null;return i.each(t,function(r,i){return r&&r.func==e?(t.splice(i,1),n=e,!1):void 0}),n},explode:function(e,t){return!e||i.is(e,"array")?e:i.map(e.split(t||","),i.trim)},_addVer:function(e){var t;return this.query?(t=(-1==e.indexOf("?")?"?":"&")+this.query,-1==e.indexOf("#")?e+t:e.replace("#",t+"#")):e},_replace:function(e,n,i){return r?i.replace(e,function(){var e,r=n,i=arguments;for(e=0;e<i.length-2;e++)r=i[e]===t?r.replace(new RegExp("\\$"+e,"g"),""):r.replace(new RegExp("\\$"+e,"g"),i[e]);return r}):i.replace(e,n)}};i._init(),e.tinymce=e.tinyMCE=i}(window),function(e,t){var n,r=(t.is,/^(href|src|style)$/i);if(!e&&window.console)return console.log("Load jQuery first!");t.$=e,t.adapter={patchEditor:function(t){function i(e,t){var n=this;return t&&n.removeAttr("data-mce-style"),s.css.apply(n,arguments)}function o(e,i){var o=this;return r.test(e)?i!==n?(o.each(function(n,r){t.dom.setAttrib(r,e,i)}),o):o.attr("data-mce-"+e):s.attr.apply(o,arguments)}function a(e){return e.css!==i&&(e.css=i,e.attr=o,e.tinymce=t,e.pushStack=function(){return a(s.pushStack.apply(this,arguments))}),e}var s=e.fn;t.$=function(n,r){var i=t.getDoc();return a(e(n||i,i||r))}}},t.extend=e.extend,t.extend(t,{map:e.map,grep:function(t,n){return e.grep(t,n||function(){return 1})},inArray:function(t,n){return e.inArray(n,t||[])}});var i={"tinymce.dom.DOMUtils":{select:function(t,n){var r=this;return e.find(t,r.get(n)||r.get(r.settings.root_element)||r.doc,[])},is:function(t,n){return 1!==t.nodeType&&"*"===n?!1:e(this.get(t)).is(n)}}};t.onCreate=function(e,n,r){t.extend(r,i[n])}}(window.jQuery,tinymce),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,inDispatch:!1,Dispatcher:function(e){this.scope=e||this,this.listeners=[]},add:function(e,t){return this.listeners.push({cb:e,scope:t||this.scope}),e},addToTop:function(e,t){var n=this,r={cb:e,scope:t||n.scope};return n.inDispatch?n.listeners=[r].concat(n.listeners):n.listeners.unshift(r),e},remove:function(e){var t=this.listeners,n=null;return tinymce.each(t,function(r,i){return e==r.cb?(n=r,t.splice(i,1),!1):void 0}),n},dispatch:function(){var e,t,n,r=this,i=arguments,o=r.listeners;for(r.inDispatch=!0,t=0;t<o.length&&(n=o[t],e=n.cb.apply(n.scope,i.length>0?i:[n.scope]),e!==!1);t++);return r.inDispatch=!1,e}}),function(){var e=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,n){var r,i,o=this;return t=tinymce.trim(t),n=o.settings=n||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?void(o.source=t):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(n.base_uri?n.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(i=n.base_uri?n.base_uri.path:new tinymce.util.URI(location.href).directory,t=(n.base_uri&&n.base_uri.protocol||"http")+"://mce_host"+o.toAbsPath(i,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,n){var r=t[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[e]=r}),r=n.base_uri,void(r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source="")))},setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new tinymce.util.URI(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol)return e.getURI();var r=n.getURI(),i=e.getURI();return r==i||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==i?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new tinymce.util.URI(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;i>r;r++)if(r>=n.length||e[r]!=n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;i>r;r++)if(r>=e.length||e[r]!=n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);i>r;r++)a+="../";for(r=o-1,i=n.length;i>r;r++)a+=r!=o-1?"/"+n[r]:n[r];return a},toAbsPath:function(t,n){var r,i,o,a=0,s=[];for(i=/\/$/.test(n)?"/":"",t=t.split("/"),n=n.split("/"),e(t,function(e){e&&s.push(e)}),t=s,r=n.length-1,s=[];r>=0;r--)0!==n[r].length&&"."!==n[r]&&(".."!==n[r]?a>0?a--:s.push(n[r]):a++);return r=t.length-a,o=0>=r?s.reverse().join("/"):t.slice(0,r).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}})}(),function(){var e=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var n,r=this.get(t);return r&&e(r.split("&"),function(e){e=e.split("="),n=n||{},n[unescape(e[0])]=unescape(e[1])}),n},setHash:function(t,n,r,i,o,a){var s="";e(n,function(e,t){s+=(s?"&":"")+escape(t)+"="+escape(e)}),this.set(t,s,r,i,o,a)},get:function(e){var t,n,r=document.cookie,i=e+"=";if(r){if(n=r.indexOf("; "+i),-1==n){if(n=r.indexOf(i),0!==n)return null}else n+=2;return t=r.indexOf(";",n),-1==t&&(t=r.length),unescape(r.substring(n+i.length,t))}},set:function(e,t,n,r,i,o){document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(r?"; path="+escape(r):"")+(i?"; domain="+i:"")+(o?"; secure":"")},remove:function(e,t,n){var r=new Date;r.setTime(r.getTime()-1e3),this.set(e,"",r,t,n)}})}(),function(){function serialize(e,t){var n,r,i,o;if(t=t||'"',null==e)return"null";if(i=typeof e,"string"==i)return r="\bb	t\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,i){return'"'===t&&"'"===e?e:(n=r.indexOf(i),n+1?"\\"+r.charAt(n+1):(e=i.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"==i){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,r="[";n<e.length;n++)r+=(n>0?",":"")+serialize(e[n],t);return r+"]"}r="{";for(o in e)e.hasOwnProperty(o)&&(r+="function"!=typeof e[o]?(r.length>1?","+t:t)+o+t+":"+serialize(e[o],t):"");return r+"}"}return""+e}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}}(),tinymce.create("static tinymce.util.XHR",{send:function(e){function t(){!e.async||4==r.readyState||a++>1e4?(e.success&&1e4>a&&200==r.status?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):o.setTimeout(t,10)}function n(e){r=0;try{r=new ActiveXObject(e)}catch(t){}return r}var r,i,o=window,a=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",r=o.XMLHttpRequest?new XMLHttpRequest:n("Microsoft.XMLHTTP")||n("Msxml2.XMLHTTP")){if(r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(e.data),!e.async)return t();i=o.setTimeout(t,10)}}}),function(){var e=tinymce.extend,t=tinymce.util.JSON,n=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=e({},t),this.count=0},send:function(r){var i=r.error,o=r.success;r=e(this.settings,r),r.success=function(e,n){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?i.call(r.error_scope||r.scope,e.error,n):o.call(r.success_scope||r.scope,e.result)},r.error=function(e,t){i&&i.call(r.error_scope||r.scope,e,t)},r.data=t.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),r.content_type="application/json",n.send(r)},"static":{sendRPC:function(e){return(new tinymce.util.JSONRequest).send(e)}}})}(),function(e){e.VK={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return e.isMac?t.metaKey:t.ctrlKey&&!t.altKey}}}(tinymce),tinymce.util.Quirks=function(e){function t(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}}function n(){var t=e.getDoc().documentMode;return t?t:6}function r(e){return e.isDefaultPrevented()}function i(){function t(t){function n(){if(3==s.nodeType){if(t&&l==s.length)return!0;if(!t&&0===l)return!0}}var r,i,o,a,s,l,c;r=A.getRng();var u=[r.startContainer,r.startOffset,r.endContainer,r.endOffset];if(r.collapsed||(t=!0),s=r[(t?"start":"end")+"Container"],l=r[(t?"start":"end")+"Offset"],3==s.nodeType&&(i=P.getParent(r.startContainer,P.isBlock),t&&(i=P.getNext(i,P.isBlock)),!i||!n()&&r.collapsed||(o=P.create("em",{id:"__mceDel"}),O(tinymce.grep(i.childNodes),function(e){o.appendChild(e)}),i.appendChild(o))),r=P.createRng(),r.setStart(u[0],u[1]),r.setEnd(u[2],u[3]),A.setRng(r),e.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),o){for(a=A.getBookmark();c=P.get("__mceDel");)P.remove(c,!0);A.moveToBookmark(a)}}e.onKeyDown.add(function(e,n){var i;i=n.keyCode==I,r(n)||!i&&n.keyCode!=R||k.modifierPressed(n)||(n.preventDefault(),t(i))}),e.addCommand("Delete",function(){t()})}function o(){function t(e){var t=P.create("body"),n=e.cloneContents();return t.appendChild(n),A.serializer.serialize(t,{format:"html"})}function n(n){var r=t(n),i=P.createRng();i.selectNode(e.getBody());var o=t(i);return r===o}e.onKeyDown.add(function(e,t){var i,o=t.keyCode;if(!r(t)&&(o==I||o==R)){if(i=e.selection.isCollapsed(),i&&!P.isEmpty(e.getBody()))return;if(tinymce.isIE&&!i)return;if(!i&&!n(e.selection.getRng()))return;e.setContent(""),e.selection.setCursorLocation(e.getBody(),0),e.nodeChanged()}})}function a(){e.onKeyDown.add(function(e,t){!r(t)&&65==t.keyCode&&k.metaKeyPressed(t)&&(t.preventDefault(),e.execCommand("SelectAll"))})}function s(){e.settings.content_editable||(P.bind(e.getDoc(),"focusin",function(e){A.setRng(A.getRng())}),P.bind(e.getDoc(),"mousedown",function(t){t.target==e.getDoc().documentElement&&(e.getWin().focus(),A.setRng(A.getRng()))}))}function l(){e.onKeyDown.add(function(e,t){if(!r(t)&&t.keyCode===R&&A.isCollapsed()&&0===A.getRng(!0).startOffset){var n=A.getNode(),i=n.previousSibling;i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(P.remove(i),tinymce.dom.Event.cancel(t))}})}function c(){Range.prototype.getClientRects||e.onMouseDown.add(function(e,t){if(!r(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),setTimeout(function(){n.focus()},0)}})}function u(){e.onClick.add(function(e,t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&A.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&P.hasClass(t,"mceItemAnchor")&&A.select(t),e.nodeChanged()})}function d(){function t(){var t=P.getAttribs(A.getStart().cloneNode(!1));return function(){var n=A.getStart();n!==e.getBody()&&(P.setAttrib(n,"style",null),O(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}}function n(){return!A.isCollapsed()&&P.getParent(A.getStart(),P.isBlock)!=P.getParent(A.getEnd(),P.isBlock)}function i(e,t){return t.preventDefault(),!1}e.onKeyPress.add(function(e,i){var o;return r(i)||8!=i.keyCode&&46!=i.keyCode||!n()?void 0:(o=t(),e.getDoc().execCommand("delete",!1,null),o(),i.preventDefault(),!1)}),P.bind(e.getDoc(),"cut",function(o){var a;!r(o)&&n()&&(a=t(),e.onKeyUp.addToTop(i),setTimeout(function(){a(),e.onKeyUp.remove(i)},0))})}function p(){var t,n;P.bind(e.getDoc(),"selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=A.getRng();t&&tinymce.dom.RangeUtils.compareRanges(n,t)||(e.nodeChanged(),t=n)},50)})}function h(){document.body.setAttribute("role","application")}function f(){e.onKeyDown.add(function(e,t){if(!r(t)&&t.keyCode===R&&A.isCollapsed()&&0===A.getRng(!0).startOffset){var n=A.getNode().previousSibling;if(n&&n.nodeName&&"table"===n.nodeName.toLowerCase())return tinymce.dom.Event.cancel(t)}})}function m(){n()>7||(t("RespectVisibilityInDesign",!0),e.contentStyles.push(".mceHideBrInPre pre br {display: none}"),P.addClass(e.getBody(),"mceHideBrInPre"),D.addNodeFilter("pre",function(e,t){for(var n,r,i,o,a=e.length;a--;)for(n=e[a].getAll("br"),r=n.length;r--;)i=n[r],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new tinymce.html.Node("#text",3),i,!0).value="\n"}),L.addNodeFilter("pre",function(e,t){for(var n,r,i,o,a=e.length;a--;)for(n=e[a].getAll("br"),r=n.length;r--;)i=n[r],o=i.prev,o&&3==o.type&&(o.value=o.value.replace(/\r?\n$/,""))}))}function g(){P.bind(e.getBody(),"mouseup",function(e){var t,n=A.getNode();"IMG"==n.nodeName&&((t=P.getStyle(n,"width"))&&(P.setAttrib(n,"width",t.replace(/[^0-9%]+/g,"")),P.setStyle(n,"width","")),(t=P.getStyle(n,"height"))&&(P.setAttrib(n,"height",t.replace(/[^0-9%]+/g,"")),P.setStyle(n,"height","")))})}function v(){e.onKeyDown.add(function(e,t){var n,i,o,a,s,l,c;if(n=t.keyCode==I,!r(t)&&(n||t.keyCode==R)&&!k.modifierPressed(t)&&(i=A.getRng(),o=i.startContainer,a=i.startOffset,c=i.collapsed,3==o.nodeType&&o.nodeValue.length>0&&(0===a&&!c||c&&a===(n?0:1)))){if(l=o.previousSibling,l&&"IMG"==l.nodeName)return;nonEmptyElements=e.schema.getNonEmptyElements(),t.preventDefault(),s=P.create("br",{id:"__tmp"}),o.parentNode.insertBefore(s,o),e.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),o=A.getRng().startContainer,l=o.previousSibling,l&&1==l.nodeType&&!P.isBlock(l)&&P.isEmpty(l)&&!nonEmptyElements[l.nodeName.toLowerCase()]&&P.remove(l),P.remove("__tmp")}})}function y(){e.onKeyDown.add(function(e,t){var n,i,o,a,s;if(!r(t)&&t.keyCode==k.BACKSPACE&&(n=A.getRng(),i=n.startContainer,o=n.startOffset,a=P.getRoot(),s=i,n.collapsed&&0===o)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=a;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(e.formatter.toggle("blockquote",null,s),n=P.createRng(),n.setStart(i,0),n.setEnd(i,0),A.setRng(n))}})}function b(){function n(){e._refreshContentEditable(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),M.object_resizing||t("enableObjectResizing",!1)}M.readonly||(e.onBeforeExecCommand.add(n),e.onMouseDown.add(n))}function C(){function t(e,t){O(P.select("a"),function(e){var t=e.parentNode,n=P.getRoot();if(t.lastChild===e){for(;t&&!P.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}P.add(t,"br",{"data-mce-bogus":1})}})}e.onExecCommand.add(function(e,n){"CreateLink"===n&&t(e)}),e.onSetContent.add(A.onSetContent.add(t))}function w(){M.forced_root_block&&e.onInit.add(function(){t("DefaultParagraphSeparator",M.forced_root_block)})}function _(){function t(t,n){t&&n.initial||e.execCommand("mceRepaint")}e.onUndo.add(t),e.onRedo.add(t),e.onSetContent.add(t)}function E(){e.onKeyDown.add(function(e,t){var n;r(t)||t.keyCode!=R||(n=e.getDoc().selection.createRange(),n&&n.item&&(t.preventDefault(),e.undoManager.beforeChange(),P.remove(n.item(0)),e.undoManager.add()))})}function x(){var t;n()>=10&&(t="",O("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),e.contentStyles.push(t+"{padding-right: 1px !important}"))}function T(){function n(e){var t,n;t=e.screenX-p,n=e.screenY-h,y=t*d[2]+f,b=n*d[3]+m,y=5>y?5:y,b=5>b?5:b,(k.modifierPressed(e)||"IMG"==c.nodeName&&d[2]*d[3]!==0)&&(y=Math.round(b/g),b=Math.round(y*g)),P.setStyles(u,{width:y,height:b}),d[2]<0&&u.clientWidth<=y&&P.setStyle(u,"left",s+(f-y)),d[3]<0&&u.clientHeight<=b&&P.setStyle(u,"top",l+(m-b))}function r(){function t(t,n){n&&(c.style[t]||!e.schema.isValid(c.nodeName.toLowerCase(),t)?P.setStyle(c,t,n):P.setAttrib(c,t,n))}t("width",y),t("height",b),P.unbind(w,"mousemove",n),P.unbind(w,"mouseup",r),C!=w&&(P.unbind(C,"mousemove",n),P.unbind(C,"mouseup",r)),P.remove(u),i(c)}function i(e){var t,i,a;o(),t=P.getPos(e),s=t.x,l=t.y,i=e.offsetWidth,a=e.offsetHeight,c!=e&&(c=e,y=b=0),O(v,function(e,t){var o;o=P.get("mceResizeHandle"+t),o?P.show(o):(o=P.add(w.documentElement,"div",{id:"mceResizeHandle"+t,"class":"mceResizeHandle",style:"cursor:"+t+"-resize; margin:0; padding:0"}),P.bind(o,"mousedown",function(t){t.preventDefault(),r(),p=t.screenX,h=t.screenY,f=c.clientWidth,m=c.clientHeight,g=m/f,d=e,u=c.cloneNode(!0),P.addClass(u,"mceClonedResizable"),P.setStyles(u,{left:s,top:l,margin:0}),w.documentElement.appendChild(u),P.bind(w,"mousemove",n),P.bind(w,"mouseup",r),C!=w&&(P.bind(C,"mousemove",n),P.bind(C,"mouseup",r))})),P.setStyles(o,{left:i*e[0]+s-o.offsetWidth/2,top:a*e[1]+l-o.offsetHeight/2})}),tinymce.isOpera||"IMG"!=c.nodeName||c.setAttribute("data-mce-selected","1")}function o(){c&&c.removeAttribute("data-mce-selected");for(var e in v)P.hide("mceResizeHandle"+e)}function a(){var e=P.getParent(A.getNode(),"table,img");O(P.select("img[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),e?i(e):o()}var s,l,c,u,d,p,h,f,m,g,v,y,b,C=document,w=e.getDoc();M.object_resizing&&M.webkit_fake_resize!==!1&&(t("enableObjectResizing",!1),v={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},e.contentStyles.push(".mceResizeHandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}.mceResizeHandle:hover {background: #000}img[data-mce-selected] {outline: 1px solid black}img.mceClonedResizable, table.mceClonedResizable {position: absolute;outline: 1px dashed black;opacity: .5;z-index: 10000}"),e.onNodeChange.add(a),P.bind(w,"selectionchange",a),e.serializer.addAttributeFilter("data-mce-selected",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}))}function S(){n()<9&&(D.addNodeFilter("noscript",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),L.addNodeFilter("noscript",function(e){for(var t,n,r,i=e.length;i--;)t=e[i],n=e[i].firstChild,n?n.value=tinymce.html.Entities.decode(n.value):(r=t.attributes.map["data-mce-innertext"],r&&(t.attr("data-mce-innertext",null),n=new tinymce.html.Node("#text",3),n.value=r,n.raw=!0,t.append(n)))}))}function N(){e.contentStyles.push("body {min-height: 100px}"),e.onClick.add(function(t,n){"HTML"==n.target.nodeName&&(e.execCommand("SelectAll"),e.selection.collapse(!0),e.nodeChanged())})}var k=tinymce.VK,R=k.BACKSPACE,I=k.DELETE,P=e.dom,A=e.selection,M=e.settings,D=e.parser,L=e.serializer,O=tinymce.each;f(),y(),o(),tinymce.isWebKit&&(v(),i(),s(),u(),w(),tinymce.isIDevice?p():(T(),a())),tinymce.isIE&&!tinymce.isIE11&&(l(),h(),m(),g(),E(),x(),S()),tinymce.isIE11&&N(),tinymce.isGecko&&!tinymce.isIE11&&(l(),c(),d(),b(),C(),_()),tinymce.isOpera&&T()},function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),i[r]||(o="&"+e[n+1]+";",a[r]=o,a[o]=r);return a}}var r,i,o,a=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,u={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},r=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e.html=e.html||{},e.html.Entities={encodeRaw:function(e,t){return e.replace(t?a:s,function(e){return i[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return i[e]||e})},encodeNumeric:function(e,t){return e.replace(t?a:s,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":i[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||r,e.replace(t?a:s,function(e){return i[e]||n[e]||e})},getEncodeFunc:function(t,o){function l(e,t){return e.replace(t?a:s,function(e){return i[e]||o[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,t){return u.encodeNamed(e,t,o)}var u=e.html.Entities;return o=n(o)||r,t=e.makeMap(t.replace(/\+/g,",")),t.named&&t.numeric?l:t.named?o?c:u.encodeNamed:t.numeric?u.encodeNumeric:u.encodeRaw},decode:function(e){return e.replace(c,function(e,n,i){return n?(i=parseInt(i,2===n.length?16:10),i>65535?(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i))):u[i]||String.fromCharCode(i)):o[e]||r[e]||t(e)})}}}(tinymce),tinymce.html.Styles=function(e,t){function n(e,t,n,r){function i(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var r,i,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};for(e=e||{},o="\\\" \\' \\; \\: ; : \ufeff".split(" "),i=0;i<o.length;i++)u[o[i]]="\ufeff"+i,u["\ufeff"+i]=o[i];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function r(e,t){var n,r,i,o;"none"===y["border-image"]&&delete y["border-image"],n=y[e+"-top"+t],n&&(r=y[e+"-right"+t],n==r&&(i=y[e+"-bottom"+t],r==i&&(o=y[e+"-left"+t],i==o&&(y[e+t]=o,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function i(e){var t,n=y[e];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function o(e,t,n,r){i(t)&&i(n)&&i(r)&&(y[e]=y[t]+" "+y[n]+" "+y[r],delete y[t],delete y[n],delete y[r])}function d(e){return v=!0,u[e]}function p(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function h(e,t,n,r,i,o){return(i=i||o)?(i=p(i),"'"+i.replace(/\'/g,"\\'")+"'"):(t=p(t||n||r),b&&(t=b.call(C,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var f,m,g,v,y={},b=e.url_converter,C=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,d)});f=l.exec(t);)m=f[1].replace(c,"").toLowerCase(),g=f[2].replace(c,""),m&&g.length>0&&("font-weight"===m&&"700"===g?g="bold":("color"===m||"background-color"===m)&&(g=g.toLowerCase()),g=g.replace(a,n),g=g.replace(s,h),
y[m]=v?p(g,!0):g),l.lastIndex=f.index+f[0].length;r("border",""),r("border","-width"),r("border","-color"),r("border","-style"),r("padding",""),r("margin",""),o("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,n){function i(n){var i,o,a,l;if(i=t.styles[n])for(o=0,a=i.length;a>o;o++)n=i[o],l=e[n],l!==r&&l.length>0&&(s+=(s.length>0?" ":"")+n+": "+l+";")}var o,a,s="";if(n&&t&&t.styles)i("*"),i(n);else for(o in e)a=e[o],a!==r&&a.length>0&&(s+=(s.length>0?" ":"")+o+": "+a+";");return s}}},function(e){function t(e,t){return e.split(t||",")}function n(e,n){function r(t){return t.replace(/[A-Z]+/g,function(t){return r(e[t])})}var i,o={};for(i in e)e.hasOwnProperty(i)&&(e[i]=r(e[i]));return r(n).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(e,n,r,i){r=t(r,"|"),o[n]={attributes:a(r),attributesOrder:r,children:a(i,"|",{"#comment":{}})}}),o}function r(){var e=o.html5;return e||(e=o.html5=n({A:"id|accesskey|class|dir|draggable|item|hidden|itemprop|role|spellcheck|style|subject|title|onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"#|a|abbr|area|audio|b|bdo|br|button|canvas|cite|code|command|datalist|del|dfn|em|embed|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|meta|meter|noscript|object|output|progress|q|ruby|samp|script|select|small|span|strong|sub|sup|svg|textarea|time|var|video|wbr",C:"#|a|abbr|area|address|article|aside|audio|b|bdo|blockquote|br|button|canvas|cite|code|command|datalist|del|details|dfn|dialog|div|dl|em|embed|fieldset|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|i|iframe|img|input|ins|kbd|keygen|label|link|map|mark|menu|meta|meter|nav|noscript|ol|object|output|p|pre|progress|q|ruby|samp|script|section|select|small|span|strong|style|sub|sup|svg|table|textarea|time|ul|var|video"},"html[A|manifest][body|head]head[A][base|command|link|meta|noscript|script|style|title]title[A][#]base[A|href|target][]link[A|href|rel|media|type|sizes][]meta[A|http-equiv|name|content|charset][]style[A|type|media|scoped][#]script[A|charset|type|src|defer|async][#]noscript[A][C]body[A][C]section[A][C]nav[A][C]article[A][C]aside[A][C]h1[A][B]h2[A][B]h3[A][B]h4[A][B]h5[A][B]h6[A][B]hgroup[A][h1|h2|h3|h4|h5|h6]header[A][C]footer[A][C]address[A][C]p[A][B]br[A][]pre[A][B]dialog[A][dd|dt]blockquote[A|cite][C]ol[A|start|reversed][li]ul[A][li]li[A|value][C]dl[A][dd|dt]dt[A][B]dd[A][C]a[A|href|target|ping|rel|media|type][B]em[A][B]strong[A][B]small[A][B]cite[A][B]q[A|cite][B]dfn[A][B]abbr[A][B]code[A][B]var[A][B]samp[A][B]kbd[A][B]sub[A][B]sup[A][B]i[A][B]b[A][B]mark[A][B]progress[A|value|max][B]meter[A|value|min|max|low|high|optimum][B]time[A|datetime][B]ruby[A][B|rt|rp]rt[A][B]rp[A][B]bdo[A][B]span[A][B]ins[A|cite|datetime][B]del[A|cite|datetime][B]figure[A][C|legend|figcaption]figcaption[A][C]img[A|alt|src|height|width|usemap|ismap][]iframe[A|name|src|height|width|sandbox|seamless][]embed[A|src|height|width|type][]object[A|data|type|height|width|usemap|name|form|classid][param]param[A|name|value][]details[A|open][C|legend]command[A|type|label|icon|disabled|checked|radiogroup][]menu[A|type|label][C|li]legend[A][C|B]div[A][C]source[A|src|type|media][]audio[A|src|autobuffer|autoplay|loop|controls][source]video[A|src|autobuffer|autoplay|loop|controls|width|height|poster][source]hr[A][]form[A|accept-charset|action|autocomplete|enctype|method|name|novalidate|target][C]fieldset[A|disabled|form|name][C|legend]label[A|form|for][B]input[A|type|accept|alt|autocomplete|autofocus|checked|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|height|list|max|maxlength|min|multiple|pattern|placeholder|readonly|required|size|src|step|width|files|value|name][]button[A|autofocus|disabled|form|formaction|formenctype|formmethod|formnovalidate|formtarget|name|value|type][B]select[A|autofocus|disabled|form|multiple|name|size][option|optgroup]datalist[A][B|option]optgroup[A|disabled|label][option]option[A|disabled|selected|label|value][]textarea[A|autofocus|disabled|form|maxlength|name|placeholder|readonly|required|rows|cols|wrap][]keygen[A|autofocus|challenge|disabled|form|keytype|name][]output[A|for|form|name][B]canvas[A|width|height][]map[A|name][B|C]area[A|shape|coords|href|alt|target|media|rel|ping|type][]mathml[A][]svg[A][]table[A|border][caption|colgroup|thead|tfoot|tbody|tr]caption[A][C]colgroup[A|span][col]col[A|span][]thead[A][tr]tfoot[A][tr]tbody[A][tr]tr[A][th|td]th[A|headers|rowspan|colspan|scope][B]td[A|headers|rowspan|colspan][C]wbr[A][]")),e}function i(){var e=o.html4;return e||(e=o.html4=n({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]")),e}var o={},a=e.makeMap,s=e.each;e.html.Schema=function(n){function l(t,r,i){var s=n[t];return s?s=a(s,",",a(s.toUpperCase()," ")):(s=o[t],s||(s=a(r," ",a(r.toUpperCase()," ")),s=e.extend(s,i),o[t]=s)),s}function c(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function u(n){var r,i,o,s,l,u,d,p,h,f,m,g,v,y,b,C,w,_,E,T=/^([#+\-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,N=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(n)for(n=t(n),x["@"]&&(C=x["@"].attributes,w=x["@"].attributesOrder),r=0,i=n.length;i>r;r++)if(l=T.exec(n[r])){if(y=l[1],h=l[2],b=l[3],p=l[4],g={},v=[],u={attributes:g,attributesOrder:v},"#"===y&&(u.paddEmpty=!0),"-"===y&&(u.removeEmpty=!0),C){for(_ in C)g[_]=C[_];v.push.apply(v,w)}if(p)for(p=t(p,"|"),o=0,s=p.length;s>o;o++)if(l=N.exec(p[o])){if(d={},m=l[1],f=l[2].replace(/::/g,":"),y=l[3],E=l[4],"!"===m&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(f),d.required=!0),"-"===m){delete g[f],v.splice(e.inArray(v,f),1);continue}y&&("="===y&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:f,value:E}),d.defaultValue=E),":"===y&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:f,value:E}),d.forcedValue=E),"<"===y&&(d.validValues=a(E,"?"))),k.test(f)?(u.attributePatterns=u.attributePatterns||[],d.pattern=c(f),u.attributePatterns.push(d)):(g[f]||v.push(f),g[f]=d)}C||"@"!=h||(C=g,w=v),b&&(u.outputName=h,x[b]=u),k.test(h)?(u.pattern=c(h),S.push(u)):x[h]=u}}function d(e){x={},S=[],u(e),s(g,function(e,t){T[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&s(t(e),function(e){var t=n.exec(e),r="~"===t[1],i=r?"span":"div",o=t[2];T[o]=T[i],N[o]=i,r||(w[o.toUpperCase()]={},w[o]={}),x[o]||(x[o]=x[i]),s(T,function(e,t){e[i]&&(e[o]=e[i])})})}function h(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&s(t(e),function(e){var r,i,o=n.exec(e);o&&(i=o[1],r=i?T[o[2]]:T[o[2]]={"#comment":{}},r=T[o[2]],s(t(o[3],"|"),function(e){"-"===i?delete r[e]:r[e]={}}))})}function f(e){var t,n=x[e];if(n)return n;for(t=S.length;t--;)if(n=S[t],n.pattern.test(e))return n}var m,g,v,y,b,C,w,_,E=this,x={},T={},S=[],N={};n=n||{},g="html5"==n.schema?r():i(),n.verify_html===!1&&(n.valid_elements="*[*]"),n.valid_styles&&(m={},s(n.valid_styles,function(t,n){m[n]=e.explode(t)})),v=l("whitespace_elements","pre script noscript style textarea"),y=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),b=l("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr"),C=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),_=l("non_empty_elements","td th iframe video audio object script",b),textBlockElementsMap=l("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",textBlockElementsMap),n.valid_elements?d(n.valid_elements):(s(g,function(e,t){x[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},T[t]=e.children}),"html5"!=n.schema&&s(t("strong/b,em/i"),function(e){e=t(e,"/"),x[e[1]].outputName=e[0]}),x.img.attributesDefault=[{name:"alt",value:""}],s(t("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr,strong,em,b,i"),function(e){x[e]&&(x[e].removeEmpty=!0)}),s(t("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(e){x[e].paddEmpty=!0})),p(n.custom_elements),h(n.valid_children),u(n.extended_valid_elements),h("+ol[ul|ol],+ul[ul|ol]"),n.invalid_elements&&e.each(e.explode(n.invalid_elements),function(e){x[e]&&delete x[e]}),f("span")||u("span[!data-mce-type|*]"),E.children=T,E.styles=m,E.getBoolAttrs=function(){return C},E.getBlockElements=function(){return w},E.getTextBlockElements=function(){return textBlockElementsMap},E.getShortEndedElements=function(){return b},E.getSelfClosingElements=function(){return y},E.getNonEmptyElements=function(){return _},E.getWhiteSpaceElements=function(){return v},E.isValidChild=function(e,t){var n=T[e];return!(!n||!n[t])},E.isValid=function(e,t){var n,r,i=f(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},E.getElementRule=f,E.getCustomElements=function(){return N},E.addValidElements=u,E.setValidElements=d,E.addCustomElements=p,E.addValidChildren=h,E.elements=x}}(tinymce),function(e){e.html.SaxParser=function(t,n){var r=this,i=function(){};t=t||{},r.schema=n=n||new e.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),e.each("comment cdata text start end pi doctype".split(" "),function(e){e&&(r[e]=t[e]||i)}),r.parse=function(r){function i(e){var t,n;for(t=F.length;t--&&F[t].name!==e;);if(t>=0){for(n=F.length-1;n>=t;n--)e=F[n],e.valid&&O.end(e.name);F.length=t}}function o(e,t,n,r,i){var o,a;if(t=t.toLowerCase(),n=t in g?t:U(n||r||i||""),y&&!h&&0!==t.indexOf("data-")){if(o=x[t],!o&&T){for(a=T.length;a--&&(o=T[a],!o.pattern.test(t)););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}c.map[t]=n,c.push({name:t,value:n})}var a,s,l,c,u,d,p,h,f,m,g,v,y,b,C,w,_,E,x,T,S,N,k,R,I,P,A,M,D,L,O=this,B=0,F=[],$=0,U=e.html.Entities.decode;for(I=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,A={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},m=n.getShortEndedElements(),R=t.self_closing_elements||n.getSelfClosingElements(),g=n.getBoolAttrs(),y=t.validate,f=t.remove_internals,D=t.fix_self_closing,L=e.isIE,E=/^:/;a=I.exec(r);){if(B<a.index&&O.text(U(r.substr(B,a.index-B))),s=a[6])s=s.toLowerCase(),L&&E.test(s)&&(s=s.substr(1)),i(s);else if(s=a[7]){if(s=s.toLowerCase(),L&&E.test(s)&&(s=s.substr(1)),v=s in m,D&&R[s]&&F.length>0&&F[F.length-1].name===s&&i(s),!y||(b=n.getElementRule(s))){if(C=!0,y&&(x=b.attributes,T=b.attributePatterns),(_=a[8])?(h=-1!==_.indexOf("data-mce-type"),h&&f&&(C=!1),c=[],c.map={},_.replace(P,o)):(c=[],c.map={}),y&&!h){if(S=b.attributesRequired,N=b.attributesDefault,k=b.attributesForced)for(u=k.length;u--;)w=k[u],p=w.name,M=w.value,"{$uid}"===M&&(M="mce_"+$++),c.map[p]=M,c.push({name:p,value:M});if(N)for(u=N.length;u--;)w=N[u],p=w.name,p in c.map||(M=w.value,"{$uid}"===M&&(M="mce_"+$++),c.map[p]=M,c.push({name:p,value:M}));if(S){for(u=S.length;u--&&!(S[u]in c.map););-1===u&&(C=!1)}c.map["data-mce-bogus"]&&(C=!1)}C&&O.start(s,c,v)}else C=!1;if(l=A[s]){l.lastIndex=B=a.index+a[0].length,(a=l.exec(r))?(C&&(d=r.substr(B,a.index-B)),B=a.index+a[0].length):(d=r.substr(B),B=r.length),C&&d.length>0&&O.text(d,!0),C&&O.end(s),I.lastIndex=B;continue}v||(_&&_.indexOf("/")==_.length-1?C&&O.end(s):F.push({name:s,valid:C}))}else(s=a[1])?O.comment(s):(s=a[2])?O.cdata(s):(s=a[3])?O.doctype(s):(s=a[4])&&O.pi(s,a[5]);B=a.index+a[0].length}for(B<r.length&&O.text(U(r.substr(B))),u=F.length-1;u>=0;u--)s=F[u],s.valid&&O.end(s.name)}}}(tinymce),function(e){function t(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function n(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var r=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};e.extend(n.prototype,{replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,r,i,o=this;if("string"!=typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(t!==i){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),o;return o}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,t,r,i,o,a=this,s=new n(a.name,a.type);if(r=a.attributes){for(o=[],o.map={},e=0,t=r.length;t>e;e++)i=r[e],"id"!==i.name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(e){var n,r=this,i=[];for(n=r.firstChild;n;n=t(n,r))n.name===e&&i.push(n);return i},empty:function(){var e,n,r,i=this;if(i.firstChild){for(e=[],r=i.firstChild;r;r=t(r,i))e.push(r);for(n=e.length;n--;)r=e[n],r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(e){var n,i,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(n=a.attributes.length;n--;)if(i=a.attributes[n].name,"name"===i||0===i.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!r.test(a.value))return!1}while(a=t(a,o));return!0},walk:function(e){return t(this,null,e)}}),e.extend(n,{create:function(e,t){var r,o;if(r=new n(e,i[e]||1),t)for(o in t)r.attr(o,t[o]);return r}}),e.html.Node=n}(tinymce),function(e){var t=e.html.Node;e.html.DomParser=function(n,r){function i(n){var i,a,s,l,c,u,d,p,h,f,m,g,v,y;for(m=e.makeMap("tr,td,th,tbody,thead,tfoot,table"),f=r.getNonEmptyElements(),g=r.getTextBlockElements(),i=0;i<n.length;i++)if(a=n[i],a.parent&&!a.fixed)if(g[a.name]&&"li"==a.parent.name){for(v=a.next;v&&g[v.name];)v.name="li",v.fixed=!0,a.parent.insert(v,a.parent),v=v.next;a.unwrap(a)}else{for(l=[a],s=a.parent;s&&!r.isValidChild(s.name,a.name)&&!m[s.name];s=s.parent)l.push(s);if(s&&l.length>1){for(l.reverse(),c=u=o.filterNode(l[0].clone()),h=0;h<l.length-1;h++){for(r.isValidChild(u.name,l[h].name)?(d=o.filterNode(l[h].clone()),u.append(d)):d=u,p=l[h].firstChild;p&&p!=l[h+1];)y=p.next,d.append(p),p=y;u=d}c.isEmpty(f)?s.insert(a,l[0],!0):(s.insert(c,l[0],!0),s.insert(a,c)),s=l[0],(s.isEmpty(f)||s.firstChild===s.lastChild&&"br"===s.firstChild.name)&&s.empty().remove()}else if(a.parent){if("li"===a.name){if(v=a.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(a);continue}if(v=a.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(a,v.firstChild,!0);continue}a.wrap(o.filterNode(new t("ul",1)));continue}r.isValidChild(a.parent.name,"div")&&r.isValidChild("div",a.name)?a.wrap(o.filterNode(new t("div",1))):"style"===a.name||"script"===a.name?a.empty().remove():a.unwrap()}}}var o=this,a={},s=[],l={},c={};n=n||{},n.validate="validate"in n?n.validate:!0,n.root_name=n.root_name||"body",o.schema=r=r||new e.html.Schema,o.filterNode=function(e){var t,n,r;n in a&&(r=l[n],r?r.push(e):l[n]=[e]),t=s.length;for(;t--;)n=s[t].name,n in e.attributes.map&&(r=c[n],r?r.push(e):c[n]=[e]);return e},o.addNodeFilter=function(t,n){e.each(e.explode(t),function(e){var t=a[e];t||(a[e]=t=[]),t.push(n)})},o.addAttributeFilter=function(t,n){e.each(e.explode(t),function(e){var t;for(t=0;t<s.length;t++)if(s[t].name===e)return void s[t].callbacks.push(n);s.push({name:e,callbacks:[n]})})},o.parse=function(o,u){function d(){for(var e,t,n=g.firstChild;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!S[n.name]&&!n.attr("data-mce-type")?t?t.append(n):(t=p(L,1),g.insert(t,n),t.append(n)):t=null,n=e}function p(e,n){var r,i=new t(e,n);return e in a&&(r=l[e],r?r.push(i):l[e]=[i]),i}function h(e){var t,n,r;for(t=e.prev;t&&3===t.type;)n=t.value.replace(R,""),n.length>0?(t.value=n,t=t.prev):(r=t.prev,t.remove(),t=r)}function f(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var m,g,v,y,b,C,w,_,E,x,T,S,N,k,R,I,P,A,M,D,L,O=[];if(u=u||{},l={},c={},S=e.extend(e.makeMap("script,style,head,html,body,title,meta,param"),r.getBlockElements()),D=r.getNonEmptyElements(),M=r.children,T=n.validate,L="forced_root_block"in u?u.forced_root_block:n.forced_root_block,A=r.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,R=/[ \t\r\n]+$/,I=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,m=new e.html.SaxParser({validate:T,self_closing_elements:f(r.getSelfClosingElements()),cdata:function(e){v.append(p("#cdata",4)).value=e},text:function(e,t){var n;k||(e=e.replace(I," "),v.lastChild&&S[v.lastChild.name]&&(e=e.replace(N,""))),0!==e.length&&(n=p("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(p("#comment",8)).value=e},pi:function(e,t){v.append(p(e,7)).value=t,h(v)},doctype:function(e){var t;t=v.append(p("#doctype",10)),t.value=e,h(v)},start:function(e,t,n){var i,o,a,l,u;if(a=T?r.getElementRule(e):{}){for(i=p(a.outputName||e,1),i.attributes=t,i.shortEnded=n,v.append(i),u=M[v.name],u&&M[i.name]&&!u[i.name]&&O.push(i),o=s.length;o--;)l=s[o].name,l in t.map&&(E=c[l],E?E.push(i):c[l]=[i]);S[e]&&h(i),n||(v=i),!k&&A[e]&&(k=!0)}},end:function(e){var n,i,o,a,s;if(i=T?r.getElementRule(e):{}){if(S[e]&&!k){if(n=v.firstChild,n&&3===n.type)for(o=n.value.replace(N,""),o.length>0?(n.value=o,n=n.next):(a=n.next,n.remove(),n=a);n&&3===n.type;)o=n.value,a=n.next,(0===o.length||P.test(o))&&(n.remove(),n=a),n=a;if(n=v.lastChild,n&&3===n.type)for(o=n.value.replace(R,""),o.length>0?(n.value=o,n=n.prev):(a=n.prev,n.remove(),n=a);n&&3===n.type;)o=n.value,a=n.prev,(0===o.length||P.test(o))&&(n.remove(),n=a),n=a}if(k&&A[e]&&(k=!1),(i.removeEmpty||i.paddEmpty)&&v.isEmpty(D))if(i.paddEmpty)v.empty().append(new t("#text","3")).value="\xa0";else if(!v.attributes.map.name&&!v.attributes.map.id)return s=v.parent,v.empty().remove(),void(v=s);v=v.parent}}},r),g=v=new t(u.context||n.root_name,11),m.parse(o),T&&O.length&&(u.context?u.invalid=!0:i(O)),L&&"body"==g.name&&d(),!u.invalid){for(x in l){for(E=a[x],y=l[x],w=y.length;w--;)y[w].parent||y.splice(w,1);for(b=0,C=E.length;C>b;b++)E[b](y,x,u)}for(b=0,C=s.length;C>b;b++)if(E=s[b],E.name in c){for(y=c[E.name],w=y.length;w--;)y[w].parent||y.splice(w,1);for(w=0,_=E.callbacks.length;_>w;w++)E.callbacks[w](y,E.name,u)}}return g},n.remove_trailing_brs&&o.addNodeFilter("br",function(t,n){var i,o,a,s,l,c,u=t.length,d=e.extend({},r.getBlockElements()),p=r.getNonEmptyElements();for(d.body=1,i=0;u>i;i++)if(o=t[i],a=o.parent,d[o.parent.name]&&o===a.lastChild){for(l=o.prev;l;){if(c=l.name,"span"!==c||"bookmark"!==l.attr("data-mce-type")){if("br"!==c)break;if("br"===c){o=null;break}}l=l.prev}o&&(o.remove(),a.isEmpty(p)&&(elementRule=r.getElementRule(a.name),elementRule&&(elementRule.removeEmpty?a.remove():elementRule.paddEmpty&&(a.empty().append(new e.html.Node("#text",3)).value="\xa0"))))}else{for(s=o;a.firstChild===s&&a.lastChild===s&&(s=a,!d[a.name]);)a=a.parent;s===a&&(textNode=new e.html.Node("#text",3),textNode.value="\xa0",o.replace(textNode))}}),n.allow_html_in_named_anchor||o.addAttributeFilter("id,name",function(e,t){for(var n,r,i,o,a=e.length;a--;)if(o=e[a],"a"===o.name&&o.firstChild&&!o.attr("href")){i=o.parent,n=o.lastChild;do r=n.prev,i.insert(n,o),n=r;while(n)}})}}(tinymce),tinymce.html.Writer=function(e){var t,n,r,i,o,a=[];return e=e||{},t=e.indent,n=tinymce.makeMap(e.indent_before||""),r=tinymce.makeMap(e.indent_after||""),i=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"==e.element_format,{start:function(e,s,l){var c,u,d,p;if(t&&n[e]&&a.length>0&&(p=a[a.length-1],p.length>0&&"\n"!==p&&a.push("\n")),a.push("<",e),s)for(c=0,u=s.length;u>c;c++)d=s[c],a.push(" ",d.name,'="',i(d.value,!0),'"');!l||o?a[a.length]=">":a[a.length]=" />",l&&t&&r[e]&&a.length>0&&(p=a[a.length-1],p.length>0&&"\n"!==p&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:i(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",n,"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},function(e){e.html.Serializer=function(t,n){var r=this,i=new e.html.Writer(t);t=t||{},t.validate="validate"in t?t.validate:!0,r.schema=n=n||new e.html.Schema,r.writer=i,r.serialize=function(e){function r(e){var t,s,l,c,u,d,p,h,f,m=o[e.type];if(m)m(e);else{if(t=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(d=[],d.map={},f=n.getElementRule(e.name),p=0,h=f.attributesOrder.length;h>p;p++)c=f.attributesOrder[p],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(p=0,h=l.length;h>p;p++)c=l[p].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(i.start(e.name,l,s),!s){if(e=e.firstChild)do r(e);while(e=e.next);i.end(t)}}}var o,a;return a=t.validate,o={3:function(e,t){i.text(e.value,e.raw)},8:function(e){i.comment(e.value)},7:function(e){i.pi(e.name,e.value)},10:function(e){i.doctype(e.value)},4:function(e){i.cdata(e.value)},11:function(e){if(e=e.firstChild)do r(e);while(e=e.next)}},i.reset(),1!=e.type||t.inner?o[11](e):r(e),i.getContent()}}}(tinymce),tinymce.dom={},function(e,t){function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,t){function n(){return!1}function r(){return!0}var i,o=t||{};for(i in e)"layerX"!==i&&"layerY"!==i&&(o[i]=e[i]);return o.target||(o.target=o.srcElement||document),o.preventDefault=function(){o.isDefaultPrevented=r,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=r,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=r,o.stopPropagation()},o.isDefaultPrevented||(o.isDefaultPrevented=n,o.isPropagationStopped=n,o.isImmediatePropagationStopped=n),o}function o(e,t,i){function o(){i.domLoaded||(i.domLoaded=!0,t(l))}var a=e.document,l={type:"ready"};return"complete"==a.readyState?void o():(s?n(e,"DOMContentLoaded",o):(n(a,"readystatechange",function(){"complete"===a.readyState&&(r(a,"readystatechange",arguments.callee),o())}),a.documentElement.doScroll&&e===e.top&&!function(){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}o()}()),void n(e,"load",o))}function a(e){function a(e,t){var n,r,i,o;if(n=h[t][e.type])for(r=0,i=n.length;i>r;r++)if(o=n[r],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var l,c,u,d,p=this,h={};u="onmouseenter"in document.documentElement,c="onfocusin"in document.documentElement,d={mouseenter:"mouseover",mouseleave:"mouseout"},l=1,p.domLoaded=!1,p.events=h,p.bind=function(r,f,m,g){function v(e){a(i(e||T.event),y)}var y,b,C,w,_,E,x,T=window;if(r&&3!==r.nodeType&&8!==r.nodeType){for(r[t]?(y=r[t],h[y]||(h[y]={})):(y=l++,r[t]=y,h[y]={}),g=g||r,f=f.split(" "),C=f.length;C--;)w=f[C],E=v,_=x=!1,"DOMContentLoaded"===w&&(w="ready"),!p.domLoaded&&"complete"!=r.readyState||"ready"!==w?(u||(_=d[w],_&&(E=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=i(e||T.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,a(e,y))})),c||"focusin"!==w&&"focusout"!==w||(x=!0,_="focusin"===w?"focus":"blur",E=function(e){e=i(e||T.event),e.type="focus"===e.type?"focusin":"focusout",a(e,y)}),b=h[y][w],b?b.push({func:m,scope:g}):(h[y][w]=b=[{func:m,scope:g}],b.fakeName=_,b.capture=x,b.nativeHandler=E,s||(b.proxyHandler=e(y)),"ready"===w?o(r,E,p):n(r,_||w,s?E:b.proxyHandler,x))):(p.domLoaded=!0,m.call(g,i({type:w})));return r=b=0,m}},p.unbind=function(e,n,i){var o,a,l,c,u,d;if(!e||3===e.nodeType||8===e.nodeType)return p;if(o=e[t]){if(d=h[o],n){for(n=n.split(" "),l=n.length;l--;)if(u=n[l],a=d[u]){if(i)for(c=a.length;c--;)a[c].func===i&&a.splice(c,1);i&&0!==a.length||(delete d[u],r(e,a.fakeName||u,s?a.nativeHandler:a.proxyHandler,a.capture))}}else{for(u in d)a=d[u],r(e,a.fakeName||u,s?a.nativeHandler:a.proxyHandler,a.capture);d={}}for(u in d)return p;delete h[o];try{delete e[t]}catch(f){e[t]=null}}return p},p.fire=function(e,n,r){var o,s;if(!e||3===e.nodeType||8===e.nodeType)return p;s=i(null,r),s.type=n;do o=e[t],o&&a(s,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!s.isPropagationStopped());return p},p.clean=function(e){var n,r,i=p.unbind;if(!e||3===e.nodeType||8===e.nodeType)return p;if(e[t]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),r=e.getElementsByTagName("*"),n=r.length;n--;)e=r[n],e[t]&&i(e);return p},p.callNativeHandler=function(e,t){h&&h[e][t.type].nativeHandler(t)},p.destory=function(){h={}},p.add=function(e,t,n,r){"string"==typeof e&&(e=document.getElementById(e));{if(!(e&&e instanceof Array))return"init"===t&&(t="ready"),p.bind(e,t instanceof Array?t.join(" "):t,n,r);for(var i=e.length;i--;)p.add(e[i],t,n,r)}},p.remove=function(e,t,n,r){if(!e)return p;if("string"==typeof e&&(e=document.getElementById(e)),e instanceof Array){for(var i=e.length;i--;)p.remove(e[i],t,n,r);return p}return p.unbind(e,t instanceof Array?t.join(" "):t,n)},p.clear=function(e){return"string"==typeof e&&(e=document.getElementById(e)),p.clean(e)},p.cancel=function(e){return e&&(p.prevent(e),p.stop(e)),!1},p.prevent=function(e){return e.preventDefault||(e=i(e)),e.preventDefault(),!1},p.stop=function(e){return e.stopPropagation||(e=i(e)),e.stopPropagation(),!1}}var s=!!document.addEventListener;e.EventUtils=a,e.Event=new a(function(e){return function(t){tinymce.dom.Event.callNativeHandler(e,t)}}),e.Event.bind(window,"ready",function(){}),e=0}(tinymce.dom,"data-mce-expando"),tinymce.dom.TreeWalker=function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}}var r=e;this.current=function(){return r},this.next=function(e){return r=n(r,"firstChild","nextSibling",e)},this.prev=function(e){return r=n(r,"lastChild","previousSibling",e)}},function(e){var t=e.each,n=e.is,r=e.isWebKit,i=e.isIE,o=e.html.Entities,a=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,n){var r,i=this;if(i.doc=t,i.win=window,i.files={},i.cssFlicker=!1,i.counter=0,i.stdMode=!e.isIE||t.documentMode>=8,i.boxModel=!e.isIE||"CSS1Compat"==t.compatMode||i.stdMode,i.hasOuterHTML="outerHTML"in t.createElement("a"),i.settings=n=e.extend({keep_values:!1,hex_colors:1},n),i.schema=n.schema,i.styles=new e.html.Styles({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),e.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(o){i.cssFlicker=!0}i.fixDoc(t),i.events=n.ownEvents?new e.dom.EventUtils(n.proxy):e.dom.Event,e.addUnload(i.destroy,i),r=n.schema?n.schema.getBlockElements():{},i.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!r[e.nodeName]):!!r[e]}},fixDoc:function(t){var n,r=this.settings;if(i&&!e.isIE11&&r.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(n in r.schema.getCustomElements())t.createElement(n)}},clone:function(n,r){var o,a,s=this;return!i||e.isIE11||1!==n.nodeType||r?n.cloneNode(r):(a=s.doc,r?o.firstChild:(o=a.createElement(n.nodeName),t(s.getAttribs(n),function(e){s.setAttrib(o,e.nodeName,s.getAttrib(n,e.nodeName))}),o))},getRoot:function(){var e=this,t=e.settings;return t&&e.get(t.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,
{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,r=this;return e=r.get(e),t=r.getPos(e),n=r.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,r=this;return e=r.get(e),t=r.getStyle(e,"width"),n=r.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,r,i){var o,a=this,s=a.settings,l=[];for(e=a.get(e),i=void 0===i,s.strict_root&&(r=r||a.getRoot()),n(t,"string")&&(o=t,t="*"===t?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!i)return e;l.push(e)}e=e.parentNode}return i?l:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},add:function(e,t,r,i,o){var a=this;return this.run(e,function(e){var s;return s=n(t,"string")?a.doc.createElement(t):t,a.setAttribs(s,r),i&&(i.nodeType?s.appendChild(i):a.setHTML(s,i)),o?s:e.appendChild(s)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,i="",o=this;i+="<"+e;for(r in t)t.hasOwnProperty(r)&&(i+=" "+r+'="'+o.encode(t[r])+'"');return"undefined"!=typeof n?i+">"+n+"</"+e+">":i+" />"},remove:function(t,n){return this.run(t,function(t){var r,i=t.parentNode;if(!i)return null;if(n)for(;r=t.firstChild;)!e.isIE||3!==r.nodeType||r.nodeValue?i.insertBefore(r,t):t.removeChild(r);return i.removeChild(t)})},setStyle:function(t,n,r){var o=this;return o.run(t,function(a){var s;switch(s=a.style,n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),o.pixelStyles.test(n)&&(e.is(r,"number")||/^[\-0-9\.]+$/.test(r))&&(r+="px"),n){case"opacity":i&&!e.isIE11&&(s.filter=""===r?"":"alpha(opacity="+100*r+")",t.currentStyle&&t.currentStyle.hasLayout||(s.display="inline-block")),s[n]=s["-moz-opacity"]=s["-khtml-opacity"]=r||"";break;case"float":i&&!e.isIE11?s.styleFloat=r:s.cssFloat=r;break;default:s[n]=r||""}o.settings.update_styles&&o.setAttrib(a,"data-mce-style")})},getStyle:function(e,t,n){if(e=this.get(e)){if(this.doc.defaultView&&n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(r){return null}}return t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==t&&(t=i?"styleFloat":"cssFloat"),e.currentStyle&&n?e.currentStyle[t]:e.style?e.style[t]:void 0}},setStyles:function(e,n){var r,i=this,o=i.settings;r=o.update_styles,o.update_styles=0,t(n,function(t,n){i.setStyle(e,n,t)}),o.update_styles=r,o.update_styles&&i.setAttrib(e,o.cssText)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,r,i){var o=this;if(e&&r)return o.settings.strict&&(r=r.toLowerCase()),this.run(e,function(e){var a=o.settings,s=e.getAttribute(r);if(null!==i)switch(r){case"style":if(!n(i,"string"))return void t(i,function(t,n){o.setStyle(e,n,t)});a.keep_values&&(i&&!o._isRes(i)?e.setAttribute("data-mce-style",i,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=i;break;case"class":e.className=i||"";break;case"src":case"href":a.keep_values&&(a.url_converter&&(i=a.url_converter.call(a.url_converter_scope||o,i,r,e)),o.setAttrib(e,"data-mce-"+r,i,2));break;case"shape":e.setAttribute("data-mce-style",i)}if(n(i)&&null!==i&&0!==i.length?e.setAttribute(r,""+i,2):e.removeAttribute(r,2),tinyMCE.activeEditor&&s!=i){var l=tinyMCE.activeEditor;l.onSetAttrib.dispatch(l,e,r,i)}})},setAttribs:function(e,n){var r=this;return this.run(e,function(e){t(n,function(t,n){r.setAttrib(e,n,t)})})},getAttrib:function(t,o,a){var s,l,c=this;if(t=c.get(t),!t||1!==t.nodeType)return a===l?!1:a;if(n(a)||(a=""),/^(src|href|style|coords|shape)$/.test(o)&&(s=t.getAttribute("data-mce-"+o)))return s;if(i&&c.props[o]&&(s=t[c.props[o]],s=s&&s.nodeValue?s.nodeValue:s),s||(s=t.getAttribute(o,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(o))return t[c.props[o]]===!0&&""===s?o:s?o:"";if("FORM"===t.nodeName&&t.getAttributeNode(o))return t.getAttributeNode(o).nodeValue;if("style"===o&&(s=s||t.style.cssText,s&&(s=c.serializeStyle(c.parseStyle(s),t.nodeName),c.settings.keep_values&&!c._isRes(s)&&t.setAttribute("data-mce-style",s))),r&&"class"===o&&s&&(s=s.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),i)switch(o){case"rowspan":case"colspan":1===s&&(s="");break;case"size":("+0"===s||20===s||0===s)&&(s="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===s&&(s="");break;case"hspace":-1===s&&(s="");break;case"maxlength":case"tabindex":(32768===s||2147483647===s||"32768"===s)&&(s="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===s?o:a;case"shape":s=s.toLowerCase();break;default:0===o.indexOf("on")&&s&&(s=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+s))}return s!==l&&null!==s&&""!==s?""+s:a},getPos:function(e,t){var n,r,i=this,o=0,a=0,s=i.doc;if(e=i.get(e),t=t||s.body,e){if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),n=i.boxModel?s.documentElement:s.body,o=e.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-n.clientTop,a=e.top+(s.documentElement.scrollTop||s.body.scrollTop)-n.clientLeft,{x:o,y:a};for(r=e;r&&r!=t&&r.nodeType;)o+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!=t&&r.nodeType;)o-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n=this.doc;styleElm=n.getElementById("mceDefaultStyles"),styleElm||(styleElm=n.createElement("style"),styleElm.id="mceDefaultStyles",styleElm.type="text/css",t=n.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(styleElm,t.firstChild):t.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=e:styleElm.appendChild(n.createTextNode(e))},loadCSS:function(n){var r,o=this,a=o.doc;n||(n=""),r=a.getElementsByTagName("head")[0],t(n.split(","),function(t){var n;o.files[t]||(o.files[t]=!0,n=o.create("link",{rel:"stylesheet",href:e._addVer(t)}),i&&!e.isIE11&&a.documentMode&&a.recalc&&(n.onload=function(){a.recalc&&a.recalc(),n.onload=null}),r.appendChild(n))})},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=(""!=n?n+" ":"")+t):0})},removeClass:function(t,n){var r,i=this;return i.run(t,function(t){var o;return i.hasClass(t,n)?(r||(r=new RegExp("(^|\\s+)"+n+"(\\s+|$)","g")),o=t.className.replace(r," "),o=e.trim(" "!=o?o:""),t.className=o,o||(t.removeAttribute("class"),t.removeAttribute("className")),o):t.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(n,r){var o=this;return o.run(n,function(n){if(i){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br />"+r,n.removeChild(n.firstChild)}catch(a){var s=o.create("div");s.innerHTML="<br />"+r,t(e.grep(s.childNodes),function(e,t){t&&n.canHaveHTML&&n.appendChild(e)})}}else n.innerHTML=r;return r})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){function r(e,t,n){var r,i;for(i=n.createElement("body"),i.innerHTML=t,r=i.lastChild;r;)o.insertAfter(r.cloneNode(!0),e),r=r.previousSibling;o.remove(e)}var o=this;return this.run(e,function(e){if(e=o.get(e),1==e.nodeType)if(n=n||e.ownerDocument||o.doc,i)try{i&&1==e.nodeType?e.outerHTML=t:r(e,t,n)}catch(a){r(e,t,n)}else r(e,t,n)})},decode:o.decode,encode:o.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(r,i,o){var a=this;return n(i,"array")&&(r=r.cloneNode(!0)),a.run(i,function(n){return o&&t(e.grep(n.childNodes),function(e){r.appendChild(e)}),n.parentNode.replaceChild(r,n)})},rename:function(e,n){var r,i=this;return e.nodeName!=n.toUpperCase()&&(r=i.create(n),t(i.getAttribs(e),function(t){i.setAttrib(r,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(r,e,1)),r||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){function t(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}var n=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(e);return n?e="#"+t(n[1])+t(n[2])+t(n[3]):e},getClasses:function(){function n(i){t(i.imports,function(e){n(e)}),t(i.cssRules||i.rules,function(i){switch(i.type||1){case 1:i.selectorText&&t(i.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(r=t,t=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),(!s||(t=s(t,r)))&&(a[t]||(o.push({"class":t}),a[t]=1)))});break;case 3:try{n(i.styleSheet)}catch(l){}}})}var r,i=this,o=[],a={},s=i.settings.class_filter;if(i.classes)return i.classes;try{t(i.doc.styleSheets,n)}catch(l){}return o.length>0&&(i.classes=o),o},run:function(e,n,r){var i,o=this;return o.doc&&"string"==typeof e&&(e=o.get(e)),e?(r=r||this,e.nodeType||!e.length&&0!==e.length?n.call(r,e):(i=[],t(e,function(e,t){e&&("string"==typeof e&&(e=o.doc.getElementById(e)),i.push(n.call(r,e,t)))}),i)):!1},getAttribs:function(e){var t;return e=this.get(e),e?i?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(t,n){var r,i,o,s,l,c=this,u=0;if(t=t.firstChild){s=new e.dom.TreeWalker(t,t.parentNode),n=n||c.schema?c.schema.getNonEmptyElements():null;do{if(o=t.nodeType,1===o){if(t.getAttribute("data-mce-bogus"))continue;if(l=t.nodeName.toLowerCase(),n&&n[l]){if("br"===l){u++;continue}return!1}for(i=c.getAttribs(t),r=t.attributes.length;r--;)if(l=t.attributes[r].nodeName,"name"===l||"data-mce-bookmark"===l)return!1}if(8==o)return!1;if(3===o&&!a.test(t.nodeValue))return!1}while(t=s.next())}return 1>=u},destroy:function(t){var n=this;n.win=n.doc=n.root=n.events=n.frag=null,t||e.removeUnload(n.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new e.dom.Range(this)},nodeIndex:function(e,t){var n,r,i,o=0;if(e)for(n=e.nodeType,e=e.previousSibling,r=e;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(o++,n=i);return o},split:function(t,n,r){function i(t){function n(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var r,o=t.childNodes,a=t.nodeType;if(1!=a||"bookmark"!=t.getAttribute("data-mce-type")){for(r=o.length-1;r>=0;r--)i(o[r]);if(9!=a){if(3==a&&t.nodeValue.length>0){var s=e.trim(t.nodeValue).length;if(!l.isBlock(t.parentNode)||s>0||0===s&&n(t))return}else if(1==a&&(o=t.childNodes,1==o.length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(o[0],t),o.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;l.remove(t)}return t}}var o,a,s,l=this,c=l.createRng();return t&&n?(c.setStart(t.parentNode,l.nodeIndex(t)),c.setEnd(n.parentNode,l.nodeIndex(n)),o=c.extractContents(),c=l.createRng(),c.setStart(n.parentNode,l.nodeIndex(n)+1),c.setEnd(t.parentNode,l.nodeIndex(t)+1),a=c.extractContents(),s=t.parentNode,s.insertBefore(i(o),t),r?s.replaceChild(r,n):s.insertBefore(n,t),s.insertBefore(i(a),t),l.remove(t),r||n):void 0},bind:function(e,t,n,r){return this.events.add(e,t,n,r||this)},unbind:function(e,t,n){return this.events.remove(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},_findSib:function(e,t,r){var i=this,o=t;if(e)for(n(o,"string")&&(o=function(e){return i.is(e,t)}),e=e[r];e;e=e[r])if(o(e))return e;return null},_isRes:function(e){return/^(top|left|bottom|right|width|height)/i.test(e)||/;\s*(top|left|bottom|right|width|height)/i.test(e)}}),e.DOM=new e.dom.DOMUtils(document,{process_html:0})}(tinymce),function(e){function t(e){function n(){return D.createDocumentFragment()}function r(e,t){_(F,e,t)}function i(e,t){_($,e,t)}function o(e){r(e.parentNode,W(e))}function a(e){r(e.parentNode,W(e)+1)}function s(e){i(e.parentNode,W(e))}function l(e){i(e.parentNode,W(e)+1)}function c(e){e?(M[H]=M[j],M[q]=M[U]):(M[j]=M[H],M[U]=M[q]),M.collapsed=F}function u(e){o(e),l(e)}function d(e){r(e,0),i(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=M[j],r=M[U],i=M[H],o=M[q],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?w(n,r,a,s):1===e?w(i,o,a,s):2===e?w(i,o,l,c):3===e?w(n,r,l,c):void 0}function h(){E(B)}function f(){return E(L)}function m(){return E(O)}function g(t){var n,r,i=this[j],o=this[U];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(i.childNodes.length>0&&(r=i.childNodes[o]),r?i.insertBefore(t,r):i.appendChild(t)):o?o>=i.nodeValue.length?e.insertAfter(t,i):(n=i.splitText(o),i.parentNode.insertBefore(t,n)):i.parentNode.insertBefore(t,i)}function v(e){var t=M.extractContents();M.insertNode(e),e.appendChild(t),M.selectNode(e)}function y(){return V(new t(e),{startContainer:M[j],startOffset:M[U],endContainer:M[H],endOffset:M[q],collapsed:M.collapsed,commonAncestorContainer:M.commonAncestorContainer})}function b(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function C(){return M[j]==M[H]&&M[U]==M[q]}function w(t,n,r,i){var o,a,s,l,c,u;if(t==r)return n==i?0:i>n?-1:1;for(o=r;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(a=0,s=t.firstChild;s!=o&&n>a;)a++,s=s.nextSibling;return a>=n?-1:1}for(o=t;o&&o.parentNode!=r;)o=o.parentNode;if(o){for(a=0,s=r.firstChild;s!=o&&i>a;)a++,s=s.nextSibling;return i>a?-1:1}for(l=e.findCommonAncestor(t,r),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=r;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function _(t,n,r){var i,o;for(t?(M[j]=n,M[U]=r):(M[H]=n,M[q]=r),i=M[H];i.parentNode;)i=i.parentNode;for(o=M[j];o.parentNode;)o=o.parentNode;o==i?w(M[j],M[U],M[H],M[q])>0&&M.collapse(t):M.collapse(t),M.collapsed=C(),M.commonAncestorContainer=e.findCommonAncestor(M[j],M[H])}function E(e){var t,n,r,i,o,a,s,l=0,c=0;if(M[j]==M[H])return x(e);for(t=M[H],n=t.parentNode;n;t=n,n=n.parentNode){if(n==M[j])return T(t,e);++l}for(t=M[j],n=t.parentNode;n;t=n,n=n.parentNode){if(n==M[H])return S(t,e);++c}for(r=c-l,i=M[j];r>0;)i=i.parentNode,r--;for(o=M[H];0>r;)o=o.parentNode,r++;for(a=i.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)i=a,o=s;return N(i,o,e)}function x(e){var t,r,i,o,a,s,l,c,u;if(e!=B&&(t=n()),M[U]==M[q])return t;if(3==M[j].nodeType){if(r=M[j].nodeValue,i=r.substring(M[U],M[q]),e!=O&&(o=M[j],c=M[U],u=M[q]-M[U],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),M.collapse(F)),e==B)return;return i.length>0&&t.appendChild(D.createTextNode(i)),t}for(o=b(M[j],M[U]),a=M[q]-M[U];o&&a>0;)s=o.nextSibling,l=P(o,e),t&&t.appendChild(l),--a,o=s;return e!=O&&M.collapse(F),t}function T(e,t){var r,i,o,a,s,l;if(t!=B&&(r=n()),i=k(e,t),r&&r.appendChild(i),o=W(e),a=o-M[U],0>=a)return t!=O&&(M.setEndBefore(e),M.collapse($)),r;for(i=e.previousSibling;a>0;)s=i.previousSibling,l=P(i,t),r&&r.insertBefore(l,r.firstChild),--a,i=s;return t!=O&&(M.setEndBefore(e),M.collapse($)),r}function S(e,t){var r,i,o,a,s,l;for(t!=B&&(r=n()),o=R(e,t),r&&r.appendChild(o),i=W(e),++i,a=M[q]-i,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=P(o,t),r&&r.appendChild(l),--a,o=s;return t!=O&&(M.setStartAfter(e),M.collapse(F)),r}function N(e,t,r){var i,o,a,s,l,c,u,d;for(r!=B&&(o=n()),i=R(e,r),o&&o.appendChild(i),a=e.parentNode,s=W(e),l=W(t),++s,c=l-s,u=e.nextSibling;c>0;)d=u.nextSibling,i=P(u,r),o&&o.appendChild(i),u=d,--c;return i=k(t,r),o&&o.appendChild(i),r!=O&&(M.setStartAfter(e),M.collapse(F)),o}function k(e,t){var n,r,i,o,a,s=b(M[H],M[q]-1),l=s!=M[H];if(s==e)return I(s,l,$,t);for(n=s.parentNode,r=I(n,$,$,t);n;){for(;s;)i=s.previousSibling,o=I(s,l,$,t),t!=B&&r.insertBefore(o,r.firstChild),l=F,s=i;if(n==e)return r;s=n.previousSibling,n=n.parentNode,a=I(n,$,$,t),t!=B&&a.appendChild(r),r=a}}function R(e,t){var n,r,i,o,a,s=b(M[j],M[U]),l=s!=M[j];if(s==e)return I(s,l,F,t);for(n=s.parentNode,r=I(n,$,F,t);n;){for(;s;)i=s.nextSibling,o=I(s,l,F,t),t!=B&&r.appendChild(o),l=F,s=i;if(n==e)return r;s=n.nextSibling,n=n.parentNode,a=I(n,$,F,t),t!=B&&a.appendChild(r),r=a}}function I(t,n,r,i){var o,a,s,l,c;if(n)return P(t,i);if(3==t.nodeType){if(o=t.nodeValue,r?(l=M[U],a=o.substring(l),s=o.substring(0,l)):(l=M[q],a=o.substring(0,l),s=o.substring(l)),i!=O&&(t.nodeValue=s),i==B)return;return c=e.clone(t,$),c.nodeValue=a,c}if(i!=B)return e.clone(t,$)}function P(t,n){return n!=B?n==O?e.clone(t,F):t:void t.parentNode.removeChild(t)}function A(){return e.create("body",null,m()).outerText}var M=this,D=e.doc,L=0,O=1,B=2,F=!0,$=!1,U="startOffset",j="startContainer",H="endContainer",q="endOffset",V=tinymce.extend,W=e.nodeIndex;return V(M,{startContainer:D,startOffset:0,endContainer:D,endOffset:0,collapsed:F,commonAncestorContainer:D,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:i,setStartBefore:o,setStartAfter:a,setEndBefore:s,setEndAfter:l,collapse:c,selectNode:u,selectNodeContents:d,compareBoundaryPoints:p,deleteContents:h,extractContents:f,cloneContents:m,insertNode:g,surroundContents:v,cloneRange:y,toStringIE:A}),M}e.Range=t,t.prototype.toString=function(){return this.toStringIE()}}(tinymce.dom),function(){function e(e){function t(t,n){var r,i,o,a,s,l,c,u,d=0,p=-1;if(r=t.duplicate(),r.collapse(n),u=r.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(a=u.children,i=a.length-1;i>=d;)if(c=Math.floor((d+i)/2),s=a[c],r.moveToElementText(s),p=r.compareEndPoints(n?"StartToStart":"EndToEnd",t),p>0)i=c-1;else{if(!(0>p))return{node:s};d=c+1}if(0>p)for(s?r.collapse(!1):(r.moveToElementText(u),r.collapse(!0),s=u,o=!0),l=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",1)&&u==r.parentElement();)l++;else for(r.collapse(!0),l=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",-1)&&u==r.parentElement();)l++;return{node:s,position:p,offset:l,inside:o}}}function n(){function n(e){var n,r,i,o,a,s=t(u,e),l=0;if(n=s.node,r=s.offset,s.inside&&!n.hasChildNodes())return void d[e?"setStart":"setEnd"](n,0);if(r===o)return void d[e?"setStartBefore":"setEndAfter"](n);if(s.position<0){if(i=s.inside?n.firstChild:n.nextSibling,!i)return void d[e?"setStartAfter":"setEndAfter"](n);if(!r)return void(3==i.nodeType?d[e?"setStart":"setEnd"](i,0):d[e?"setStartBefore":"setEndBefore"](i));for(;i;){if(a=i.nodeValue,l+=a.length,l>=r){n=i,l-=r,l=a.length-l;break}i=i.nextSibling}}else{if(i=n.previousSibling,!i)return d[e?"setStartBefore":"setEndBefore"](n);if(!r)return void(3==n.nodeType?d[e?"setStart":"setEnd"](i,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](i));for(;i;){if(l+=i.nodeValue.length,l>=r){n=i,l-=r;break}i=i.previousSibling}}d[e?"setStart":"setEnd"](n,l)}var o,a,s,l,c,u=e.getRng(),d=i.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=i.doc)return d;if(a=e.isCollapsed(),u.item)return d.setStart(o.parentNode,i.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(p){if(-2147024809!=p.number)throw p;c=r.getBookmark(2),s=u.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=u.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,r.moveToBookmark(c),u=e.getRng(),n(!0),a||n()}return d}var r=this,i=e.dom,o=!1;this.getBookmark=function(n){function r(e){var t,n,r,o,a=[];for(t=e.parentNode,n=i.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=t.children,o=r.length;o--;)if(e===r[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:r(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:r(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,r,o;for(t=i.getRoot(),n=e.length-1;n>=0;n--)o=t.children,r=e[n],r<=o.length-1&&(t=o[r]);return t}function n(n){var i,a,s,l=e[n?"start":"end"];l&&(i=l.position>0,a=o.createTextRange(),a.moveToElementText(t(l.indexes)),offset=l.offset,offset!==s?(a.collapse(l.inside||i),a.moveStart("character",i?-offset:offset)):a.collapse(n),r.setEndPoint(n?"StartToStart":"EndToStart",a),n&&r.collapse(!0))}var r,o=i.doc.body;e.start&&(e.start.ctrl?(r=o.createControlRange(),r.addElement(t(e.start.indexes)),r.select()):(r=o.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(t){function n(e){var t,n,a,d,p;a=i.create("a"),t=e?s:c,n=e?l:u,d=r.duplicate(),(t==f||t==f.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),i.remove(a),r.setEndPoint(e?"StartToStart":"EndToEnd",d)):(p=t.childNodes,p.length?(n>=p.length?i.insertAfter(a,p[p.length-1]):t.insertBefore(a,p[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>\ufeff</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),r.setEndPoint(e?"StartToStart":"EndToEnd",d),i.remove(a))}var r,a,s,l,c,u,d,p,h,f=e.dom.doc,m=f.body;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,r=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&i.isBlock(d)?d.innerHTML="\ufeff":d=null,s.innerHTML="<span>\ufeff</span><span>\ufeff</span>",r.moveToElementText(s.lastChild),r.select(),i.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=i.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(h=s.childNodes[l],a=m.createControlRange(),a.addElement(h),a.select(),p=e.getRng(),p.item&&h===p.item(0))return}catch(g){}}n(!0),n(),r.select()},this.getRangeAt=n}tinymce.dom.TridentSelection=e}(),function(e){e.dom.Element=function(t,n){var r,i,o=this;o.settings=n=n||{},o.id=t,o.dom=r=n.dom||e.DOM,e.isIE||(i=r.get(o.id)),e.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(e){o[e]=function(){var n,i=[t];for(n=0;n<arguments.length;n++)i.push(arguments[n]);return i=r[e].apply(r,i),o.update(e),i}}),e.extend(o,{on:function(t,n,r){return e.dom.Event.add(o.id,t,n,r)},getXY:function(){return{x:parseInt(o.getStyle("left")),y:parseInt(o.getStyle("top"))}},getSize:function(){var e=r.get(o.id);return{w:parseInt(o.getStyle("width")||e.clientWidth),h:parseInt(o.getStyle("height")||e.clientHeight)}},moveTo:function(e,t){o.setStyles({left:e,top:t})},moveBy:function(e,t){var n=o.getXY();o.moveTo(n.x+e,n.y+t)},resizeTo:function(e,t){o.setStyles({width:e,height:t})},resizeBy:function(e,t){var n=o.getSize();o.resizeTo(n.w+e,n.h+t)},update:function(t){var i;if(e.isIE6&&n.blocker){if(t=t||"",0===t.indexOf("get")||0===t.indexOf("has")||0===t.indexOf("is"))return;if("remove"==t)return void r.remove(o.blocker);o.blocker?i=r.get(o.blocker):(o.blocker=r.uniqueId(),i=r.add(n.container||r.getRoot(),"iframe",{id:o.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),r.setStyle(i,"opacity",0)),r.setStyles(i,{left:o.getStyle("left",1),top:o.getStyle("top",1),width:o.getStyle("width",1),height:o.getStyle("height",1),display:o.getStyle("display",1),zIndex:parseInt(o.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(e){var t=e.is,n=e.isIE,r=e.each,i=e.dom.TreeWalker;e.create("tinymce.dom.Selection",{Selection:function(t,n,i,o){var a=this;a.dom=t,a.win=n,a.serializer=i,a.editor=o,r(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){a[t]=new e.util.Dispatcher(a)}),a.win.getSelection||(a.tridentSel=new e.dom.TridentSelection(a)),e.isIE&&!e.isIE11&&t.boxModel&&this._fixIESelection(),e.addUnload(a.destroy,a)},setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)},getContent:function(e){var n,r,i,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=r="",e.get=!0,e.format=e.format||"html",e.forced_root_block="",o.onBeforeGetContent.dispatch(o,e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(i=a.cloneContents(),i&&s.appendChild(i)):t(a.item)||t(a.htmlText)?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(r=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+r,o.onGetContent.dispatch(o,e),e.content)},setContent:function(e,t){var n,r,i,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,e=t.content=e,t.no_events||o.onBeforeSetContent.dispatch(o,t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(r=s.createDocumentFragment(),i=s.createElement("div"),r.appendChild(i),i.outerHTML=e,a.insertNode(r))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.onSetContent.dispatch(o,t)},getStart:function(){var e,t,n,r,i=this,o=i.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for(n=o.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==i.dom.doc&&(e=i.dom.getRoot()),t=r=o.parentElement();r=r.parentNode;)if(r==e){e=t;break}return e}return e=o.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,o.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,r=n.getRng();return r.duplicate||r.item?r.item?r.item(0):(r=r.duplicate(),r.collapse(0),e=r.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=r.endContainer,t=r.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return r(f.select(e),function(e,r){e==t&&(n=r)}),n}function i(e){function t(t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))}return t(!0),t(),e}function o(){function e(e,n){var i,o,a=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==a.nodeType){if(t)for(i=a.previousSibling;i&&3==i.nodeType;i=i.previousSibling)s+=i.nodeValue.length;l.push(s)}else o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(h.dom.nodeIndex(o[s],t)+c);for(;a&&a!=r;a=a.parentNode)l.push(h.dom.nodeIndex(a,t));return l}var n=h.getRng(!0),r=f.getRoot(),i={};return i.start=e(n,!0),h.isCollapsed()||(i.end=e(n)),i}var a,s,l,c,u,d,p,h=this,f=h.dom,m="\ufeff";if(2==e)return h.tridentSel?h.tridentSel.getBookmark(e):o();if(e)return a=h.getRng(),a.setStart&&(a={startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset}),{rng:a};if(a=h.getRng(),l=f.uniqueId(),c=tinyMCE.activeEditor.selection.isCollapsed(),p="overflow:hidden;line-height:0px",a.duplicate||a.item){if(a.item)return d=a.item(0),u=d.nodeName,{name:u,index:n(u,d)};s=a.duplicate();try{a.collapse(),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+p+'">'+m+"</span>"),c||(s.collapse(!1),a.moveToElementText(s.parentElement()),0===a.compareEndPoints("StartToEnd",s)&&s.move("character",-1),s.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+p+'">'+m+"</span>"))}catch(g){return null}}else{if(d=h.getNode(),u=d.nodeName,"IMG"==u)return{name:u,index:n(u,d)};s=i(a.cloneRange()),c||(s.collapse(!1),s.insertNode(f.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:p},m))),a=i(a),a.collapse(!0),a.insertNode(f.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:p},m))}return h.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(t){function i(e){var n,r,i,o,a=t[e?"start":"end"];if(a){for(i=a[0],r=c,n=a.length-1;n>=1;n--){if(o=r.childNodes,a[n]>o.length-1)return;r=o[a[n]]}3===r.nodeType&&(i=Math.min(a[0],r.nodeValue.length)),1===r.nodeType&&(i=Math.min(a[0],r.childNodes.length)),e?s.setStart(r,i):s.setEnd(r,i)}return!0}function o(n){var i,o,a,s,l=m.get(t.id+"_"+n),c=t.keep;if(l&&(i=l.parentNode,"start"==n?(c?(i=l.firstChild,o=1):o=m.nodeIndex(l),u=d=i,p=h=o):(c?(i=l.firstChild,o=1):o=m.nodeIndex(l),d=i,h=o),!c)){for(s=l.previousSibling,a=l.nextSibling,r(e.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});l=m.get(t.id+"_"+n);)m.remove(l,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.isOpera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),m.remove(a),"start"==n?(u=d=s,p=h=o):(d=s,h=o))}}function a(e){return!m.isBlock(e)||e.innerHTML||n||(e.innerHTML='<br data-mce-bogus="1" />'),e}var s,l,c,u,d,p,h,f=this,m=f.dom;if(t)if(t.start){if(s=m.createRng(),c=m.getRoot(),f.tridentSel)return f.tridentSel.moveToBookmark(t);i(!0)&&i()&&f.setRng(s)}else if(t.id)o("start"),o("end"),u&&(s=m.createRng(),s.setStart(a(u),p),s.setEnd(a(d),h),f.setRng(s));else if(t.name)f.select(m.select(t.name)[t.index]);else if(t.rng){if(s=t.rng,s.startContainer){l=f.dom.createRng();try{l.setStart(s.startContainer,s.startOffset),l.setEnd(s.endContainer,s.endOffset)}catch(g){}s=l}f.setRng(s)}},select:function(t,n){function r(t,n){var r=new i(t,t);do{if(3==t.nodeType&&0!==e.trim(t.nodeValue).length)return void(n?l.setStart(t,0):l.setEnd(t,t.nodeValue.length));if("BR"==t.nodeName)return void(n?l.setStartBefore(t):l.setEndBefore(t))}while(t=n?r.next():r.prev())}var o,a=this,s=a.dom,l=s.createRng();return t&&(o=s.nodeIndex(t),l.setStart(t.parentNode,o),l.setEnd(t.parentNode,o+1),n&&(r(t,1),r(t)),a.setRng(l)),t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,r=n.getRng();r.item&&(t=r.item(0),r=n.win.document.body.createTextRange(),r.moveToElementText(t)),r.collapse(!!e),n.setRng(r)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(t){var n,r,i,o=this,a=o.win.document;if(t&&o.tridentSel)return o.tridentSel.getRangeAt(0);try{(n=o.getSel())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():a.createRange())}catch(s){}return e.isIE&&!e.isIE11&&r&&r.setStart&&a.selection.createRange().item&&(i=a.selection.createRange().item(0),r=a.createRange(),r.setStartBefore(i),r.setEndAfter(i)),r||(r=a.createRange?a.createRange():a.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(i=o.dom.getRoot(),r.setStart(i,0),r.setEnd(i,0)),o.selectedRange&&o.explicitRange&&(0===r.compareBoundaryPoints(r.START_TO_START,o.selectedRange)&&0===r.compareBoundaryPoints(r.END_TO_END,o.selectedRange)?r=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),r},setRng:function(e,t){
var n,r=this;if(r.tridentSel){if(e.cloneRange)try{return void r.tridentSel.addRange(e)}catch(i){}try{e.select()}catch(i){}}else if(n=r.getSel()){r.explicitRange=e;try{n.removeAllRanges()}catch(i){}n.addRange(e),t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,r=n.getRng(),i=(n.getSel(),r.startContainer),o=r.endContainer;return r?r.setStart?(t=r.commonAncestorContainer,!r.collapsed&&(r.startContainer==r.endContainer&&r.endOffset-r.startOffset<2&&r.startContainer.hasChildNodes()&&(t=r.startContainer.childNodes[r.startOffset]),3===i.nodeType&&3===o.nodeType&&(i=i.length===r.startOffset?e(i.nextSibling,!0):i.parentNode,o=0===r.endOffset?e(o.previousSibling,!1):o.parentNode,i&&i===o))?i:t&&3==t.nodeType?t.parentNode:t):r.item?r.item(0):r.parentElement():n.dom.getRoot()},getSelectedBlocks:function(e,t){var n,r,o,a=this,s=a.dom,l=[];if(n=s.getParent(e||a.getStart(),s.isBlock),r=s.getParent(t||a.getEnd(),s.isBlock),n&&l.push(n),n&&r&&n!=r){o=n;for(var c=new i(n,s.getRoot());(o=c.next())&&o!=r;)s.isBlock(o)&&l.push(o)}return r&&n!=r&&l.push(r),l},isForward:function(){var e,t,n=this.dom,r=this.getSel();return r&&null!=r.anchorNode&&null!=r.focusNode?(e=n.createRng(),e.setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(r.focusNode,r.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){function t(e){function t(e,t){for(var n=new i(e,f.getParent(e.parentNode,f.isBlock)||m);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function s(e,t){var n,a;for(t=t||l,n=new i(t,f.getParent(t.parentNode,f.isBlock)||m);d=n[e?"prev":"next"]();){if(3===d.nodeType&&d.nodeValue.length>0)return l=d,c=e?d.nodeValue.length:0,void(r=!0);if(f.isBlock(d)||p[d.nodeName.toLowerCase()])return;a=d}o&&a&&(l=a,r=!0,c=0)}var l,c,u,d,p,h,f=a.dom,m=f.getRoot();if(l=n[(e?"start":"end")+"Container"],c=n[(e?"start":"end")+"Offset"],p=f.schema.getNonEmptyElements(),9===l.nodeType&&(l=f.getRoot(),c=0),l===m){if(e&&(d=l.childNodes[c>0?c-1:0],d&&(h=d.nodeName.toLowerCase(),p[d.nodeName]||"TABLE"==d.nodeName)))return;if(l.hasChildNodes()&&(l=l.childNodes[Math.min(!e&&c>0?c-1:c,l.childNodes.length-1)],c=0,l.hasChildNodes()&&!/TABLE/.test(l.nodeName))){d=l,u=new i(l,m);do{if(3===d.nodeType&&d.nodeValue.length>0){c=e?0:d.nodeValue.length,l=d,r=!0;break}if(p[d.nodeName.toLowerCase()]){c=f.nodeIndex(d),l=d.parentNode,"IMG"!=d.nodeName||e||c++,r=!0;break}}while(d=e?u.next():u.prev())}}o&&(3===l.nodeType&&0===c&&s(!0),1===l.nodeType&&(d=l.childNodes[c],!d||"BR"!==d.nodeName||t(d)||t(d,!0)||s(!0,l.childNodes[c]))),e&&!o&&3===l.nodeType&&c===l.nodeValue.length&&s(!1),r&&n["set"+(e?"Start":"End")](l,c)}var n,r,o,a=this;e.isIE||(n=a.getRng(),o=n.collapsed,t(!0),o||t(),r&&(o&&n.collapse(!0),a.setRng(n,a.isForward())))},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.onNodeChange.addToTop(function(e,t,o){var a=i.dom,s=a.getParents(o,null,a.getRoot()),l={};r(i.selectorChangedData,function(e,t){r(s,function(i){return a.is(i,t)?(n[t]||(r(e,function(e){e(!0,{node:i,selector:t,parents:s})}),n[t]=e),l[t]=e,!1):void 0})}),r(n,function(e,t){l[t]||(delete n[t],r(e,function(e){e(!1,{node:o,selector:t,parents:s})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},scrollIntoView:function(e){var t,n,r=this,i=r.dom;n=i.getViewPort(r.editor.getWin()),t=i.getPos(e).y,(t<n.y||t+25>n.y+n.h)&&r.editor.getWin().scrollTo(0,t<n.y?t:t-n.h+25)},destroy:function(t){var n=this;n.win=null,t||e.removeUnload(n.destroy)},_fixIESelection:function(){function e(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y),r&&(r.compareEndPoints("StartToStart",i)>0?r.setEndPoint("StartToStart",i):r.setEndPoint("EndToEnd",i),r.select())):n()}function n(){var e=s.selection.createRange();i&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&i.select(),a.unbind(s,"mouseup",n),a.unbind(s,"mousemove",t),i=r=0}var r,i,o,a=this.dom,s=a.doc,l=s.body;s.documentElement.unselectable=!0,a.bind(s,["mousedown","contextmenu"],function(l){if("HTML"===l.target.nodeName){if(r&&n(),o=s.documentElement,o.scrollHeight>o.clientHeight)return;r=1,i=e(l.x,l.y),i&&(a.bind(s,"mouseup",n),a.bind(s,"mousemove",t),a.win.focus(),i.select())}})}})}(tinymce),function(e){e.dom.Serializer=function(t,n,r){var i,o,a,s=e.isIE,l=e.each;return t.apply_source_formatting||(t.indent=!1),n=n||e.DOM,r=r||new e.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,i=new e.util.Dispatcher(self),o=new e.util.Dispatcher(self),a=new e.html.DomParser(t,r),a.addAttributeFilter("src,href,style",function(e,r){for(var i,o,a,s=e.length,l="data-mce-"+r,c=t.url_converter,u=t.url_converter_scope;s--;)i=e[s],o=i.attributes.map[l],o!==a?(i.attr(r,o.length>0?o:null),i.attr(l,null)):(o=i.attributes.map[r],"style"===r?o=n.serializeStyle(n.parseStyle(o),i.name):c&&(o=c.call(u,o,r,i.name)),i.attr(r,o.length>0?o:null))}),a.addAttributeFilter("class",function(e,t){for(var n,r,i=e.length;i--;)n=e[i],r=n.attr("class").replace(/(?:^|\s)mce(Item\w+|Selected)(?!\S)/g,""),n.attr("class",r.length>0?r:null)}),a.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)r=e[i],"bookmark"!==r.attributes.map["data-mce-type"]||n.cleanup||r.remove()}),a.addAttributeFilter("data-mce-expando",function(e,t,n){for(var r=e.length;r--;)e[r].attr(t,null)}),a.addNodeFilter("noscript",function(t){for(var n,r=t.length;r--;)n=t[r].firstChild,n&&(n.value=e.html.Entities.decode(n.value))}),a.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r,i,o=e.length;o--;)r=e[o],i=r.firstChild?r.firstChild.value:"","script"===t?(r.attr("type",(r.attr("type")||"text/javascript").replace(/^mce\-/,"")),i.length>0&&(r.firstChild.value="// <![CDATA[\n"+n(i)+"\n// ]]>")):i.length>0&&(r.firstChild.value="<!--\n"+n(i)+"\n-->")}),a.addNodeFilter("#comment",function(e,t){for(var n,r=e.length;r--;)n=e[r],0===n.value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}),a.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&a.addNodeFilter("ul,ol",function(e,t){for(var n,r,i=e.length;i--;)n=e[i],r=n.parent,("ul"===r.name||"ol"===r.name)&&n.prev&&"li"===n.prev.name&&n.prev.append(n)}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,onPreProcess:i,onPostProcess:o,serialize:function(c,u){var d,p,h,f,m;return s&&n.select("script,style,select,map").length>0?(m=c.innerHTML,c=c.cloneNode(!1),n.setHTML(c,m)):c=c.cloneNode(!0),d=c.ownerDocument.implementation,d.createHTMLDocument&&(p=d.createHTMLDocument(""),l("BODY"==c.nodeName?c.childNodes:[c],function(e){p.body.appendChild(p.importNode(e,!0))}),c="BODY"!=c.nodeName?p.body.firstChild:p.body,h=n.doc,n.doc=p),u=u||{},u.format=u.format||"html",u.no_events||(u.node=c,i.dispatch(self,u)),f=new e.html.Serializer(t,r),u.content=f.serialize(a.parse(e.trim(u.getInner?c.innerHTML:n.getOuterHTML(c)),u)),u.cleanup||(u.content=u.content.replace(/\uFEFF/g,"")),u.no_events||o.dispatch(self,u),h&&(n.doc=h),u.node=null,u.content},addRules:function(e){r.addValidElements(e)},setRules:function(e){r.setValidElements(e)}}}}(tinymce),function(e){e.dom.ScriptLoader=function(t){function n(t,n){function r(){c.remove(l),o&&(o.onreadystatechange=o.onload=o=null),n()}function i(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var o,a,s,l,c=e.DOM;return l=c.uniqueId(),e.isIE6&&(a=new e.util.URI(t),s=location,a.host==s.hostname&&a.port==s.port&&a.protocol+":"==s.protocol&&"file"!=a.protocol.toLowerCase())?void e.util.XHR.send({url:e._addVer(a.getURI()),success:function(e){var t=c.create("script",{type:"text/javascript"});t.text=e,document.getElementsByTagName("head")[0].appendChild(t),c.remove(t),r()},error:i}):(o=document.createElement("script"),o.id=l,o.type="text/javascript",o.src=e._addVer(t),(!e.isIE||e.isIE11)&&(o.onload=r),o.onerror=i,e.isOpera||(o.onreadystatechange=function(){var e=o.readyState;("complete"==e||"loaded"==e)&&r()}),void(document.getElementsByTagName("head")[0]||document.body).appendChild(o))}var r,i=0,o=1,a=2,s={},l=[],c={},u=[],d=0;this.isDone=function(e){return s[e]==a},this.markDone=function(e){s[e]=a},this.add=this.load=function(e,t,n){var o=s[e];o==r&&(l.push(e),s[e]=i),t&&(c[e]||(c[e]=[]),c[e].push({func:t,scope:n||this}))},this.loadQueue=function(e,t){this.loadScripts(l,e,t)},this.loadScripts=function(t,i,l){function p(t){e.each(c[t],function(e){e.func.call(e.scope)}),c[t]=r}var h;u.push({func:i,scope:l||this}),(h=function(){var r=e.grep(t);t.length=0,e.each(r,function(e){return s[e]==a?void p(e):void(s[e]!=o&&(s[e]=o,d++,n(e,function(){s[e]=a,d--,p(e),h()})))}),d||(e.each(u,function(e){e.func.call(e.scope)}),u.length=0)})()}},e.ScriptLoader=new e.dom.ScriptLoader}(tinymce),function(e){e.dom.RangeUtils=function(t){this.walk=function(n,r){function i(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,n){var a=n?"nextSibling":"previousSibling";for(d=e,p=d.parentNode;d&&d!=t;d=p)p=d.parentNode,h=o(d==e?d:d[a],a),h.length&&(n||h.reverse(),r(i(h)))}var l,c,u,d,p,h,f,m=n.startContainer,g=n.startOffset,v=n.endContainer,y=n.endOffset;if(f=t.select("td.mceSelected,th.mceSelected"),f.length>0)return void e.each(f,function(e){r([e])});if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return r(i([m]));for(l=t.findCommonAncestor(m,v),d=m;d;d=d.parentNode){if(d===v)return s(m,l,!0);if(d===l)break}for(d=v;d;d=d.parentNode){if(d===m)return s(v,l);if(d===l)break}c=a(m,l)||m,u=a(v,l)||v,s(m,c,!0),h=o(c==m?c:c.nextSibling,"nextSibling",u==v?u.nextSibling:u),h.length&&r(i(h)),s(v,u)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?r>0&&r<n.nodeValue.length&&(i=t(n,r),n=i.previousSibling,o>r?(o-=r,n=i=t(i,o).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&r>0&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&o>0&&o<i.nodeValue.length&&(i=t(i,o).previousSibling,o=i.nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}}},e.dom.RangeUtils.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1}}(tinymce),function(e){var t=e.dom.Event,n=e.each;e.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(r,i){var o,a,s,l,c,u=this,d=r.root,p=r.items,h=r.enableUpDown,f=r.enableLeftRight||!r.enableUpDown,m=r.excludeFromTabOrder;i=i||e.DOM,o=function(e){c=e.target.id},a=function(e){i.setAttrib(e.target.id,"tabindex","-1")},l=function(e){var t=i.get(c);i.setAttrib(t,"tabindex","0"),t.focus()},u.focus=function(){i.get(c).focus()},u.destroy=function(){n(p,function(e){var t=i.get(e.id);i.unbind(t,"focus",o),i.unbind(t,"blur",a)});var e=i.get(d);i.unbind(e,"focus",l),i.unbind(e,"keydown",s),p=i=d=u.focus=o=a=s=l=null,u.destroy=function(){}},u.moveFocus=function(e,o){var a,s=-1;u.controls;c&&(n(p,function(e,t){return e.id===c?(s=t,!1):void 0}),s+=e,0>s?s=p.length-1:s>=p.length&&(s=0),a=p[s],i.setAttrib(c,"tabindex","-1"),i.setAttrib(a.id,"tabindex","0"),i.get(a.id).focus(),r.actOnFocus&&r.onAction(a.id),o&&t.cancel(o))},s=function(e){var n=37,i=39,o=38,a=40,s=27,l=14,d=13,p=32;switch(e.keyCode){case n:f&&u.moveFocus(-1),t.cancel(e);break;case i:f&&u.moveFocus(1),t.cancel(e);break;case o:h&&u.moveFocus(-1),t.cancel(e);break;case a:h&&u.moveFocus(1),t.cancel(e);break;case s:r.onCancel&&(r.onCancel(),t.cancel(e));break;case l:case d:case p:r.onAction&&(r.onAction(c),t.cancel(e))}},n(p,function(e,t){var n,r;e.id||(e.id=i.uniqueId("_mce_item_")),r=i.get(e.id),m?(i.bind(r,"blur",a),n="-1"):n=0===t?"0":"-1",r.setAttribute("tabindex",n),i.bind(r,"focus",o)}),p[0]&&(c=p[0].id),i.setAttrib(d,"tabindex","-1");var g=i.get(d);i.bind(g,"focus",l),i.bind(g,"keydown",s)}})}(tinymce),function(e){var t=e.DOM,n=e.is;e.create("tinymce.ui.Control",{Control:function(t,n,r){this.id=t,this.settings=n=n||{},this.rendered=!1,this.onRender=new e.util.Dispatcher(this),this.classPrefix="",this.scope=n.scope||this,this.disabled=0,this.active=0,this.editor=r},setAriaProperty:function(e,n){var r=t.get(this.id+"_aria")||t.get(this.id);r&&t.setAttrib(r,"aria-"+e,!!n)},focus:function(){t.get(this.id).focus()},setDisabled:function(e){e!=this.disabled&&(this.setAriaProperty("disabled",e),this.setState("Disabled",e),this.setState("Enabled",!e),this.disabled=e)},isDisabled:function(){return this.disabled},setActive:function(e){e!=this.active&&(this.setState("Active",e),this.active=e,this.setAriaProperty("pressed",e))},isActive:function(){return this.active},setState:function(e,n){var r=t.get(this.id);e=this.classPrefix+e,n?t.addClass(r,e):t.removeClass(r,e)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){t.setHTML(e,this.renderHTML())},postRender:function(){var e,t=this;n(t.disabled)&&(e=t.disabled,t.disabled=-1,t.setDisabled(e)),n(t.active)&&(e=t.active,t.active=-1,t.setActive(e))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){e.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(e,t,n){this.parent(e,t,n),this.controls=[],this.lookup={}},add:function(e){return this.lookup[e.id]=e,this.controls.push(e),e},get:function(e){return this.lookup[e]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(e,t){this.parent(e,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(e){var t=e.is;e.DOM,e.each,e.walk;e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(e,t){this.parent(e,t),this.classPrefix="mceMenuItem"},setSelected:function(e){this.setState("Selected",e),this.setAriaProperty("checked",!!e),this.selected=e},isSelected:function(){return this.selected},postRender:function(){var e=this;e.parent(),t(e.selected)&&e.setSelected(e.selected)}})}(tinymce),function(e){var t=(e.is,e.DOM),n=(e.each,e.walk);e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,n){var r=this;r.parent(t,n),r.items={},r.collapsed=!1,r.menuCount=0,r.onAddItem=new e.util.Dispatcher(this)},expand:function(e){var t=this;e&&n(t,function(e){e.expand&&e.expand()},"items",t),t.collapsed=!1},collapse:function(e){var t=this;e&&n(t,function(e){e.collapse&&e.collapse()},"items",t),t.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(n){return n.settings||(n=new e.ui.MenuItem(n.id||t.uniqueId(),n)),this.onAddItem.dispatch(this,n),this.items[n.id]=n},addSeparator:function(){return this.add({separator:!0})},addMenu:function(e){return e.collapse||(e=this.createMenu(e)),this.menuCount++,this.add(e)},hasMenus:function(){return 0!==this.menuCount},remove:function(e){delete this.items[e.id]},removeAll:function(){var e=this;n(e,function(e){e.removeAll?e.removeAll():e.remove(),e.destroy()},"items",e),e.items={}},createMenu:function(n){var r=new e.ui.Menu(n.id||t.uniqueId(),n);return r.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),r}})}(tinymce),function(e){var t=e.is,n=e.DOM,r=e.each,i=e.dom.Event,o=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(r,i){i=i||{},i.container=i.container||n.doc.body,i.offset_x=i.offset_x||0,i.offset_y=i.offset_y||0,i.vp_offset_x=i.vp_offset_x||0,i.vp_offset_y=i.vp_offset_y||0,t(i.icons)&&!i.icons&&(i["class"]+=" mceNoIcons"),this.parent(r,i),this.onShowMenu=new e.util.Dispatcher(this),this.onHideMenu=new e.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(t){var r,i=this,o=i.settings;return t.container=t.container||o.container,t.parent=i,t.constrain=t.constrain||o.constrain,t["class"]=t["class"]||o["class"],t.vp_offset_x=t.vp_offset_x||o.vp_offset_x,t.vp_offset_y=t.vp_offset_y||o.vp_offset_y,t.keyboard_focus=o.keyboard_focus,r=new e.ui.DropMenu(t.id||n.uniqueId(),t),r.onAddItem.add(i.onAddItem.dispatch,i.onAddItem),r},focus:function(){var e=this;e.keyboardNav&&e.keyboardNav.focus()},update:function(){var e,t,r=this,i=r.settings,o=n.get("menu_"+r.id+"_tbl"),a=n.get("menu_"+r.id+"_co");e=i.max_width?Math.min(o.offsetWidth,i.max_width):o.offsetWidth,t=i.max_height?Math.min(o.offsetHeight,i.max_height):o.offsetHeight,n.boxModel?r.element.setStyles({width:e,height:t}):r.element.setStyles({width:e+2,height:t+2}),i.max_width&&n.setStyle(a,"width",e),i.max_height&&(n.setStyle(a,"height",t),o.clientHeight<i.max_height&&n.setStyle(a,"overflow","hidden"))},showMenu:function(t,a,s){var l,c,u,d,p,h,f=this,m=f.settings,g=n.getViewPort(),v=2,y=f.classPrefix;f.collapse(1),f.isMenuVisible||(f.rendered?l=n.get("menu_"+f.id):(l=n.add(f.settings.container,f.renderNode()),r(f.items,function(e){e.postRender()}),f.element=new o("menu_"+f.id,{blocker:1,container:m.container})),e.isOpera||n.setStyles(l,{left:-65535,top:-65535}),n.show(l),f.update(),t+=m.offset_x||0,a+=m.offset_y||0,g.w-=4,g.h-=4,m.constrain&&(c=l.clientWidth-v,u=l.clientHeight-v,d=g.x+g.w,p=g.y+g.h,t+m.vp_offset_x+c>d&&(t=s?s-c:Math.max(0,d-m.vp_offset_x-c)),a+m.vp_offset_y+u>p&&(a=Math.max(0,p-m.vp_offset_y-u))),n.setStyles(l,{left:t,top:a}),f.element.update(),f.isMenuVisible=1,f.mouseClickFunc=i.add(l,"click",function(e){var t;if(e=e.target,e&&(e=n.getParent(e,"tr"))&&!n.hasClass(e,y+"ItemSub")){if(t=f.items[e.id],t.isDisabled())return;for(h=f;h;)h.hideMenu&&h.hideMenu(),h=h.settings.parent;return t.settings.onclick&&t.settings.onclick(e),!1}}),f.hasMenus()&&(f.mouseOverFunc=i.add(l,"mouseover",function(e){var t,r;if(e=e.target,e&&(e=n.getParent(e,"tr"))){if(t=f.items[e.id],f.lastMenu&&f.lastMenu.collapse(1),t.isDisabled())return;e&&n.hasClass(e,y+"ItemSub")&&(r=n.getRect(e),t.showMenu(r.x+r.w-v,r.y-v,r.x),f.lastMenu=t,n.addClass(n.get(t.id).firstChild,y+"ItemActive"))}})),i.add(l,"keydown",f._keyHandler,f),f.onShowMenu.dispatch(f),m.keyboard_focus&&f._setupKeyboardNav())},hideMenu:function(e){var t,r=this,o=n.get("menu_"+r.id);r.isMenuVisible&&(r.keyboardNav&&r.keyboardNav.destroy(),i.remove(o,"mouseover",r.mouseOverFunc),i.remove(o,"click",r.mouseClickFunc),i.remove(o,"keydown",r._keyHandler),n.hide(o),r.isMenuVisible=0,e||r.collapse(1),r.element&&r.element.hide(),(t=n.get(r.id))&&n.removeClass(t.firstChild,r.classPrefix+"ItemActive"),r.onHideMenu.dispatch(r))},add:function(e){var t,r=this;return e=r.parent(e),r.isRendered&&(t=n.get("menu_"+r.id))&&r._add(n.select("tbody",t)[0],e),e},collapse:function(e){this.parent(e),this.hideMenu(1)},remove:function(e){return n.remove(e.id),this.destroy(),this.parent(e)},destroy:function(){var e=this,t=n.get("menu_"+e.id);e.keyboardNav&&e.keyboardNav.destroy(),i.remove(t,"mouseover",e.mouseOverFunc),i.remove(n.select("a",t),"focus",e.mouseOverFunc),i.remove(t,"click",e.mouseClickFunc),i.remove(t,"keydown",e._keyHandler),e.element&&e.element.remove(),n.remove(t)},renderNode:function(){var e,t,i,a,s=this,l=s.settings;return a=n.create("div",{role:"listbox",id:"menu_"+s.id,"class":l["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),s.settings.parent&&n.setAttrib(a,"aria-parent","menu_"+s.settings.parent.id),i=n.add(a,"div",{role:"presentation",id:"menu_"+s.id+"_co","class":s.classPrefix+(l["class"]?" "+l["class"]:"")}),s.element=new o("menu_"+s.id,{blocker:1,container:l.container}),l.menu_line&&n.add(i,"span",{"class":s.classPrefix+"Line"}),e=n.add(i,"table",{role:"presentation",id:"menu_"+s.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),t=n.add(e,"tbody"),r(s.items,function(e){s._add(t,e)}),s.rendered=!0,a},_setupKeyboardNav:function(){var t,r,i=this;t=n.get("menu_"+i.id),r=n.select("a[role=option]","menu_"+i.id),r.splice(0,0,t),i.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+i.id,items:r,onCancel:function(){i.hideMenu()},enableUpDown:!0}),t.focus()},_keyHandler:function(e){var t=this;switch(e.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),i.cancel(e));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(e)}},_add:function(e,t){var r,i,o,a,s,l=t.settings,c=this.classPrefix;return l.separator?(o=n.add(e,"tr",{id:t.id,"class":c+"ItemSeparator"}),n.add(o,"td",{"class":c+"ItemSeparator"}),void((r=o.previousSibling)&&n.addClass(r,"mceLast"))):(r=o=n.add(e,"tr",{id:t.id,"class":c+"Item "+c+"ItemEnabled"}),r=a=n.add(r,l.titleItem?"th":"td"),r=i=n.add(r,"a",{id:t.id+"_aria",role:l.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),l.parent&&(n.setAttrib(i,"aria-haspopup","true"),n.setAttrib(i,"aria-owns","menu_"+t.id)),n.addClass(a,l["class"]),s=n.add(r,"span",{"class":"mceIcon"+(l.icon?" mce_"+l.icon:"")}),l.icon_src&&n.add(s,"img",{src:l.icon_src}),r=n.add(r,l.element||"span",{"class":"mceText",title:t.settings.title},t.settings.title),t.settings.style&&("function"==typeof t.settings.style&&(t.settings.style=t.settings.style()),n.setAttrib(r,"style",t.settings.style)),1==e.childNodes.length&&n.addClass(o,"mceFirst"),(r=o.previousSibling)&&n.hasClass(r,c+"ItemSeparator")&&n.addClass(o,"mceFirst"),t.collapse&&n.addClass(o,c+"ItemSub"),(r=o.previousSibling)&&n.removeClass(r,"mceLast"),void n.addClass(o,"mceLast"))}})}(tinymce),function(e){var t=e.DOM;e.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceButton"},renderHTML:function(){var e,n,r=this.classPrefix,i=this.settings;return n=t.encode(i.label||""),e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+r+" "+r+"Enabled "+i["class"]+(n?" "+r+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(i.title)+'">',e+=!i.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+i["class"]+'"></span>'+(n?'<span class="'+r+'Label">'+n+"</span>":""):'<span class="mceIcon '+i["class"]+'"><img class="mceIcon" src="'+i.image+'" alt="'+t.encode(i.title)+'" /></span>'+(n?'<span class="'+r+'Label">'+n+"</span>":""),e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+i.title+"</span>",e+="</a>"},postRender:function(){var t,n=this,r=n.settings;e.isIE&&n.editor&&e.dom.Event.add(n.id,"mousedown",function(e){var r=n.editor.selection.getNode().nodeName;t="IMG"===r?n.editor.selection.getBookmark():null}),e.dom.Event.add(n.id,"click",function(i){return n.isDisabled()?void 0:(e.isIE&&n.editor&&null!==t&&n.editor.selection.moveToBookmark(t),r.onclick.call(r.scope,i))}),e.dom.Event.add(n.id,"keydown",function(t){return n.isDisabled()||t.keyCode!=e.VK.SPACEBAR?void 0:(e.dom.Event.cancel(t),r.onclick.call(r.scope,t))})}})}(tinymce),function(e){var t,n=e.DOM,r=e.dom.Event,i=e.each,o=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,n,r){var i=this;i.parent(t,n,r),i.items=[],i.onChange=new o(i),i.onPostRender=new o(i),i.onAdd=new o(i),i.onRenderMenu=new e.util.Dispatcher(this),i.classPrefix="mceListBox",i.marked={}},select:function(e){var n,r,o=this;return o.marked={},e==t?o.selectByIndex(-1):(r=e&&"function"==typeof e?e:function(t){return t==e},void(e!=o.selectedValue&&(i(o.items,function(e,t){return r(e.value)?(n=1,o.selectByIndex(t),!1):void 0}),n||o.selectByIndex(-1))))},selectByIndex:function(e){var t,r,i,o=this;o.marked={},e!=o.selectedIndex&&(t=n.get(o.id+"_text"),i=n.get(o.id+"_voiceDesc"),r=o.items[e],r?(o.selectedValue=r.value,o.selectedIndex=e,n.setHTML(t,n.encode(r.title)),n.setHTML(i,o.settings.title+" - "+r.title),n.removeClass(t,"mceTitle"),n.setAttrib(o.id,"aria-valuenow",r.title)):(n.setHTML(t,n.encode(o.settings.title)),n.setHTML(i,n.encode(o.settings.title)),n.addClass(t,"mceTitle"),o.selectedValue=o.selectedIndex=null,n.setAttrib(o.id,"aria-valuenow",o.settings.title)),t=0)},mark:function(e){this.marked[e]=!0},add:function(t,n,r){var i=this;r=r||{},r=e.extend(r,{title:t,value:n}),i.items.push(r),i.onAdd.dispatch(i,r)},getLength:function(){return this.items.length},renderHTML:function(){var e="",t=this,r=t.settings,i=t.classPrefix;return e='<span role="listbox" aria-haspopup="true" aria-labelledby="'+t.id+'_voiceDesc" aria-describedby="'+t.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+t.id+'" cellpadding="0" cellspacing="0" class="'+i+" "+i+"Enabled"+(r["class"]?" "+r["class"]:"")+'"><tbody><tr>',e+="<td>"+n.createHTML("span",{id:t.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},t.settings.title),e+=n.createHTML("a",{id:t.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},n.encode(t.settings.title))+"</td>",e+="<td>"+n.createHTML("a",{id:t.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25bc</span></span>')+"</td>",e+="</tr></tbody></table></span>"},showMenu:function(){var t,o,a=this,s=n.get(this.id);if(!a.isDisabled()&&0!==a.items.length){if(a.menu&&a.menu.isMenuVisible)return a.hideMenu();a.isMenuRendered||(a.renderMenu(),a.isMenuRendered=!0),t=n.getPos(s),o=a.menu,o.settings.offset_x=t.x,o.settings.offset_y=t.y,o.settings.keyboard_focus=!e.isOpera,i(a.items,function(e){o.items[e.id]&&o.items[e.id].setSelected(0)}),i(a.items,function(e){o.items[e.id]&&a.marked[e.value]&&o.items[e.id].setSelected(1),e.value===a.selectedValue&&o.items[e.id].setSelected(1)}),o.showMenu(0,s.clientHeight),r.add(n.doc,"mousedown",a.hideMenu,a),n.addClass(a.id,a.classPrefix+"Selected")}},hideMenu:function(e){var t=this;if(t.menu&&t.menu.isMenuVisible){if(n.removeClass(t.id,t.classPrefix+"Selected"),e&&"mousedown"==e.type&&(e.target.id==t.id+"_text"||e.target.id==t.id+"_open"))return;e&&n.getParent(e.target,".mceMenu")||(n.removeClass(t.id,t.classPrefix+"Selected"),r.remove(n.doc,"mousedown",t.hideMenu,t),t.menu.hideMenu())}},renderMenu:function(){var e,r=this;e=r.settings.control_manager.createDropMenu(r.id+"_menu",{menu_line:1,"class":r.classPrefix+"Menu mceNoIcons",max_width:250,max_height:150}),e.onHideMenu.add(function(){r.hideMenu(),r.focus()}),e.add({title:r.settings.title,"class":"mceMenuItemTitle",onclick:function(){r.settings.onselect("")!==!1&&r.select("")}}),i(r.items,function(i){i.value===t?e.add({title:i.title,role:"option","class":"mceMenuItemTitle",onclick:function(){r.settings.onselect("")!==!1&&r.select("")}}):(i.id=n.uniqueId(),i.role="option",i.onclick=function(){r.settings.onselect(i.value)!==!1&&r.select(i.value)},e.add(i))}),r.onRenderMenu.dispatch(r,e),r.menu=e},postRender:function(){var t=this,i=t.classPrefix;r.add(t.id,"click",t.showMenu,t),r.add(t.id,"keydown",function(e){32==e.keyCode&&(t.showMenu(e),r.cancel(e))}),r.add(t.id,"focus",function(){t._focused||(t.keyDownHandler=r.add(t.id,"keydown",function(e){40==e.keyCode&&(t.showMenu(),r.cancel(e))}),t.keyPressHandler=r.add(t.id,"keypress",function(e){var n;13==e.keyCode&&(n=t.selectedValue,t.selectedValue=null,r.cancel(e),t.settings.onselect(n))})),t._focused=1}),r.add(t.id,"blur",function(){r.remove(t.id,"keydown",t.keyDownHandler),r.remove(t.id,"keypress",t.keyPressHandler),t._focused=0}),(e.isIE6||!n.boxModel)&&(r.add(t.id,"mouseover",function(){n.hasClass(t.id,i+"Disabled")||n.addClass(t.id,i+"Hover")}),r.add(t.id,"mouseout",function(){n.hasClass(t.id,i+"Disabled")||n.removeClass(t.id,i+"Hover")})),t.onPostRender.dispatch(t,n.get(t.id))},destroy:function(){this.parent(),r.clear(this.id+"_text"),r.clear(this.id+"_open")}})}(tinymce),function(e){var t,n=e.DOM,r=e.dom.Event,i=e.each;e.util.Dispatcher;e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(e,t){this.parent(e,t),this.classPrefix="mceNativeListBox"},setDisabled:function(e){n.get(this.id).disabled=e,this.setAriaProperty("disabled",e)},isDisabled:function(){return n.get(this.id).disabled},select:function(e){var n,r,o=this;return e==t?o.selectByIndex(-1):(r=e&&"function"==typeof e?e:function(t){return t==e},void(e!=o.selectedValue&&(i(o.items,function(e,t){return r(e.value)?(n=1,o.selectByIndex(t),!1):void 0}),n||o.selectByIndex(-1))))},selectByIndex:function(e){n.get(this.id).selectedIndex=e+1,this.selectedValue=this.items[e]?this.items[e].value:null},add:function(e,t,r){var i,o=this;r=r||{},r.value=t,o.isRendered()&&n.add(n.get(this.id),"option",r,e),i={title:e,value:t,attribs:r},o.items.push(i),o.onAdd.dispatch(o,i)},getLength:function(){return this.items.length},renderHTML:function(){var e,t=this;return e=n.createHTML("option",{value:""},"-- "+t.settings.title+" --"),i(t.items,function(t){e+=n.createHTML("option",{value:t.value},t.title)}),e=n.createHTML("select",{id:t.id,"class":"mceNativeListBox","aria-labelledby":t.id+"_aria"},e),e+=n.createHTML("span",{id:t.id+"_aria",style:"display: none"},t.settings.title)},postRender:function(){function e(e){var t=i.items[e.target.selectedIndex-1];t&&(t=t.value)&&(i.onChange.dispatch(i,t),i.settings.onselect&&i.settings.onselect(t))}var t,i=this,o=!0;i.rendered=!0,r.add(i.id,"change",e),r.add(i.id,"keydown",function(n){var a,s=38,l=40,c=13,u=32;return r.remove(i.id,"change",t),o=!1,a=r.add(i.id,"blur",function(){o||(o=!0,r.add(i.id,"change",e),r.remove(i.id,"blur",a))}),n.keyCode==c||n.keyCode==u?(e(n),r.cancel(n)):void((n.keyCode==l||n.keyCode==s)&&n.stopImmediatePropagation())}),i.onPostRender.dispatch(i,n.get(i.id))}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each;e.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(n,r,i){this.parent(n,r,i),this.onRenderMenu=new e.util.Dispatcher(this),r.menu_container=r.menu_container||t.doc.body},showMenu:function(){var e,r,i,o=this,a=t.get(o.id);if(!o.isDisabled()){if(o.isMenuRendered||(o.renderMenu(),o.isMenuRendered=!0),o.isMenuVisible)return o.hideMenu();e=t.getPos(o.settings.menu_container),r=t.getPos(a),i=o.menu,i.settings.offset_x=r.x,i.settings.offset_y=r.y,i.settings.vp_offset_x=r.x,i.settings.vp_offset_y=r.y,i.settings.keyboard_focus=o._focused,i.showMenu(0,a.firstChild.clientHeight),n.add(t.doc,"mousedown",o.hideMenu,o),o.setState("Selected",1),o.isMenuVisible=1}},renderMenu:function(){var e,t=this;e=t.settings.control_manager.createDropMenu(t.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:t.settings.icons}),e.onHideMenu.add(function(){t.hideMenu(),t.focus()}),t.onRenderMenu.dispatch(t,e),t.menu=e},hideMenu:function(e){var r=this;e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===r.id||e.id===r.id+"_open"})||(e&&t.getParent(e.target,".mceMenu")||(r.setState("Selected",0),n.remove(t.doc,"mousedown",r.hideMenu,r),r.menu&&r.menu.hideMenu()),r.isMenuVisible=0)},postRender:function(){var e=this,t=e.settings;n.add(e.id,"click",function(){e.isDisabled()||(t.onclick&&t.onclick(e.value),e.showMenu())})}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each;e.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceSplitButton"},renderHTML:function(){var e,n,r=this,i=r.settings;return e="<tbody><tr>",n=i.image?t.createHTML("img ",{src:i.image,role:"presentation",
"class":"mceAction "+i["class"]}):t.createHTML("span",{"class":"mceAction "+i["class"]},""),n+=t.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:r.id+"_voice",style:"display:none;"},i.title),e+="<td >"+t.createHTML("a",{role:"button",id:r.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+i["class"],onclick:"return false;",onmousedown:"return false;",title:i.title},n)+"</td>",n=t.createHTML("span",{"class":"mceOpen "+i["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">\u25bc</span>'),e+="<td >"+t.createHTML("a",{role:"button",id:r.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+i["class"],onclick:"return false;",onmousedown:"return false;",title:i.title},n)+"</td>",e+="</tr></tbody>",e=t.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+i["class"],cellpadding:"0",cellspacing:"0",title:i.title},e),t.createHTML("div",{id:r.id,role:"button",tabindex:"0","aria-labelledby":r.id+"_voice","aria-haspopup":"true"},e)},postRender:function(){var r,i=this,o=i.settings;o.onclick&&(r=function(e){i.isDisabled()||(o.onclick(i.value),n.cancel(e))},n.add(i.id+"_action","click",r),n.add(i.id,["click","keydown"],function(e){var t=40;32!==e.keyCode&&13!==e.keyCode&&14!==e.keyCode||e.altKey||e.ctrlKey||e.metaKey?("click"===e.type||e.keyCode===t)&&(i.showMenu(),n.cancel(e)):(r(),n.cancel(e))})),n.add(i.id+"_open","click",function(e){i.showMenu(),n.cancel(e)}),n.add([i.id,i.id+"_open"],"focus",function(){i._focused=1}),n.add([i.id,i.id+"_open"],"blur",function(){i._focused=0}),(e.isIE6||!t.boxModel)&&(n.add(i.id,"mouseover",function(){t.hasClass(i.id,"mceSplitButtonDisabled")||t.addClass(i.id,"mceSplitButtonHover")}),n.add(i.id,"mouseout",function(){t.hasClass(i.id,"mceSplitButtonDisabled")||t.removeClass(i.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),n.clear(this.id+"_action"),n.clear(this.id+"_open"),n.clear(this.id)}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,r=e.is,i=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,n,r){var i=this;i.parent(t,n,r),i.settings=n=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},i.settings),i.onShowMenu=new e.util.Dispatcher(i),i.onHideMenu=new e.util.Dispatcher(i),i.value=n.default_color},showMenu:function(){var r,i,o=this;if(!o.isDisabled()){if(o.isMenuRendered||(o.renderMenu(),o.isMenuRendered=!0),o.isMenuVisible)return o.hideMenu();r=t.get(o.id),t.show(o.id+"_menu"),t.addClass(r,"mceSplitButtonSelected"),i=t.getPos(r),t.setStyles(o.id+"_menu",{left:i.x,top:i.y+r.firstChild.clientHeight,zIndex:2e5}),r=0,n.add(t.doc,"mousedown",o.hideMenu,o),o.onShowMenu.dispatch(o),o._focused&&(o._keyHandler=n.add(o.id+"_menu","keydown",function(e){27==e.keyCode&&o.hideMenu()}),t.select("a",o.id+"_menu")[0].focus()),o.keyboardNav=new e.ui.KeyboardNavigation({root:o.id+"_menu",items:t.select("a",o.id+"_menu"),onCancel:function(){o.hideMenu(),o.focus()}}),o.keyboardNav.focus(),o.isMenuVisible=1}},hideMenu:function(e){var r=this;if(r.isMenuVisible){if(e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===r.id+"_open"}))return;e&&t.getParent(e.target,".mceSplitButtonMenu")||(t.removeClass(r.id,"mceSplitButtonSelected"),n.remove(t.doc,"mousedown",r.hideMenu,r),n.remove(r.id+"_menu","keydown",r._keyHandler),t.hide(r.id+"_menu")),r.isMenuVisible=0,r.onHideMenu.dispatch(),r.keyboardNav.destroy()}},renderMenu:function(){var o,a,s,l,c,u,d=this,p=0,h=d.settings;return c=t.add(h.menu_container,"div",{role:"listbox",id:d.id+"_menu","class":h.menu_class+" "+h["class"],style:"position:absolute;left:0;top:-1000px;"}),o=t.add(c,"div",{"class":h["class"]+" mceSplitButtonMenu"}),t.add(o,"span",{"class":"mceMenuLine"}),a=t.add(o,"table",{role:"presentation","class":"mceColorSplitMenu"}),s=t.add(a,"tbody"),p=0,i(r(h.colors,"array")?h.colors:h.colors.split(","),function(n){n=n.replace(/^#/,""),p--||(l=t.add(s,"tr"),p=h.grid_width-1),a=t.add(l,"td");var r={href:"javascript:;",style:{backgroundColor:"#"+n},title:d.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};e.isIE||(r.role="option"),a=t.add(a,"a",r),d.editor.forcedHighContrastMode&&(a=t.add(a,"canvas",{width:16,height:16,"aria-hidden":"true"}),a.getContext&&(u=a.getContext("2d"))?(u.fillStyle="#"+n,u.fillRect(0,0,16,16)):t.remove(a))}),h.more_colors_func&&(a=t.add(s,"tr"),a=t.add(a,"td",{colspan:h.grid_width,"class":"mceMoreColors"}),a=t.add(a,"a",{role:"option",id:d.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},h.more_colors_title),n.add(a,"click",function(e){return h.more_colors_func.call(h.more_colors_scope||this),n.cancel(e)})),t.addClass(o,"mceColorSplitMenu"),n.add(d.id+"_menu","mousedown",function(e){return n.cancel(e)}),n.add(d.id+"_menu","click",function(e){var n;return e=t.getParent(e.target,"a",s),e&&"a"==e.nodeName.toLowerCase()&&(n=e.getAttribute("data-mce-color"))&&d.setColor(n),!1}),c},setColor:function(e){this.displayColor(e),this.hideMenu(),this.settings.onselect(e)},displayColor:function(e){var n=this;t.setStyle(n.id+"_preview","backgroundColor",e),n.value=e},postRender:function(){var e=this,n=e.id;e.parent(),t.add(n+"_action","div",{id:n+"_preview","class":"mceColorPreview"}),t.setStyle(e.id+"_preview","backgroundColor",e.value)},destroy:function(){var e=this;e.parent(),n.clear(e.id+"_menu"),n.clear(e.id+"_more"),t.remove(e.id+"_menu"),e.keyboardNav&&e.keyboardNav.destroy()}})}(tinymce),function(e){var t=e.DOM,n=e.each,r=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var n=this,r=[],i=n.controls,o=e.each,a=n.settings;return r.push('<div id="'+n.id+'" role="group" aria-labelledby="'+n.id+'_voice">'),r.push("<span role='application'>"),r.push('<span id="'+n.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(a.name)+"</span>"),o(i,function(e){r.push(e.renderHTML())}),r.push("</span>"),r.push("</div>"),r.join("")},focus:function(){var e=this;t.get(e.id).focus()},postRender:function(){var r=this,i=[];n(r.controls,function(e){n(e.controls,function(e){e.id&&i.push(e)})}),r.keyNav=new e.ui.KeyboardNavigation({root:r.id,items:i,onCancel:function(){e.isWebKit&&t.get(r.editor.id+"_ifr").focus(),r.editor.focus()},excludeFromTabOrder:!r.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent(),e.keyNav.destroy(),r.clear(e.id)}})}(tinymce),function(e){var t=e.DOM;e.each;e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var e,n,r,i,o,a,s=this,l="",c=s.settings;for(a=s.controls,r=0;r<a.length;r++)n=a[r],i=a[r-1],o=a[r+1],0===r&&(e="mceToolbarStart",n.Button?e+=" mceToolbarStartButton":n.SplitButton?e+=" mceToolbarStartSplitButton":n.ListBox&&(e+=" mceToolbarStartListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->"))),i&&n.ListBox&&(i.Button||i.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),l+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"</td>":"<td>"+n.renderHTML()+"</td>",o&&n.ListBox&&(o.Button||o.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return e="mceToolbarEnd",n.Button?e+=" mceToolbarEndButton":n.SplitButton?e+=" mceToolbarEndSplitButton":n.ListBox&&(e+=" mceToolbarEndListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:s.id,"class":"mceToolbar"+(c["class"]?" "+c["class"]:""),cellpadding:"0",cellspacing:"0",align:s.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+l+"</tr></tbody>")}})}(tinymce),function(e){var t=e.util.Dispatcher;e.each;e.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[],e.urls={},e.lookup={},e.onAdd=new t(e)},get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var n=e.settings;n&&n.language&&n.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+n.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},this.onAdd.dispatch(this,e,t),t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];e.each(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(t,n,r,i){function o(){var o=a.dependencies(t);e.each(o,function(e){var t=a.createUrl(n,e);a.load(t.resource,t,void 0,void 0)}),r&&(i?r.call(i):r.call(e.ScriptLoader))}var a=this,s=n;a.urls[t]||("object"==typeof n&&(s=n.prefix+n.resource+n.suffix),0!==s.indexOf("/")&&-1==s.indexOf("://")&&(s=e.baseURL+"/"+s),a.urls[t]=s.substring(0,s.lastIndexOf("/")),a.lookup[t]?o():e.ScriptLoader.add(s,o,i))}}),e.PluginManager=new e.AddOnManager,e.ThemeManager=new e.AddOnManager}(tinymce),function(e){var t,n=e.each,r=e.extend,i=e.DOM,o=e.dom.Event,a=(e.ThemeManager,e.PluginManager,e.explode),s=e.util.Dispatcher,l=0;e.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e.documentBaseURL)||(e.documentBaseURL+="/"),e.baseURL=new e.util.URI(e.documentBaseURL).toAbsolute(e.baseURL),e.baseURI=new e.util.URI(e.baseURL),e.onBeforeUnload=new s(e),o.add(window,"beforeunload",function(t){e.onBeforeUnload.dispatch(e,t)}),e.onAddEditor=new s(e),e.onRemoveEditor=new s(e),e.EditorManager=r(e,{editors:[],i18n:{},activeEditor:null,init:function(t){function r(e){var t=e.id;return t||(t=e.name,t=t&&!i.get(t)?e.name:i.uniqueId(),e.setAttribute("id",t)),t}function s(t,n,r){var i=t[n];if(i)return e.is(i,"string")&&(r=i.replace(/\.\w+$/,""),r=r?e.resolve(r):0,i=e.resolve(i)),i.apply(r||this,Array.prototype.slice.call(arguments,2))}function c(e,t){return t.constructor===RegExp?t.test(e.className):i.hasClass(e,t)}var u,d=this,p=(e.ScriptLoader,[]);d.settings=t,o.bind(window,"ready",function(){var o,d;switch(s(t,"onpageload"),t.mode){case"exact":o=t.elements||"",o.length>0&&n(a(o),function(r){i.get(r)?(u=new e.Editor(r,t),p.push(u),u.render(1)):n(document.forms,function(o){n(o.elements,function(n){n.name===r&&(r="mce_editor_"+l++,i.setAttrib(n,"id",r),u=new e.Editor(r,t),p.push(u),u.render(1))})})});break;case"textareas":case"specific_textareas":n(i.select("textarea"),function(n){t.editor_deselector&&c(n,t.editor_deselector)||(!t.editor_selector||c(n,t.editor_selector))&&(u=new e.Editor(r(n),t),p.push(u),u.render(1))});break;default:t.types?n(t.types,function(o){n(i.select(o.selector),function(n){var i=new e.Editor(r(n),e.extend({},t,o));p.push(i),i.render(1)})}):t.selector&&n(i.select(t.selector),function(n){var i=new e.Editor(r(n),t);p.push(i),i.render(1)})}t.oninit&&(o=d=0,n(p,function(e){d++,e.initialized?o++:e.onInit.add(function(){o++,o==d&&s(t,"oninit")}),o==d&&s(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors.hasOwnProperty(e)?this.editors[e]:t},getInstanceById:function(e){return this.get(e)},add:function(t){var n=this,r=n.editors;return r[t.id]=t,r.push(t),n._setActive(t),n.onAddEditor.dispatch(n,t),e.adapter&&e.adapter.patchEditor(t),t},remove:function(e){var t,n=this,r=n.editors;if(!r[e.id])return null;for(delete r[e.id],t=0;t<r.length;t++)if(r[t]==e){r.splice(t,1);break}return n.activeEditor==e&&n._setActive(r[0]),e.destroy(),n.onRemoveEditor.dispatch(n,e),e},execCommand:function(t,n,r){function i(){s.destroy(),o.detachEvent("onunload",i),o=o.tinyMCE=o.tinymce=null}var o,a=this,s=a.get(r);switch(t){case"mceFocus":return s.focus(),!0;case"mceAddEditor":case"mceAddControl":return a.get(r)||new e.Editor(r,a.settings).render(),!0;case"mceAddFrameControl":return o=r.window,o.tinyMCE=tinyMCE,o.tinymce=e,e.DOM.doc=o.document,e.DOM.win=o,s=new e.Editor(r.element_id,r),s.render(),e.isIE&&!e.isIE11&&o.attachEvent("onunload",i),r.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(a.execCommand("mceAddControl",0,r),!0)}return a.activeEditor?a.activeEditor.execCommand(t,n,r):!1},execInstanceCommand:function(e,t,n,r){var i=this.get(e);return i?i.execCommand(t,n,r):!1},triggerSave:function(){n(this.editors,function(e){e.save()})},addI18n:function(t,r){var i=this.i18n;e.is(t,"string")?n(r,function(e,n){i[t+"."+n]=e}):n(t,function(e,t){n(e,function(e,r){n(e,function(e,n){"common"===r?i[t+"."+n]=e:i[t+"."+r+"."+n]=e})})})},_setActive:function(e){this.selectedInstance=this.activeEditor=e}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,r=e.extend,i=e.each,o=e.isGecko,a=e.isIE,s=(e.isWebKit,e.is),l=e.ThemeManager,c=e.PluginManager,u=e.explode;e.create("tinymce.Editor",{Editor:function(t,n){var i=this,o=!0;i.settings=n=r({id:t,language:"en",theme:"advanced",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:o,submit_patch:o,add_unload_trigger:o,convert_urls:o,relative_urls:o,remove_script_host:o,table_inline_editing:!1,object_resizing:o,accessibility_focus:o,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual:o,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:o,directionality:"ltr",forced_root_block:"p",hidden_input:o,padd_empty_editor:o,render_ui:o,indentation:"30px",fix_table_elements:o,inline_styles:o,convert_fonts_to_spans:o,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:o,entity_encoding:"named",url_converter:i.convertURL,url_converter_scope:i,ie7_compat:o},n),i.id=i.editorId=t,i.isNotDirty=!1,i.plugins={},i.documentBaseURI=new e.util.URI(n.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI}),i.baseURI=e.baseURI,i.contentCSS=[],i.contentStyles=[],i.setupEvents(),i.execCommands={},i.queryStateCommands={},i.queryValueCommands={},i.execCallback("setup",i)},render:function(r){function o(){s.language&&s.language_load!==!1&&p.add(e.baseURL+"/langs/"+s.language+".js"),s.theme&&"function"!=typeof s.theme&&"-"!=s.theme.charAt(0)&&!l.urls[s.theme]&&l.load(s.theme,"themes/"+s.theme+"/editor_template"+e.suffix+".js"),i(u(s.plugins),function(t){if(t&&!c.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var n=c.dependencies(t);i(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"};t=c.createUrl(n,t),c.load(t.resource,t)})}else{if("safari"==t)return;c.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}),p.loadQueue(function(){a.removed||a.init()})}var a=this,s=a.settings,d=a.id,p=e.ScriptLoader;return n.domLoaded?(tinyMCE.settings=s,void(a.getElement()&&(!e.isIDevice||e.isIOS5)&&(!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)&&s.hidden_input&&t.getParent(d,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:d}),d),s.content_editable||(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden"),e.WindowManager&&(a.windowManager=new e.WindowManager(a)),"xml"==s.encoding&&a.onGetContent.add(function(e,n){n.save&&(n.content=t.encode(n.content))}),s.add_form_submit_trigger&&a.onSubmit.addToTop(function(){a.initialized&&(a.save(),a.isNotDirty=1)}),s.add_unload_trigger&&(a._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0})})),e.addUnload(a.destroy,a),s.submit_patch&&a.onBeforeRenderUI.add(function(){var t=a.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(a.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return e.triggerSave(),a.isNotDirty=1,a.formElement._mceOldSubmit(a.formElement)}),t=null))}),o()))):void n.add(window,"ready",function(){a.render()})},init:function(){function n(t){var r,o=c.get(t),a=c.urls[t]||e.documentBaseURL.replace(/\/$/,"");o&&-1===e.inArray(w,t)&&(i(c.dependencies(t),function(e){n(e)}),r=new o(y,a),y.plugins[t]=r,r.init&&(r.init(y,a),w.push(t)))}var r,o,s,d,p,h,f,m,g,v,y=this,b=y.settings,C=y.getElement(),w=[];if(e.add(y),b.aria_label=b.aria_label||t.getAttrib(C,"aria-label",y.getLang("aria.rich_text_area")),b.theme&&("function"!=typeof b.theme?(b.theme=b.theme.replace(/-/,""),p=l.get(b.theme),y.theme=new p,y.theme.init&&y.theme.init(y,l.urls[b.theme]||e.documentBaseURL.replace(/\/$/,""))):y.theme=b.theme),i(u(b.plugins.replace(/\-/g,"")),n),b.popup_css!==!1&&(b.popup_css?b.popup_css=y.documentBaseURI.toAbsolute(b.popup_css):b.popup_css=y.baseURI.toAbsolute("themes/"+b.theme+"/skins/"+b.skin+"/dialog.css")),b.popup_css_add&&(b.popup_css+=","+y.documentBaseURI.toAbsolute(b.popup_css_add)),y.controlManager=new e.ControlManager(y),y.onBeforeRenderUI.dispatch(y,y.controlManager),b.render_ui&&y.theme&&(y.orgDisplay=C.style.display,"function"!=typeof b.theme?(o=b.width||C.style.width||C.offsetWidth,s=b.height||C.style.height||C.offsetHeight,d=b.min_height||100,g=/^[0-9\.]+(|px)$/i,g.test(""+o)&&(o=Math.max(parseInt(o,10)+(p.deltaWidth||0),100)),g.test(""+s)&&(s=Math.max(parseInt(s,10)+(p.deltaHeight||0),d)),p=y.theme.renderUI({targetNode:C,width:o,height:s,deltaWidth:b.delta_width,deltaHeight:b.delta_height}),t.setStyles(p.sizeContainer||p.editorContainer,{width:o,height:s}),s=(p.iframeHeight||s)+("number"==typeof s?p.deltaHeight||0:""),d>s&&(s=d)):(p=b.theme(y,C),p.editorContainer.nodeType&&(p.editorContainer=p.editorContainer.id=p.editorContainer.id||y.id+"_parent"),p.iframeContainer.nodeType&&(p.iframeContainer=p.iframeContainer.id=p.iframeContainer.id||y.id+"_iframecontainer"),s=p.iframeHeight||C.offsetHeight,a&&(y.onInit.add(function(e){e.dom.bind(e.getBody(),"beforedeactivate keydown keyup",function(){e.bookmark=e.selection.getBookmark(1)})}),y.onNodeChange.add(function(e){document.activeElement.id==e.id+"_ifr"&&(e.bookmark=e.selection.getBookmark(1))}))),y.editorContainer=p.editorContainer),b.content_css&&i(u(b.content_css),function(e){y.contentCSS.push(y.documentBaseURI.toAbsolute(e))}),b.content_style&&y.contentStyles.push(b.content_style),b.content_editable)return C=r=p=null,y.initContentBody();for(document.domain&&location.hostname!=document.domain&&(e.relaxedDomain=document.domain),y.iframeHTML=b.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',b.document_base_url!=e.documentBaseURL&&(y.iframeHTML+='<base href="'+y.documentBaseURI.getURI()+'" />'),e.isIE8&&(b.ie7_compat?y.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />':y.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=edge" />'),y.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',v=0;v<y.contentCSS.length;v++)y.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y.contentCSS[v]+'" />';y.contentCSS=[],f=b.body_id||"tinymce",-1!=f.indexOf("=")&&(f=y.getParam("body_id","","hash"),f=f[y.id]||f),m=b.body_class||"",-1!=m.indexOf("=")&&(m=y.getParam("body_class","","hash"),m=m[y.id]||""),y.iframeHTML+='</head><body id="'+f+'" class="mceContentBody '+m+'" onload="window.parent.tinyMCE.get(\''+y.id+"').onLoad.dispatch();\"><br></body></html>",e.relaxedDomain&&(a||e.isOpera&&parseFloat(opera.version())<11)&&(h='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+y.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody();})()'),r=t.add(p.iframeContainer,"iframe",{id:y.id+"_ifr",src:h||'javascript:""',frameBorder:"0",allowTransparency:"true",title:b.aria_label,style:{width:"100%",height:s,display:"block"}}),y.contentAreaContainer=p.iframeContainer,p.editorContainer&&(t.get(p.editorContainer).style.display=y.orgDisplay),C.style.visibility=y.orgVisibility,t.get(y.id).style.display="none",t.setAttrib(y.id,"aria-hidden",!0),e.relaxedDomain&&h||y.initContentBody(),C=r=p=null},initContentBody:function(){var n,r,o=this,s=o.settings,l=t.get(o.id),c=o.getDoc();a&&e.relaxedDomain||s.content_editable||(c.open(),c.write(o.iframeHTML),c.close(),e.relaxedDomain&&(c.domain=e.relaxedDomain)),s.content_editable&&(t.addClass(l,"mceContentBody"),o.contentDocument=c=s.content_document||document,o.contentWindow=s.content_window||window,o.bodyElement=l,s.content_document=s.content_window=null),n=o.getBody(),n.disabled=!0,s.readonly||(n.contentEditable=o.getParam("content_editable_state",!0)),n.disabled=!1,o.schema=new e.html.Schema(s),o.dom=new e.dom.DOMUtils(c,{keep_values:!0,url_converter:o.convertURL,url_converter_scope:o,hex_colors:s.force_hex_style_colors,class_filter:s.class_filter,update_styles:!0,root_element:s.content_editable?o.id:null,schema:o.schema}),o.parser=new e.html.DomParser(s,o.schema),o.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,r,i,a=e.length,s=o.dom;a--;)n=e[a],r=n.attr(t),i="data-mce-"+t,n.attributes.map[i]||("style"===t?n.attr(i,s.serializeStyle(s.parseStyle(r),n.name)):n.attr(i,o.convertURL(r,t,n.name)))}),o.parser.addNodeFilter("script",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("type","mce-"+(n.attr("type")||"text/javascript"))}),o.parser.addNodeFilter("#cdata",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.type=8,n.name="#comment",n.value="[CDATA["+n.value+"]]"}),o.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t,n){for(var r,i=t.length,a=o.schema.getNonEmptyElements();i--;)r=t[i],r.isEmpty(a)&&(r.empty().append(new e.html.Node("br",1)).shortEnded=!0)}),o.serializer=new e.dom.Serializer(s,o.dom,o.schema),o.selection=new e.dom.Selection(o.dom,o.getWin(),o.serializer,o),o.formatter=new e.Formatter(o),o.undoManager=new e.UndoManager(o),o.forceBlocks=new e.ForceBlocks(o),o.enterKey=new e.EnterKey(o),o.editorCommands=new e.EditorCommands(o),o.onExecCommand.add(function(e,t){/^(FontName|FontSize)$/.test(t)||o.nodeChanged()}),o.serializer.onPreProcess.add(function(e,t){return o.onPreProcess.dispatch(o,t,e)}),o.serializer.onPostProcess.add(function(e,t){return o.onPostProcess.dispatch(o,t,e)}),o.onPreInit.dispatch(o),s.browser_spellcheck||s.gecko_spellcheck||(c.body.spellcheck=!1),s.readonly||o.bindNativeEvents(),o.controlManager.onPostRender.dispatch(o,o.controlManager),o.onPostRender.dispatch(o),o.quirks=e.util.Quirks(o),s.directionality&&(n.dir=s.directionality),s.nowrap&&(n.style.whiteSpace="nowrap"),s.protect&&o.onBeforeSetContent.add(function(e,t){i(s.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),o.onSetContent.add(function(){o.addVisual(o.getBody())}),s.padd_empty_editor&&o.onPostProcess.add(function(e,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"}),o.initialized=!0,o.onInit.dispatch(o),o.execCallback("setupcontent_callback",o.id,n,c),o.execCallback("init_instance_callback",o),o.focus(!0),o.nodeChanged({initial:!0}),o.contentStyles.length>0&&(r="",i(o.contentStyles,function(e){r+=e+"\r\n"}),o.dom.addStyle(r)),i(o.contentCSS,function(e){o.dom.loadCSS(e)}),s.auto_focus&&setTimeout(function(){var t=e.get(s.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),l=c=n=null},focus:function(t){var n,r,i,o,a=this,s=a.selection,l=a.settings.content_editable,c=a.getDoc();t||(a.bookmark&&(s.moveToBookmark(a.bookmark),a.bookmark=null),r=s.getRng(),r.item&&(i=r.item(0)),a._refreshContentEditable(),l||a.getWin().focus(),(e.isGecko||l)&&(o=a.getBody(),o.setActive&&!e.isIE11?o.setActive():o.focus(),l&&s.normalize()),i&&i.ownerDocument==c&&(r=c.body.createControlRange(),r.addElement(i),r.select())),e.activeEditor!=a&&(null!=(n=e.activeEditor)&&n.onDeactivate.dispatch(n,a),a.onActivate.dispatch(a,n)),e._setActive(a)},execCallback:function(t){var n,r=this,i=r.settings[t];if(i)return r.callbackLookup&&(n=r.callbackLookup[t])&&(i=n.func,n=n.scope),s(i,"string")&&(n=i.replace(/\.\w+$/,""),n=n?e.resolve(n):0,i=e.resolve(i),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[t]={func:i,scope:n}),i.apply(n||r,Array.prototype.slice.call(arguments,1))},translate:function(t){var n=this.settings.language||"en",r=e.i18n;return t?r[n+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(e,t){return r[n+"."+t]||"{#"+t+"}"}):""},getLang:function(t,n){return e.i18n[(this.settings.language||"en")+"."+t]||(s(n)?n:"{#"+t+"}")},getParam:function(t,n,r){var o,a=e.trim,l=s(this.settings[t])?this.settings[t]:n;return"hash"===r?(o={},s(l,"string")?i(l.indexOf("=")>0?l.split(/[;,](?![^=;,]*(?:[;,]|$))/):l.split(","),function(e){e=e.split("="),e.length>1?o[a(e[0])]=a(e[1]):o[a(e[0])]=a(e)}):o=l,o):l},nodeChanged:function(e){var t,n=this,r=n.selection;n.initialized&&(e=e||{},t=r.getStart()||n.getBody(),t=a&&t.ownerDocument!=n.getDoc()?n.getBody():t,e.parents=[],n.dom.getParent(t,function(t){return"BODY"==t.nodeName?!0:void e.parents.push(t)}),n.onNodeChange.dispatch(n,e?e.controlManager||n.controlManager:n.controlManager,t,r.isCollapsed(),e))},addButton:function(e,t){var n=this;n.buttons=n.buttons||{},n.buttons[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,r){var o,a=this;return a.settings.custom_shortcuts===!1?!1:(a.shortcuts=a.shortcuts||{},s(n,"string")&&(o=n,n=function(){a.execCommand(o,!1,null)}),s(n,"object")&&(o=n,n=function(){a.execCommand(o[0],o[1],o[2])}),i(u(e),function(e){var o={func:n,scope:r||this,desc:a.translate(t),alt:!1,ctrl:!1,shift:!1};i(u(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":o[e]=!0;break;default:o.charCode=e.charCodeAt(0),o.keyCode=e.toUpperCase().charCodeAt(0)}}),a.shortcuts[(o.ctrl?"ctrl":"")+","+(o.alt?"alt":"")+","+(o.shift?"shift":"")+","+o.keyCode]=o}),!0)},execCommand:function(e,t,n,o){var a,s,l=this,c=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(e)||o&&o.skip_focus||l.focus(),o=r({},o),l.onBeforeExecCommand.dispatch(l,e,t,n,o),o.terminate?!1:l.execCallback("execcommand_callback",l.id,l.selection.getNode(),e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),!0):(a=l.execCommands[e])&&(s=a.func.call(a.scope,t,n),s!==!0)?(l.onExecCommand.dispatch(l,e,t,n,o),s):(i(l.plugins,function(r){return r.execCommand&&r.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),c=1,!1):void 0}),c?!0:l.theme&&l.theme.execCommand&&l.theme.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),!0):l.editorCommands.execCommand(e,t,n)?(l.onExecCommand.dispatch(l,e,t,n,o),!0):(l.getDoc().execCommand(e,t,n),void l.onExecCommand.dispatch(l,e,t,n,o)))},queryCommandState:function(e){var t,n,r=this;if(!r._isHidden()){if((t=r.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=r.editorCommands.queryCommandState(e),-1!==t)return t;try{return this.getDoc().queryCommandState(e)}catch(i){}}},queryCommandValue:function(e){var t,n,r=this;if(!r._isHidden()){if((t=r.queryValueCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=r.editorCommands.queryCommandValue(e),s(t))return t;try{return this.getDoc().queryCommandValue(e)}catch(i){}}},show:function(){var e=this;t.show(e.getContainer()),t.hide(e.id),e.load()},hide:function(){var e=this,n=e.getDoc();a&&n&&n.execCommand("SelectAll"),e.save(),t.hide(e.getContainer()),t.setStyle(e.id,"display",e.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(e,t,n){return this.onSetProgressState.dispatch(this,e,t,n),e},load:function(e){var t,n=this,r=n.getElement();return r?(e=e||{},e.load=!0,t=n.setContent(s(r.value)?r.value:r.innerHTML,e),e.element=r,e.no_events||n.onLoadContent.dispatch(n,e),e.element=r=null,t):void 0},save:function(e){var n,r,o=this,a=o.getElement();if(a&&o.initialized)return e=e||{},e.save=!0,e.element=a,n=e.content=o.getContent(e),e.no_events||o.onSaveContent.dispatch(o,e),n=e.content,/TEXTAREA|INPUT/i.test(a.nodeName)?a.value=n:(a.innerHTML=n,(r=t.getParent(o.id,"form"))&&i(r.elements,function(e){return e.name==o.id?(e.value=n,!1):void 0})),e.element=a=null,n},setContent:function(t,n){var r,i=this,o=i.getBody();return n=n||{},n.format=n.format||"html",n.set=!0,n.content=t,n.no_events||i.onBeforeSetContent.dispatch(i,n),t=n.content,e.isIE||0!==t.length&&!/^\s+$/.test(t)?("raw"!==n.format&&(t=new e.html.Serializer({},i.schema).serialize(i.parser.parse(t))),n.content=e.trim(t),i.dom.setHTML(o,n.content),n.no_events||i.onSetContent.dispatch(i,n),i.settings.content_editable&&document.activeElement!==i.getBody()||i.selection.normalize(),n.content):(r=i.settings.forced_root_block,t=r?"<"+r+'><br data-mce-bogus="1"></'+r+">":'<br data-mce-bogus="1">',o.innerHTML=t,i.selection.select(o,!0),void i.selection.collapse(!0))},getContent:function(t){var n,r=this,i=r.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||r.onBeforeGetContent.dispatch(r,t),n="raw"==t.format?i.innerHTML:"text"==t.format?i.innerText||i.textContent:r.serializer.serialize(i,t),"text"!=t.format?t.content=e.trim(n):t.content=n,t.no_events||r.onGetContent.dispatch(r,t),t.content},isDirty:function(){var t=this;return e.trim(t.startContent)!=e.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=t.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var e,n=this;return n.contentWindow||(e=t.get(n.id+"_ifr"),e&&(n.contentWindow=e.contentWindow)),n.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),s(n.hasVisual)||(n.hasVisual=r.visual),i(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mceItemTable",i=o.getAttrib(e,"border"),void(i&&"0"!=i||(n.hasVisual?o.addClass(e,t):o.removeClass(e,t)));case"A":return void(o.getAttrib(e,"href",!1)||(i=o.getAttrib(e,"name")||e.id,t="mceItemAnchor",i&&(n.hasVisual?o.addClass(e,t):o.removeClass(e,t))))}}),n.onVisualAid.dispatch(n,e,n.hasVisual)},remove:function(){var r=this,i=r.getContainer(),o=r.getDoc();r.removed||(r.removed=1,a&&o&&o.execCommand("SelectAll"),r.save(),t.setStyle(r.id,"display",r.orgDisplay),r.settings.content_editable||(n.unbind(r.getWin()),n.unbind(r.getDoc())),n.unbind(r.getBody()),n.clear(i),r.execCallback("remove_instance_callback",r),r.onRemove.dispatch(r),r.onExecCommand.listeners=[],e.remove(r),t.remove(i))},destroy:function(t){var r=this;r.destroyed||(o&&(n.unbind(r.getDoc()),n.unbind(r.getWin()),n.unbind(r.getBody())),t||(e.removeUnload(r.destroy),tinyMCE.onBeforeUnload.remove(r._beforeUnload),r.theme&&r.theme.destroy&&r.theme.destroy(),r.controlManager.destroy(),r.selection.destroy(),r.dom.destroy()),r.formElement&&(r.formElement.submit=r.formElement._mceOldSubmit,r.formElement._mceOldSubmit=null),r.contentAreaContainer=r.formElement=r.container=r.settings.content_element=r.bodyElement=r.contentDocument=r.contentWindow=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),r.destroyed=1)},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return o?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}})}(tinymce),function(e){var t=e.each;e.Editor.prototype.setupEvents=function(){var n=this,r=n.settings;t(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(t){
n[t]=new e.util.Dispatcher(n)}),r.cleanup_callback&&(n.onBeforeSetContent.add(function(e,t){t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),n.onPreProcess.add(function(e,t){t.set&&e.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&e.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),n.onPostProcess.add(function(e,t){t.set&&(t.content=e.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=e.execCallback("cleanup_callback","get_from_editor",t.content,t))})),r.save_callback&&n.onGetContent.add(function(e,t){t.save&&(t.content=e.execCallback("save_callback",e.id,t.content,e.getBody()))}),r.handle_event_callback&&n.onEvent.add(function(e,t,r){n.execCallback("handle_event_callback",t,e,r)===!1&&(t.preventDefault(),t.stopPropagation())}),r.handle_node_change_callback&&n.onNodeChange.add(function(e,t,n){e.execCallback("handle_node_change_callback",e.id,n,-1,-1,!0,e.selection.isCollapsed())}),r.save_callback&&n.onSaveContent.add(function(e,t){var n=e.execCallback("save_callback",e.id,t.content,e.getBody());n&&(t.content=n)}),r.onchange_callback&&n.onChange.add(function(e,t){e.execCallback("onchange_callback",e,t)})},e.Editor.prototype.bindNativeEvents=function(){function n(e,t){e.type;s.removed||s.onEvent.dispatch(s,e,t)!==!1&&s[a[e.fakeType||e.type]].dispatch(s,e,t)}function r(e){s.focus(!0)}function i(t,n){65==n.keyCode&&e.VK.metaKeyPressed(n)||s.selection.normalize(),s.nodeChanged()}function o(n,r){(n.altKey||n.ctrlKey||n.metaKey)&&t(s.shortcuts,function(t){var i=e.isMac?n.metaKey:n.ctrlKey;if(t.ctrl==i&&t.alt==n.altKey&&t.shift==n.shiftKey)return n.keyCode==t.keyCode||n.charCode&&n.charCode==t.charCode?(n.preventDefault(),r&&t.func.call(t.scope),!0):void 0})}var a,s=this,l=s.settings,c=s.dom;a={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"},t(a,function(t,r){var i=l.content_editable?s.getBody():s.getDoc();switch(r){case"contextmenu":c.bind(i,r,n);break;case"paste":c.bind(s.getBody(),r,n);break;case"submit":case"reset":c.bind(s.getElement().form||e.DOM.getParent(s.id,"form"),r,n);break;default:c.bind(i,r,n)}}),c.bind(l.content_editable?s.getBody():e.isGecko?s.getDoc():s.getWin(),"focus",function(e){s.focus(!0)}),l.content_editable&&e.isOpera&&(c.bind(s.getBody(),"click",r),c.bind(s.getBody(),"keydown",r)),s.onMouseUp.add(i),s.onKeyUp.add(function(t,n){var r=n.keyCode;(r>=33&&36>=r||r>=37&&40>=r||13==r||45==r||46==r||8==r||e.isMac&&(91==r||93==r)||n.ctrlKey)&&i(t,n)}),s.onReset.add(function(){s.setContent(s.startContent,{format:"raw"})}),s.onKeyUp.add(function(e,t){o(t)}),s.onKeyPress.add(function(e,t){o(t)}),s.onKeyDown.add(function(e,t){o(t,!0)}),e.isOpera&&s.onClick.add(function(e,t){t.preventDefault()})}}(tinymce),function(e){var t,n=e.each,r=!0,i=!1;e.EditorCommands=function(o){function a(e,t,n){var o;return e=e.toLowerCase(),(o=y.exec[e])?(o(e,t,n),r):i}function s(e){var t;return e=e.toLowerCase(),(t=y.state[e])?t(e):-1}function l(e){var t;return e=e.toLowerCase(),(t=y.value[e])?t(e):i}function c(e,t){t=t||"exec",n(e,function(e,r){n(r.toLowerCase().split(","),function(n){y[t][n]=e})})}function u(e,n,r){return n===t&&(n=i),r===t&&(r=null),o.getDoc().execCommand(e,n,r)}function d(e){return C.match(e)}function p(e,n){C.toggle(e,n?{value:n}:t)}function h(e){m=v.getBookmark(e)}function f(){v.moveToBookmark(m)}var m,g=o.dom,v=o.selection,y={state:{},exec:{},value:{}},b=o.settings,C=o.formatter;e.extend(this,{execCommand:a,queryCommandState:s,queryCommandValue:l,addCommands:c}),c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},"Cut,Copy,Paste":function(t){var n,i=o.getDoc();try{u(t)}catch(a){n=r}(n||!i.queryCommandSupported(t))&&(e.isGecko?o.windowManager.confirm(o.getLang("clipboard_msg"),function(e){e&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):o.windowManager.alert(o.getLang("clipboard_no_support")))},unlink:function(e){v.isCollapsed()&&v.select(v.getNode()),u(e),v.collapse(i)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);n("left,center,right,full".split(","),function(e){t!=e&&C.remove("align"+e)}),p("align"+t),a("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;u(e),t=g.getParent(v.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(h(),g.split(n,t),f()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){p(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){p(e,n)},FontSize:function(t,n,r){var i,o;r>=1&&7>=r&&(o=e.explode(b.font_size_style_values),i=e.explode(b.font_size_classes),r=i?i[r-1]||r:o[r-1]||r),p(t,r)},RemoveFormat:function(e){C.remove(e)},mceBlockQuote:function(e){p("blockquote")},FormatBlock:function(e,t,n){return p(n||"p")},mceCleanup:function(){var e=v.getBookmark();o.setContent(o.getContent({cleanup:r}),{cleanup:r}),v.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||v.getNode();i!=o.getBody()&&(h(),o.dom.remove(i,r),f())},mceSelectNodeDepth:function(e,t,n){var r=0;g.getParent(v.getNode(),function(e){return 1==e.nodeType&&r++==n?(v.select(e),i):void 0},o.getBody())},mceSelectNode:function(e,t,n){v.select(n)},mceInsertContent:function(t,n,r){var i,a,s,l,c,u,d,p,h,f,m,y,b,C;if(i=o.parser,a=new e.html.Serializer({},o.schema),b='<span id="mce_marker" data-mce-type="bookmark">\ufeff</span>',u={content:r,format:"html"},v.onBeforeSetContent.dispatch(v,u),r=u.content,-1==r.indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,b),v.isCollapsed()||o.getDoc().execCommand("Delete",!1,null),s=v.getNode(),u={context:s.nodeName.toLowerCase()},c=i.parse(r,u),m=c.lastChild,"mce_marker"==m.attr("id"))for(d=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!g.isBlock(m.name)){m.parent.insert(d,m,"br"===m.name);break}if(u.invalid){for(v.setContent(b),s=v.getNode(),l=o.getBody(),9==s.nodeType?s=m=l:m=s;m!==l;)s=m,m=m.parentNode;r=s==l?l.innerHTML:g.getOuterHTML(s),r=a.serialize(i.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return a.serialize(c)}))),s==l?g.setHTML(l,r):g.setOuterHTML(s,r)}else r=a.serialize(c),m=s.firstChild,y=s.lastChild,!m||m===y&&"BR"===m.nodeName?g.setHTML(s,r):v.setContent(r);d=g.get("mce_marker"),p=g.getRect(d),h=g.getViewPort(o.getWin()),(p.y+p.h>h.y+h.h||p.y<h.y||p.x>h.x+h.w||p.x<h.x)&&(C=e.isIE?o.getDoc().documentElement:o.getBody(),C.scrollLeft=p.x,C.scrollTop=p.y-h.h+25),f=g.createRng(),m=d.previousSibling,m&&3==m.nodeType?f.setStart(m,m.nodeValue.length):(f.setStartBefore(d),f.setEndBefore(d)),g.remove(d),v.setRng(f),v.onSetContent.dispatch(v,u),o.addVisual()},mceInsertRawHTML:function(e,t,n){v.setContent("tiny_mce_marker"),o.setContent(o.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){p(n)},mceSetContent:function(e,t,n){o.setContent(n)},"Indent,Outdent":function(e){var t,r,i;t=b.indentation,r=/[a-z%]+$/i.exec(t),t=parseInt(t),s("InsertUnorderedList")||s("InsertOrderedList")?u(e):(b.forced_root_block||g.getParent(v.getNode(),g.isBlock)||C.apply("div"),n(v.getSelectedBlocks(),function(n){"outdent"==e?(i=Math.max(0,parseInt(n.style.paddingLeft||0)-t),g.setStyle(n,"paddingLeft",i?i+r:"")):g.setStyle(n,"paddingLeft",parseInt(n.style.paddingLeft||0)+t+r)}))},mceRepaint:function(){if(e.isGecko)try{h(r),v.getSel()&&v.getSel().selectAllChildren(o.getBody()),v.collapse(r),f()}catch(t){}},mceToggleFormat:function(e,t,n){C.toggle(n)},InsertHorizontalRule:function(){o.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual,o.addVisual()},mceReplaceContent:function(e,t,n){o.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,v.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=g.getParent(v.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||C.remove("link"),n.href&&C.apply("link",n,r)},selectAll:function(){var e=g.getRoot(),t=g.createRng();v.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),v.setRng(t)):u("SelectAll")}}),c({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var n="align"+t.substring(7),i=v.isCollapsed()?[g.getParent(v.getNode(),g.isBlock)]:v.getSelectedBlocks(),o=e.map(i,function(e){return!!C.matchNode(e,n)});return-1!==e.inArray(o,r)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return d(e)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=g.getParent(v.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return r;if((e=g.getParent(v.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return r}return s("InsertUnorderedList")||s("InsertOrderedList")||!b.inline_styles&&!!g.getParent(v.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=g.getParent(v.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),c({"FontSize,FontName":function(e){var t,n=0;return(t=g.getParent(v.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),c({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}})}}(tinymce),function(e){var t=e.util.Dispatcher;e.UndoManager=function(n){function r(){return e.trim(n.getContent({format:"raw",no_events:1}).replace(/<span[^>]+data-mce-bogus[^>]+>[\u200B\uFEFF]+<\/span>/g,""))}function i(){o.typing=!1,o.add()}var o,a,s,l,c,u=0,d=[];return onBeforeAdd=new t(o),s=new t(o),l=new t(o),c=new t(o),s.add(function(e,t){return e.hasUndo()?n.onChange.dispatch(n,t,e):void 0}),l.add(function(e,t){return n.onUndo.dispatch(n,t,e)}),c.add(function(e,t){return n.onRedo.dispatch(n,t,e)}),n.onInit.add(function(){o.add()}),n.onBeforeExecCommand.add(function(e,t,n,r,i){"Undo"==t||"Redo"==t||"mceRepaint"==t||i&&i.skip_undo||o.beforeChange()}),n.onExecCommand.add(function(e,t,n,r,i){"Undo"==t||"Redo"==t||"mceRepaint"==t||i&&i.skip_undo||o.add()}),n.onSaveContent.add(i),n.dom.bind(n.dom.getRoot(),"dragend",i),n.dom.bind(n.getBody(),"focusout",function(e){!n.removed&&o.typing&&i()}),n.onKeyUp.add(function(e,t){var n=t.keyCode;(n>=33&&36>=n||n>=37&&40>=n||45==n||13==n||t.ctrlKey)&&i()}),n.onKeyDown.add(function(e,t){var n=t.keyCode;return n>=33&&36>=n||n>=37&&40>=n||45==n?void(o.typing&&i()):void((16>n||n>20)&&224!=n&&91!=n&&!o.typing&&(o.beforeChange(),o.typing=!0,o.add()))}),n.onMouseDown.add(function(e,t){o.typing&&i()}),n.addShortcut("ctrl+z","undo_desc","Undo"),n.addShortcut("ctrl+y","redo_desc","Redo"),o={data:d,typing:!1,onBeforeAdd:onBeforeAdd,onAdd:s,onUndo:l,onRedo:c,beforeChange:function(){a=n.selection.getBookmark(2,!0)},add:function(e){var t,i,s=n.settings;if(e=e||{},e.content=r(),o.onBeforeAdd.dispatch(o,e),i=d[u],i&&i.content==e.content)return null;if(d[u]&&(d[u].beforeBookmark=a),s.custom_undo_redo_levels&&d.length>s.custom_undo_redo_levels){for(t=0;t<d.length-1;t++)d[t]=d[t+1];d.length--,u=d.length}return e.bookmark=n.selection.getBookmark(2,!0),u<d.length-1&&(d.length=u+1),d.push(e),u=d.length-1,o.onAdd.dispatch(o,e),n.isNotDirty=0,e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1),u>0&&(e=d[--u],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.beforeBookmark),o.onUndo.dispatch(o,e)),e},redo:function(){var e;return u<d.length-1&&(e=d[++u],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.bookmark),o.onRedo.dispatch(o,e)),e},clear:function(){d=[],u=0,o.typing=!1},hasUndo:function(){return u>0||this.typing},hasRedo:function(){return u<d.length-1&&!this.typing}}}}(tinymce),tinymce.ForceBlocks=function(e){function t(){var t,a,s,l,c,u,d,p,h,f=i.getStart(),m=e.getBody(),g=-16777215;if(f&&1===f.nodeType&&n.forced_root_block){for(;f&&f!=m;){if(o[f.nodeName])return;f=f.parentNode}for(t=i.getRng(),t.setStart?(a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset):(t.item&&(f=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(f)),h=t.parentElement().ownerDocument===e.getDoc(),tmpRng=t.duplicate(),tmpRng.collapse(!0),s=-1*tmpRng.move("character",g),tmpRng.collapsed||(tmpRng=t.duplicate(),tmpRng.collapse(!1),c=-1*tmpRng.move("character",g)-s)),f=m.firstChild;f;)if(3===f.nodeType||1==f.nodeType&&!o[f.nodeName]){if(3===f.nodeType&&0==f.nodeValue.length){d=f,f=f.nextSibling,r.remove(d);continue}u||(u=r.create(n.forced_root_block),f.parentNode.insertBefore(u,f),p=!0),d=f,f=f.nextSibling,u.appendChild(d)}else u=null,f=f.nextSibling;if(p){if(t.setStart)t.setStart(a,s),t.setEnd(l,c),i.setRng(t);else if(h)try{t=e.getDoc().body.createTextRange(),t.moveToElementText(m),t.collapse(!0),t.moveStart("character",s),c>0&&t.moveEnd("character",c),t.select()}catch(v){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,o=e.schema.getBlockElements();n.forced_root_block&&(e.onKeyUp.add(t),e.onNodeChange.add(t))},function(e){var t=(e.DOM,e.dom.Event),n=e.each,r=e.extend;e.create("tinymce.ControlManager",{ControlManager:function(t,r){var i=this;r=r||{},i.editor=t,i.controls={},i.onAdd=new e.util.Dispatcher(i),i.onPostRender=new e.util.Dispatcher(i),i.prefix=r.prefix||t.id+"_",i._cls={},i.onPostRender.add(function(){n(i.controls,function(e){e.postRender()})})},get:function(e){return this.controls[this.prefix+e]||this.controls[e]},setActive:function(e,t){var n=null;return(n=this.get(e))&&n.setActive(t),n},setDisabled:function(e,t){var n=null;return(n=this.get(e))&&n.setDisabled(t),n},add:function(e){var t=this;return e&&(t.controls[e.id]=e,t.onAdd.dispatch(e,t)),e},createControl:function(e){var t,r,i,o,a=this,s=a.editor;for(a.controlFactories||(a.controlFactories=[],n(s.plugins,function(e){e.createControl&&a.controlFactories.push(e)})),o=a.controlFactories,r=0,i=o.length;i>r;r++)if(t=o[r].createControl(e,a))return a.add(t);return"|"===e||"separator"===e?a.createSeparator():s.buttons&&(t=s.buttons[e])?a.createButton(e,t):a.add(t)},createDropMenu:function(t,n,i){var o,a,s,l,c=this,u=c.editor;return n=r({"class":"mceDropDown",constrain:u.settings.constrain_menus},n),n["class"]=n["class"]+" "+u.getParam("skin")+"Skin",(s=u.getParam("skin_variant"))&&(n["class"]+=" "+u.getParam("skin")+"Skin"+s.substring(0,1).toUpperCase()+s.substring(1)),n["class"]+="rtl"==u.settings.directionality?" mceRtl":"",t=c.prefix+t,l=i||c._cls.dropmenu||e.ui.DropMenu,o=c.controls[t]=new l(t,n),o.onAddItem.add(function(e,t){var n=t.settings;n.title=u.getLang(n.title,n.title),n.onclick||(n.onclick=function(e){n.cmd&&u.execCommand(n.cmd,n.ui||!1,n.value)})}),u.onRemove.add(function(){o.destroy()}),e.isIE&&(o.onShowMenu.add(function(){u.focus(),a=u.selection.getBookmark(1)}),o.onHideMenu.add(function(){a&&(u.selection.moveToBookmark(a),a=0)})),c.add(o)},createListBox:function(n,i,o){function a(t){return t.settings.use_accessible_selects&&!e.isGecko}var s,l,c=this,u=c.editor;return c.get(n)?null:(i.title=u.translate(i.title),i.scope=i.scope||u,i.onselect||(i.onselect=function(e){u.execCommand(i.cmd,i.ui||!1,e||i.value)}),i=r({title:i.title,"class":"mce_"+n,scope:i.scope,control_manager:c},i),n=c.prefix+n,u.settings.use_native_selects||a(u)?s=new e.ui.NativeListBox(n,i):(l=o||c._cls.listbox||e.ui.ListBox,s=new l(n,i,u)),c.controls[n]=s,e.isWebKit&&s.onPostRender.add(function(e,n){t.add(n,"mousedown",function(){u.bookmark=u.selection.getBookmark(1)}),t.add(n,"focus",function(){u.selection.moveToBookmark(u.bookmark),u.bookmark=null})}),s.hideMenu&&u.onMouseDown.add(s.hideMenu,s),c.add(s))},createButton:function(t,n,i){var o,a,s=this,l=s.editor;return s.get(t)?null:(n.title=l.translate(n.title),n.label=l.translate(n.label),n.scope=n.scope||l,n.onclick||n.menu_button||(n.onclick=function(){l.execCommand(n.cmd,n.ui||!1,n.value)}),n=r({title:n.title,"class":"mce_"+t,unavailable_prefix:l.getLang("unavailable",""),scope:n.scope,control_manager:s},n),t=s.prefix+t,n.menu_button?(a=i||s._cls.menubutton||e.ui.MenuButton,o=new a(t,n,l),l.onMouseDown.add(o.hideMenu,o)):(a=s._cls.button||e.ui.Button,o=new a(t,n,l)),s.add(o))},createMenuButton:function(e,t,n){return t=t||{},t.menu_button=1,this.createButton(e,t,n)},createSplitButton:function(t,n,i){var o,a,s=this,l=s.editor;return s.get(t)?null:(n.title=l.translate(n.title),n.scope=n.scope||l,n.onclick||(n.onclick=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n.onselect||(n.onselect=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=r({title:n.title,"class":"mce_"+t,scope:n.scope,control_manager:s},n),t=s.prefix+t,a=i||s._cls.splitbutton||e.ui.SplitButton,o=s.add(new a(t,n,l)),l.onMouseDown.add(o.hideMenu,o),o)},createColorSplitButton:function(t,n,i){var o,a,s,l=this,c=l.editor;return l.get(t)?null:(n.title=c.translate(n.title),n.scope=n.scope||c,n.onclick||(n.onclick=function(t){e.isIE&&(s=c.selection.getBookmark(1)),c.execCommand(n.cmd,n.ui||!1,t||n.value)}),n.onselect||(n.onselect=function(e){c.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=r({title:n.title,"class":"mce_"+t,menu_class:c.getParam("skin")+"Skin",scope:n.scope,more_colors_title:c.getLang("more_colors")},n),t=l.prefix+t,a=i||l._cls.colorsplitbutton||e.ui.ColorSplitButton,o=new a(t,n,c),c.onMouseDown.add(o.hideMenu,o),c.onRemove.add(function(){o.destroy()}),e.isIE&&(o.onShowMenu.add(function(){c.focus(),s=c.selection.getBookmark(1)}),o.onHideMenu.add(function(){s&&(c.selection.moveToBookmark(s),s=0)})),l.add(o))},createToolbar:function(t,n,r){var i,o,a=this;return t=a.prefix+t,o=r||a._cls.toolbar||e.ui.Toolbar,i=new o(t,n,a.editor),a.get(t)?null:a.add(i)},createToolbarGroup:function(t,n,r){var i,o,a=this;return t=a.prefix+t,o=r||this._cls.toolbarGroup||e.ui.ToolbarGroup,i=new o(t,n,a.editor),a.get(t)?null:a.add(i)},createSeparator:function(t){var n=t||this._cls.separator||e.ui.Separator;return new n},setControlType:function(e,t){return this._cls[e.toLowerCase()]=t},destroy:function(){n(this.controls,function(e){e.destroy()}),this.controls=null}})}(tinymce),function(e){var t=e.util.Dispatcher,n=e.each,r=e.isIE,i=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(e){var n=this;n.editor=e,n.onOpen=new t(n),n.onClose=new t(n),n.params={},n.features={}},open:function(t,o){var a,s,l,c,u=this,d="",p="modal"==u.editor.settings.dialog_type,h=e.DOM.getViewPort();t=t||{},o=o||{},s=i?h.w:screen.width,l=i?h.h:screen.height,t.name=t.name||"mc_"+(new Date).getTime(),t.width=parseInt(t.width||320),t.height=parseInt(t.height||240),t.resizable=!0,t.left=t.left||parseInt(s/2)-t.width/2,t.top=t.top||parseInt(l/2)-t.height/2,o.inline=!1,o.mce_width=t.width,o.mce_height=t.height,o.mce_auto_focus=t.auto_focus,p&&r&&(t.center=!0,t.help=!1,t.dialogWidth=t.width+"px",t.dialogHeight=t.height+"px",t.scroll=t.scrollbars||!1),n(t,function(t,n){e.is(t,"boolean")&&(t=t?"yes":"no"),/^(name|url)$/.test(n)||(d+=r&&p?(d?";":"")+n+":"+t:(d?",":"")+n+"="+t)}),u.features=t,u.params=o,u.onOpen.dispatch(u,t,o),c=t.url||t.file,c=e._addVer(c);try{r&&p?(a=1,window.showModalDialog(c,window,d)):a=window.open(c,t.name,d)}catch(f){}a||alert(u.editor.getLang("popup_blocked"))},close:function(e){e.close(),this.onClose.dispatch(this)},createInstance:function(t,n,r,i,o,a){var s=e.resolve(t);return new s(n,r,i,o,a)},confirm:function(e,t,n,r){r=r||window,t.call(n||this,r.confirm(this._decode(this.editor.getLang(e,e))))},alert:function(e,t,n,r){var i=this;r=r||window,r.alert(i._decode(i.editor.getLang(e,e))),t&&t.call(n||i)},resizeBy:function(e,t,n){n.resizeBy(e,t)},_decode:function(t){return e.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(e){e.Formatter=function(t){function n(e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]}function r(e,t){return O.getParents(e,t,O.getRoot())}function i(e){return 1===e.nodeType&&"_mce_caret"===e.id}function o(){l({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e){return!0},onformat:function(e,t,n){L(n,function(t,n){O.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),L("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(e){l(e,{block:e,remove:"all"})}),l(t.settings.formats)}function a(){t.addShortcut("ctrl+b","bold_desc","Bold"),t.addShortcut("ctrl+i","italic_desc","Italic"),t.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)t.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),t.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),t.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function s(e){return e?D[e]:D}function l(e,t){e&&("string"!=typeof e?L(e,function(e,t){l(t,e)}):(t=t.length?t:[t],L(t,function(e){e.deep===M&&(e.deep=!e.selector),e.split===M&&(e.split=!e.selector||e.inline),e.remove===M&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),D[e]=t))}function c(r,o,a){function l(e,t){t=t||b,e&&(t.onformat&&t.onformat(e,t,o,a),L(t.styles,function(t,n){O.setStyle(e,n,C(t,o))}),L(t.attributes,function(t,n){O.setAttrib(e,n,C(t,o))}),L(t.classes,function(t){t=C(t,o),O.hasClass(e,t)||O.addClass(e,t)}))}function u(){function e(e,t){var n=new F(t);for(a=n.current();a;a=n.prev())if(a.childNodes.length>1||a==e||"BR"==a.tagName)return a}var n=t.selection.getRng(),r=n.startContainer,i=n.endContainer;if(r!=i&&0===n.endOffset){var o=e(r,i),s=3==o.nodeType?o.length:o.childNodes.length;n.setEnd(o,s)}return n}function d(t,n,r,i,o){var a,s,l=[],c=-1,u=-1,d=-1;return L(t.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(c=t,a=e,!1):void 0}),L(t.childNodes,function(e,t){"SPAN"===e.nodeName&&"bookmark"==O.getAttrib(e,"data-mce-type")&&(e.id==n.id+"_start"?u=t:e.id==n.id+"_end"&&(d=t))}),0>=c||c>u&&d>c?(L(e.grep(t.childNodes),o),0):(s=O.clone(r,z),L(e.grep(t.childNodes),function(e,t){(c>u&&c>t||u>c&&t>c)&&(l.push(e),e.parentNode.removeChild(e))}),c>u?t.insertBefore(s,a):u>c&&t.insertBefore(s,a.nextSibling),i.push(s),L(l,function(e){s.appendChild(e)}),s)}function h(t,a,s){var c,u,h=[],f=!0;c=b.inline||b.block,u=O.create(c),l(u),$.walk(t,function(t){function m(t){var C,w,E,x,T;return T=f,C=t.nodeName.toLowerCase(),w=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&G(t)&&(T=f,f="true"===G(t),x=!0),y(C,"br")?(v=0,void(b.block&&O.remove(t))):b.wrapper&&p(t,r,o)?void(v=0):f&&!x&&b.block&&!b.wrapper&&n(C)?(t=O.rename(t,c),l(t),h.push(t),void(v=0)):b.selector&&(L(g,function(e){"collapsed"in e&&e.collapsed!==_||O.is(t,e.selector)&&!i(t)&&(l(t,e),E=!0)}),!b.inline||E)?void(v=0):void(!f||x||!U(c,C)||!U(w,c)||!s&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||i(t)||b.inline&&j(t)?"li"==C&&a?v=d(t,a,u,h,m):(v=0,L(e.grep(t.childNodes),m),x&&(f=T),v=0):(v||(v=O.clone(u,z),t.parentNode.insertBefore(v,t),h.push(v)),v.appendChild(t)))}var v;L(t,m)}),b.wrap_links===!1&&L(h,function(t){function n(t){var r,i,o;if("A"===t.nodeName){for(i=O.clone(u,z),h.push(i),o=e.grep(t.childNodes),r=0;r<o.length;r++)i.appendChild(o[r]);t.appendChild(i)}L(e.grep(t.childNodes),n)}n(t)}),L(h,function(e){function t(e){var t=0;return L(e.childNodes,function(e){w(e)||N(e)||t++}),t}function n(e){var t,n;return L(e.childNodes,function(e){return 1!=e.nodeType||N(e)||i(e)?void 0:(t=e,z)}),t&&v(t,b)&&(n=O.clone(t,z),l(n),O.replace(n,e,K),O.remove(t,1)),n||e}var a;if(a=t(e),(h.length>1||!j(e))&&0===a)return void O.remove(e,1);if(b.inline||b.wrapper){if(b.exact||1!==a||(e=n(e)),L(g,function(t){L(O.select(t.inline,e),function(e){var n;if(t.wrap_links===!1){n=e.parentNode;do if("A"===n.nodeName)return;while(n=n.parentNode)}x(t,o,e,t.exact?e:null)})}),p(e.parentNode,r,o))return O.remove(e,1),e=0,K;b.merge_with_parents&&O.getParent(e.parentNode,function(t){return p(t,r,o)?(O.remove(e,1),e=0,K):void 0}),e&&b.merge_siblings!==!1&&(e=k(S(e),e),e=k(e,S(e,K)))}})}var f,m,g=s(r),b=g[0],_=B.isCollapsed();if(b)if(a)a.nodeType?(m=O.createRng(),m.setStartBefore(a),m.setEndAfter(a),h(E(m,g),null,!0)):h(a,null,!0);else if(_&&b.inline&&!O.select("td.mceSelected,th.mceSelected").length)I("apply",r,o);else{var T=t.selection.getNode();H||!g[0].defaultBlock||O.getParent(T,O.isBlock)||c(g[0].defaultBlock),t.selection.setRng(u()),f=B.getBookmark(),h(E(B.getRng(K),g),f),b.styles&&(b.styles.color||b.styles.textDecoration)&&(e.walk(T,Y,"childNodes"),Y(T)),B.moveToBookmark(f),P(B.getRng(K)),t.nodeChanged()}}function u(n,i,o){function a(t){var n,r,o,s,l;if(3!==t.nodeType){if(1===t.nodeType&&G(t)&&(s=b,b="true"===G(t),l=!0),n=e.grep(t.childNodes),b&&!l)for(r=0,o=v.length;o>r&&!x(v[r],i,t,t);r++);if(y.deep&&n.length){for(r=0,o=n.length;o>r;r++)a(n[r]);l&&(b=s)}}}function l(e){var t;return L(r(e.parentNode).reverse(),function(e){var r;t||"_start"==e.id||"_end"==e.id||(r=p(e,n,i),r&&r.split!==!1&&(t=e))}),t}function c(e,t,n,r){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=t.parentNode;o&&o!=u;o=o.parentNode){for(a=O.clone(o,z),c=0;c<v.length;c++)if(x(v[c],i,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||y.mixed&&j(e)||(t=O.split(e,t)),s&&(n.parentNode.insertBefore(s,n),l.appendChild(n))}return t}function u(e){return c(l(e),e,e,!0)}function d(e){var t=O.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return N(n)&&(n=n[e?"firstChild":"lastChild"]),O.remove(t,!0),n}function f(e){var n,r;e=E(e,v,K),y.split&&(n=R(e,K),r=R(e),n!=r?(/^(TR|TD)$/.test(n.nodeName)&&n.firstChild&&(n=("TD"==n.nodeName?n.firstChild:n.firstChild.firstChild)||n),n=_(n,"span",{id:"_start","data-mce-type":"bookmark"}),r=_(r,"span",{id:"_end","data-mce-type":"bookmark"}),u(n),u(r),n=d(K),r=d()):n=r=u(n),e.startContainer=n.parentNode,e.startOffset=q(n),e.endContainer=r.parentNode,e.endOffset=q(r)+1),$.walk(e,function(e){L(e,function(e){a(e),1===e.nodeType&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===X(e.parentNode)&&x({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var m,g,v=s(n),y=v[0],b=!0;return o?void(o.nodeType?(g=O.createRng(),g.setStartBefore(o),g.setEndAfter(o),f(g)):f(o)):void(B.isCollapsed()&&y.inline&&!O.select("td.mceSelected,th.mceSelected").length?I("remove",n,i):(m=B.getBookmark(),f(B.getRng(K)),B.moveToBookmark(m),y.inline&&h(n,i,B.getStart())&&P(B.getRng(!0)),t.nodeChanged()))}function d(e,t,n){var r=s(e);!h(e,t,n)||"toggle"in r[0]&&!r[0].toggle?c(e,t,n):u(e,t,n)}function p(e,t,n,r){function i(e,t,i){var o,a,s,l=t[i];if(t.onmatch)return t.onmatch(e,t,i);if(l)if(l.length===M){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===i?O.getAttrib(e,o):b(e,o),r&&!a&&!t.exact)return;if((!r||t.exact)&&!y(a,C(l[o],n)))return}}else for(s=0;s<l.length;s++)if("attributes"===i?O.getAttrib(e,l[s]):b(e,l[s]))return t;return t}var o,a,l,c=s(t);if(c&&e)for(a=0;a<c.length;a++)if(o=c[a],v(e,o)&&i(e,o,"attributes")&&i(e,o,"styles")){if(l=o.classes)for(a=0;a<l.length;a++)if(!O.hasClass(e,l[a]))return;return o}}function h(e,t,n){function r(n){return n=O.getParent(n,function(n){return!!p(n,e,t,!0)}),p(n,e,t)}var i;return n?r(n):(n=B.getNode(),r(n)?K:(i=B.getStart(),i!=n&&r(i)?K:z))}function f(e,t){var n,r=[],i={};return n=B.getStart(),O.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!i[a]&&p(n,a,t)&&(i[a]=!0,r.push(a))},O.getRoot()),r}function m(e){var t,n,i,o,a,l=s(e);if(l)for(t=B.getStart(),n=r(t),o=l.length-1;o>=0;o--){if(a=l[o].selector,!a)return K;for(i=n.length-1;i>=0;i--)if(O.is(n[i],a))return K}return z}function g(e,n,i){var o;return A||(A={},o={},t.onNodeChange.addToTop(function(e,t,n){var i=r(n),a={};L(A,function(e,t){L(i,function(n){return p(n,t,{},e.similar)?(o[t]||(L(e,function(e){e(!0,{node:n,format:t,parents:i})}),o[t]=e),a[t]=e,!1):void 0})}),L(o,function(e,t){a[t]||(delete o[t],L(e,function(e){e(!1,{node:n,format:t,parents:i})}))})})),L(e.split(","),function(e){A[e]||(A[e]=[],A[e].similar=i),A[e].push(n)}),this}function v(e,t){return y(e,t.inline)?K:y(e,t.block)?K:t.selector?O.is(e,t.selector):void 0}function y(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function b(e,t){var n=O.getStyle(e,t);return("color"==t||"backgroundColor"==t)&&(n=O.toHex(n)),"fontWeight"==t&&700==n&&(n="bold"),""+n}function C(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function w(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function _(e,t,n){var r=O.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function E(e,i,o){function a(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var n,r,o,a,s;if(n=r=e?m:v,a=e?"previousSibling":"nextSibling",s=O.getRoot(),3==n.nodeType&&!w(n)&&(e?g>0:b<n.nodeValue.length))return n;for(;;){if(!i[0].block_expand&&j(r))return r;for(o=r[a];o;o=o[a])if(!N(o)&&!w(o)&&!t(o))return r;if(r.parentNode==s){n=r;break}r=r.parentNode}return n}function s(e,t){for(t===M&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function l(e){for(var t=e;t;){if(1===t.nodeType&&G(t))return"false"===G(t)?t:e;t=t.parentNode}return e}function c(e,n,r){function i(e,t){var n,i,a=e.nodeValue;return"undefined"==typeof t&&(t=r?a.length:0),r?(n=a.lastIndexOf(" ",t),i=a.lastIndexOf("\xa0",t),n=n>i?n:i,-1===n||o||n++):(n=a.indexOf(" ",t),i=a.indexOf("\xa0",t),n=-1!==n&&(-1===i||i>n)?n:i),n}var a,s,l,c;if(3===e.nodeType){if(l=i(e,n),-1!==l)return{container:e,offset:l};c=e}for(a=new F(e,O.getParent(e,j)||t.getBody());s=a[r?"prev":"next"]();)if(3===s.nodeType){if(c=s,l=i(s),-1!==l)return{container:s,offset:l}}else if(j(s))break;return c?(n=r?0:c.length,{container:c,offset:n}):void 0}function u(t,n){var o,a,s,l;for(3==t.nodeType&&0===t.nodeValue.length&&t[n]&&(t=t[n]),o=r(t),a=0;a<o.length;a++)for(s=0;s<i.length;s++)if(l=i[s],!("collapsed"in l&&l.collapsed!==e.collapsed)&&O.is(o[a],l.selector))return o[a];return t}function d(e,t,o){var a;if(i[0].wrapper||(a=O.getParent(e,i[0].block)),a||(a=O.getParent(3==e.nodeType?e.parentNode:e,n)),a&&i[0].wrapper&&(a=r(a,"ul,ol").reverse()[0]||a),!a)for(a=e;a[t]&&!j(a[t])&&(a=a[t],!y(a,"br")););return a||e}var p,h,f,m=e.startContainer,g=e.startOffset,v=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(p=m.childNodes.length-1,m=m.childNodes[g>p?p:g],3==m.nodeType&&(g=0)),1==v.nodeType&&v.hasChildNodes()&&(p=v.childNodes.length-1,v=v.childNodes[b>p?p:b-1],3==v.nodeType&&(b=v.nodeValue.length)),m=l(m),v=l(v),(N(m.parentNode)||N(m))&&(m=N(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(g=0)),(N(v.parentNode)||N(v))&&(v=N(v)?v:v.parentNode,v=v.previousSibling||v,3==v.nodeType&&(b=v.length)),i[0].inline&&(e.collapsed&&(f=c(m,g,!0),f&&(m=f.container,
g=f.offset),f=c(v,b),f&&(v=f.container,b=f.offset)),h=s(v,b),h.node)){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=s(h.node.previousSibling);h.node&&h.offset>0&&3===h.node.nodeType&&" "===h.node.nodeValue.charAt(h.offset-1)&&h.offset>1&&(v=h.node,v.splitText(h.offset-1))}return(i[0].inline||i[0].block_expand)&&(i[0].inline&&3==m.nodeType&&0!==g||(m=a(!0)),i[0].inline&&3==v.nodeType&&b!==v.nodeValue.length||(v=a())),i[0].selector&&i[0].expand!==z&&!i[0].inline&&(m=u(m,"previousSibling"),v=u(v,"nextSibling")),(i[0].block||i[0].selector)&&(m=d(m,"previousSibling"),v=d(v,"nextSibling"),i[0].block&&(j(m)||(m=a(!0)),j(v)||(v=a()))),1==m.nodeType&&(g=q(m),m=m.parentNode),1==v.nodeType&&(b=q(v)+1,v=v.parentNode),{startContainer:m,startOffset:g,endContainer:v,endOffset:b}}function x(e,t,n,r){var i,o,a;if(!v(n,e))return z;if("all"!=e.remove)for(L(e.styles,function(e,i){e=C(e,t),"number"==typeof i&&(i=e,r=0),(!r||y(b(r,i),e))&&O.setStyle(n,i,""),a=1}),a&&""==O.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),L(e.attributes,function(e,i){var o;if(e=C(e,t),"number"==typeof i&&(i=e,r=0),!r||y(O.getAttrib(r,i),e)){if("class"==i&&(e=O.getAttrib(n,i),e&&(o="",L(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return void O.setAttrib(n,i,o);"class"==i&&n.removeAttribute("className"),W.test(i)&&n.removeAttribute("data-mce-"+i),n.removeAttribute(i)}}),L(e.classes,function(e){e=C(e,t),(!r||O.hasClass(r,e))&&O.removeClass(n,e)}),o=O.getAttribs(n),i=0;i<o.length;i++)if(0!==o[i].nodeName.indexOf("_"))return z;return"none"!=e.remove?(T(n,e),K):void 0}function T(t,n){function r(e,t,n){return e=S(e,t,n),!e||"BR"==e.nodeName||j(e)}var i,o=t.parentNode;n.block&&(H?o==O.getRoot()&&(n.list_block&&y(t,n.list_block)||L(e.grep(t.childNodes),function(e){U(H,e.nodeName.toLowerCase())?i?i.appendChild(e):i=_(e,H):i=0})):j(t)&&!j(o)&&(r(t,z)||r(t.firstChild,K,1)||t.insertBefore(O.create("br"),t.firstChild),r(t,K)||r(t.lastChild,z,1)||t.appendChild(O.create("br")))),n.selector&&n.inline&&!y(n.inline,t)||O.remove(t,1)}function S(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!w(e))return e}function N(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function k(t,n){function r(e,t){function n(e){var t={};return L(O.getAttribs(e),function(n){var r=n.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&(t[r]=O.getAttrib(e,r))}),t}function r(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],n===M)return z;if(e[r]!=n)return z;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return z;return K}return e.nodeName!=t.nodeName?z:r(n(e),n(t))&&r(O.parseStyle(O.getAttrib(e,"style")),O.parseStyle(O.getAttrib(t,"style")))?K:z}function i(e,t){for(o=e;o;o=o[t]){if(3==o.nodeType&&0!==o.nodeValue.length)return e;if(1==o.nodeType&&!N(o))return o}return e}var o,a;if(t&&n&&(t=i(t,"previousSibling"),n=i(n,"nextSibling"),r(t,n))){for(o=t.nextSibling;o&&o!=n;)a=o,o=o.nextSibling,t.appendChild(a);return O.remove(n),L(e.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function R(e,n){var r,i,o;return r=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1==r.nodeType&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>o?o:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=new F(r,t.getBody()).next()||r),3!==r.nodeType||n||0!==i||(r=new F(r,t.getBody()).prev()||r),r}function I(r,i,o){function a(e){var n=O.create("span",{id:y,"data-mce-bogus":!0,style:b?"color:red":""});return e&&n.appendChild(t.getDoc().createTextNode(V)),n}function l(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==V||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function d(e){for(;e;){if(e.id===y)return e;e=e.parentNode}}function h(e){var t;if(e)for(t=new F(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function f(e,t){var n,r;if(e)r=B.getRng(!0),l(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),O.remove(e)):(n=h(e),n.nodeValue.charAt(0)===V&&(n=n.deleteData(0,1)),O.remove(e,1)),B.setRng(r);else if(e=d(B.getStart()),!e)for(;e=O.get(y);)f(e,!1)}function m(){var e,t,n,r,l,u,p;e=B.getRng(!0),r=e.startOffset,u=e.startContainer,p=u.nodeValue,t=d(B.getStart()),t&&(n=h(t)),p&&r>0&&r<p.length&&/\w/.test(p.charAt(r))&&/\w/.test(p.charAt(r-1))?(l=B.getBookmark(),e.collapse(!0),e=E(e,s(i)),e=$.split(e),c(i,o,e),B.moveToBookmark(l)):(t&&n.nodeValue===V?c(i,o,t):(t=a(!0),n=t.firstChild,e.insertNode(t),r=1,c(i,o,t)),B.setCursorLocation(n,r))}function g(){var e,t,r,l,c,d,h,f,m=B.getRng(!0),g=[];for(e=m.startContainer,t=m.startOffset,c=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===V)&&(l=!0),c=c.parentNode);c;){if(p(c,i,o)){d=c;break}c.nextSibling&&(l=!0),g.push(c),c=c.parentNode}if(d)if(l)r=B.getBookmark(),m.collapse(!0),m=E(m,s(i),!0),m=$.split(m),u(i,o,m),B.moveToBookmark(r);else{for(f=a(),c=f,h=g.length-1;h>=0;h--)c.appendChild(O.clone(g[h],!1)),c=c.firstChild;c.appendChild(O.doc.createTextNode(V)),c=c.firstChild;var v=O.getParent(d,n);v&&O.isEmpty(v)?d.parentNode.replaceChild(f,d):O.insertAfter(f,d),B.setCursorLocation(c,1),O.isEmpty(d)&&O.remove(d)}}function v(){var t;t=d(B.getStart()),t&&!O.isEmpty(t)&&e.walk(t,function(e){1!=e.nodeType||e.id===y||O.isEmpty(e)||O.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",b=t.settings.caret_debug;self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var e,t=[];if(l(d(B.getStart()),t))for(e=t.length;e--;)O.setAttrib(t[e],"data-mce-bogus","1")}),e.each("onMouseUp onKeyUp".split(" "),function(e){t[e].addToTop(function(){f(),v()})}),t.onKeyDown.addToTop(function(e,t){var n=t.keyCode;(8==n||37==n||39==n)&&f(d(B.getStart())),v()}),B.onSetContent.add(v),self._hasCaretEvents=!0),"apply"==r?m():g()}function P(e){var t,n,r,i,o,a=e.startContainer,s=e.startOffset;if(3==a.nodeType&&s>=a.nodeValue.length&&(s=q(a),a=a.parentNode,t=!0),1==a.nodeType)for(i=a.childNodes,a=i[Math.min(s,i.length-1)],n=new F(a,O.getParent(a,O.isBlock)),(s>i.length-1||t)&&n.next(),r=n.current();r;r=n.next())if(3==r.nodeType&&!w(r))return o=O.create("a",null,V),r.parentNode.insertBefore(o,r),e.setStart(r,0),B.setRng(e),void O.remove(o)}var A,M,D={},L=e.each,O=t.dom,B=t.selection,F=e.dom.TreeWalker,$=new e.dom.RangeUtils(O),U=t.schema.isValidChild,j=(e.isArray,O.isBlock),H=t.settings.forced_root_block,q=O.nodeIndex,V="\ufeff",W=/^(src|href|style)$/,z=!1,K=!0,G=O.getContentEditable,X=function(e){var n;return t.dom.getParent(e,function(e){return n=t.dom.getStyle(e,"text-decoration"),n&&"none"!==n}),n},Y=function(e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=X(e.parentNode),t.dom.getStyle(e,"color")&&n?t.dom.setStyle(e,"text-decoration",n):t.dom.getStyle(e,"textdecoration")===n&&t.dom.setStyle(e,"text-decoration",null))};e.extend(this,{get:s,register:l,apply:c,remove:u,toggle:d,match:h,matchAll:f,matchNode:p,canApply:m,formatChanged:g}),o(),a()}}(tinymce),tinymce.onAddEditor.add(function(e,t){function n(t,n){e.each(n,function(e,n){e&&a.setStyle(t,n,e)}),a.rename(t,"span")}function r(n,r){a=n.dom,s.convert_fonts_to_spans&&e.each(a.select("font,u,strike",r.node),function(e){i[e.nodeName.toLowerCase()](t.dom,e)})}var i,o,a,s=t.settings;s.inline_styles&&(o=e.explode(s.font_size_legacy_values),i={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:o[parseInt(t.size,10)-1]})},u:function(e,t){n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},t.onPreProcess.add(r),t.onSetContent.add(r),t.onInit.add(function(){t.selection.onSetContent.add(r)}))}),function(e){var t=e.dom.TreeWalker;e.EnterKey=function(n){function r(r){function c(e){return e&&i.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==i.getContentEditable(e)}function u(t){var n;e.isIE&&!e.isIE11&&i.isBlock(t)&&(n=o.getRng(),t.appendChild(i.create("span",null,"\xa0")),o.select(t),t.lastChild.outerHTML="",o.setRng(n))}function d(e){for(var t,n=e,r=[];n=n.firstChild;){if(i.isBlock(n))return;1!=n.nodeType||l[n.nodeName.toLowerCase()]||r.push(n)}for(t=r.length;t--;)n=r[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?i.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&i.remove(n)}function p(e){var r,a,s,c,u,d,p=e;if(s=i.createRng(),e.hasChildNodes()){for(r=new t(e,e);a=r.current();){if(3==a.nodeType){s.setStart(a,0),s.setEnd(a,0);break}if(l[a.nodeName.toLowerCase()]){s.setStartBefore(a),s.setEndBefore(a);break}p=a,a=r.next()}a||(s.setStart(p,0),s.setEnd(p,0))}else"BR"==e.nodeName?e.nextSibling&&i.isBlock(e.nextSibling)?((!N||9>N)&&(d=i.create("br"),e.parentNode.insertBefore(d,e)),s.setStartBefore(e),s.setEndBefore(e)):(s.setStartAfter(e),s.setEndAfter(e)):(s.setStart(e,0),s.setEnd(e,0));o.setRng(s),i.remove(d),u=i.getViewPort(n.getWin()),c=i.getPos(e).y,(c<u.y||c+25>u.y+u.h)&&n.getWin().scrollTo(0,c<u.y?c:c-u.h+25)}function h(t){var n,r,o,s=x;if(n=t||"TABLE"==A?i.create(t||D):S.cloneNode(!1),o=n,a.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(s.nodeName)){if("_mce_caret"==s.id)continue;r=s.cloneNode(!1),i.setAttrib(r,"id",""),n.hasChildNodes()?(r.appendChild(n.firstChild),n.appendChild(r)):(o=r,n.appendChild(r))}while(s=s.parentNode);return(!e.isIE||e.isIE11)&&(o.innerHTML='<br data-mce-bogus="1">'),n}function f(e){var n,r,i;if(3==x.nodeType&&(e?T>0:T<x.nodeValue.length))return!1;if(x.parentNode==S&&L&&!e)return!0;if(e&&1==x.nodeType&&x==S.firstChild)return!0;if("TABLE"===x.nodeName||x.previousSibling&&"TABLE"==x.previousSibling.nodeName)return L&&!e||!L&&e;for(n=new t(x,S),3==x.nodeType&&(e&&0==T?n.prev():e||T!=x.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute("data-mce-bogus")&&(i=r.nodeName.toLowerCase(),l[i]&&"br"!==i))return!1}else if(3===r.nodeType&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;e?n.prev():n.next()}return!0}function m(e,t){var n,r,o,a,s,l=D||"P";if(r=i.getParent(e,i.isBlock),!r||!c(r)){if(r=r||E,!r.hasChildNodes())return n=i.create(l),r.appendChild(n),O.setStart(n,0),O.setEnd(n,0),n;for(a=e;a.parentNode!=r;)a=a.parentNode;for(;a&&!i.isBlock(a);)o=a,a=a.previousSibling;if(o){for(n=i.create(l),o.parentNode.insertBefore(n,o),a=o;a&&!i.isBlock(a);)s=a.nextSibling,n.appendChild(a),a=s;O.setStart(e,t),O.setEnd(e,t)}}return e}function g(){function e(e){for(var t=P[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===S}R=D?h(D):i.create("BR"),e(!0)&&e()?i.replace(R,P):e(!0)?P.parentNode.insertBefore(R,P):e()?(i.insertAfter(R,P),u(R)):(_=O.cloneRange(),_.setStartAfter(S),_.setEndAfter(P),I=_.extractContents(),i.insertAfter(I,P),i.insertAfter(R,P)),i.remove(S),p(R),s.add()}function v(){for(var e,n=new t(x,S);e=n.next();)if(l[e.nodeName.toLowerCase()]||e.length>0)return!0}function y(){var t,n,r;x&&3==x.nodeType&&T>=x.nodeValue.length&&(e.isIE&&!e.isIE11||v()||(t=i.create("br"),O.insertNode(t),O.setStartAfter(t),O.setEndAfter(t),n=!0)),t=i.create("br"),O.insertNode(t),e.isIE&&!e.isIE11&&"PRE"==A&&(!N||8>N)&&t.parentNode.insertBefore(i.doc.createTextNode("\r"),t),r=i.create("span",{},"&nbsp;"),t.parentNode.insertBefore(r,t),o.scrollIntoView(r),i.remove(r),n?(O.setStartBefore(t),O.setEndBefore(t)):(O.setStartAfter(t),O.setEndAfter(t)),o.setRng(O),s.add()}function b(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function C(e){var t,n,r=i.getRoot();for(t=e;t!==r&&"false"!==i.getContentEditable(t);)"true"===i.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==r?n:r}function w(t){var n;(!e.isIE||e.isIE11)&&(t.normalize(),n=t.lastChild,(!n||/^(left|right)$/gi.test(i.getStyle(n,"float",!0)))&&i.add(t,"br"))}var _,E,x,T,S,N,k,R,I,P,A,M,D,L,O=o.getRng(!0);if(!O.collapsed)return void n.execCommand("Delete");if(!r.isDefaultPrevented()&&(x=O.startContainer,T=O.startOffset,D=(a.force_p_newlines?"p":"")||a.forced_root_block,D=D?D.toUpperCase():"",N=i.doc.documentMode,k=r.shiftKey,1==x.nodeType&&x.hasChildNodes()&&(L=T>x.childNodes.length-1,x=x.childNodes[Math.min(T,x.childNodes.length-1)]||x,T=L&&3==x.nodeType?x.nodeValue.length:0),E=C(x))){if(s.beforeChange(),!i.isBlock(E)&&E!=i.getRoot())return void((!D||k)&&y());if((D&&!k||!D&&k)&&(x=m(x,T)),S=i.getParent(x,i.isBlock),P=S?i.getParent(S.parentNode,i.isBlock):null,A=S?S.nodeName.toUpperCase():"",M=P?P.nodeName.toUpperCase():"","LI"!=M||r.ctrlKey||(S=P,A=M),"LI"==A){if(!D&&k)return void y();if(i.isEmpty(S))return/^(UL|OL|LI)$/.test(P.parentNode.nodeName)?!1:void g()}if("PRE"==A&&a.br_in_pre!==!1){if(!k)return void y()}else if(!D&&!k&&"LI"!=A||D&&k)return void y();D=D||"P",f()?(R=/^(H[1-6]|PRE)$/.test(A)&&"HGROUP"!=M?h(D):h(),a.end_container_on_empty_block&&c(P)&&i.isEmpty(S)?R=i.split(P,S):i.insertAfter(R,S),p(R)):f(!0)?(R=S.parentNode.insertBefore(h(),S),u(R)):(_=O.cloneRange(),_.setEndAfter(S),I=_.extractContents(),b(I),R=I.firstChild,i.insertAfter(I,S),d(R),w(S),p(R)),i.setAttrib(R,"id",""),s.add()}}var i=n.dom,o=n.selection,a=n.settings,s=n.undoManager,l=n.schema.getNonEmptyElements();n.onKeyDown.add(function(e,t){13==t.keyCode&&r(t)!==!1&&t.preventDefault()})}}(tinymce),function(e){function t(){function t(e){"remove"===e&&this.each(function(e,t){var n=i(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=tinyMCE.get(t.id.replace(/_parent$/,""));n&&n.remove()})}function r(e){var r,i=this;if(e!==n)t.call(i),i.each(function(t,n){var r;(r=tinyMCE.get(n.id))&&r.setContent(e)});else if(i.length>0&&(r=tinyMCE.get(i[0].id)))return r.getContent()}function i(e){var t=null;return e&&e.id&&o.tinymce&&(t=tinyMCE.get(e.id)),t}function a(e){return!!(e&&e.length&&o.tinymce&&e.is(":tinymce"))}var s={};e.each(["text","html","val"],function(t,o){var l=s[o]=e.fn[o],c="text"===o;e.fn[o]=function(t){var o=this;if(!a(o))return l.apply(o,arguments);if(t!==n)return r.call(o.filter(":tinymce"),t),l.apply(o.not(":tinymce"),arguments),o;var s="",u=arguments;return(c?o:o.eq(0)).each(function(t,n){var r=i(n);s+=r?c?r.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):r.getContent({save:!0}):l.apply(e(n),u)}),s}}),e.each(["append","prepend"],function(t,r){var o=s[r]=e.fn[r],l="prepend"===r;e.fn[r]=function(e){var t=this;return a(t)?e!==n?(t.filter(":tinymce").each(function(t,n){var r=i(n);r&&r.setContent(l?e+r.getContent():r.getContent()+e)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}}),e.each(["remove","replaceWith","replaceAll","empty"],function(n,r){var i=s[r]=e.fn[r];e.fn[r]=function(){return t.call(this,r),i.apply(this,arguments)}}),s.attr=e.fn.attr,e.fn.attr=function(t,o){var l=this,c=arguments;if(!t||"value"!==t||!a(l))return o!==n?s.attr.apply(l,c):s.attr.apply(l,c);if(o!==n)return r.call(l.filter(":tinymce"),o),s.attr.apply(l.not(":tinymce"),c),l;var u=l[0],d=i(u);return d?d.getContent({save:!0}):s.attr.apply(e(u),c)}}var n,r,i=[],o=window;e.fn.tinymce=function(n){function a(){var r=[],i=0;t&&(t(),t=null),d.each(function(e,t){var o,a=t.id,s=n.oninit;a||(t.id=a=tinymce.DOM.uniqueId()),o=new tinymce.Editor(a,n),r.push(o),o.onInit.add(function(){var e,t=s;d.css("visibility",""),s&&++i==r.length&&(tinymce.is(t,"string")&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,r))})}),e.each(r,function(e,t){t.render()})}var s,l,c,u,d=this,p="",h="";return d.length?n?(d.css("visibility","hidden"),o.tinymce||r||!(s=n.script_url)?1===r?i.push(a):a():(r=1,l=s.substring(0,s.lastIndexOf("/")),/_(src|dev)\.js/g.test(s)&&(h="_src"),c=s.lastIndexOf("?"),-1!=c&&(p=s.substring(c+1)),o.tinyMCEPreInit=o.tinyMCEPreInit||{base:l,suffix:h,query:p},-1!=s.indexOf("gzip")&&(u=n.language||"en",s=s+(/\?/.test(s)?"&":"?")+"js=true&core=true&suffix="+escape(h)+"&themes="+escape(n.theme)+"&plugins="+escape(n.plugins)+"&languages="+u,o.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function t(e){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(e))}tinymce.suffix=h,t("langs/"+u+".js"),t("themes/"+n.theme+"/editor_template"+h+".js"),t("themes/"+n.theme+"/langs/"+u+".js"),e.each(n.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/editor_plugin"+h+".js"),t("plugins/"+n+"/langs/"+u+".js"))})},end:function(){}})),e.ajax({type:"GET",url:s,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,r=2,n.script_loaded&&n.script_loaded(),a(),e.each(i,function(e,t){t()})}})),d):tinyMCE.get(d[0].id):d},e.extend(e.expr[":"],{tinymce:function(e){return!!(e.id&&"tinyMCE"in window&&tinyMCE.get(e.id))}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,l={},c=t.split(".")[0];return t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){return e.isFunction(r)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=r)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var r,i,o=n.call(arguments,1),a=0,s=o.length;s>a;a++)for(r in o[a])i=o[a][r],o[a].hasOwnProperty(r)&&void 0!==i&&(e.isPlainObject(i)?t[r]=e.isPlainObject(t[r])?e.widget.extend({},t[r],i):e.widget.extend({},i):t[r]=i);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=n.call(arguments,1),l=this;return a?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new r(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.delegate(u,c,s):n.bind(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}}),e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r,i,o,a=n.initialIframeSrc||"javascript:false;";return{send:function(s,l){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,i=e('<iframe src="'+a+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{if(t=i.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",a),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return t.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,i=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&i-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=i,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(i,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,r=this,i=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(r,i){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||a,value:i})})):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(a,t.blob,i.name):e.each(t.files,function(i,o){(r._isInstanceOf("File",o)||r._isInstanceOf("Blob",o))&&n.append("array"===e.type(t.paramName)&&t.paramName[i]||a,o,o.uploadName||o.name)})),t.data=n):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),o=i.promise();return n=n||this.options.context||o,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),o.abort=i.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,o){return(t||o)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,o)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{
delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,i,o=this,a=t.files[0],s=a.size,l=t.uploadedBytes,c=t.maxChunkSize||s,u=this._blobSlice,d=e.Deferred(),p=d.promise();return this._isXHRUpload(t)&&u&&(l||s>c)&&!t.data?n?!0:l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(i=function(){var n=e.extend({},t),p=n._progress.loaded;n.blob=u.call(a,l,l+c,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),r=(o._trigger("chunksend",null,n)!==!1&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(r,a,c){l=o._getUploadedBytes(c)||l+n.chunkSize,p+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=r,n.textStatus=a,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),s>l?i():d.resolveWith(n.context,[r,a,c])}).fail(function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,r])})},this._enhancePromise(p),p.abort=function(){return r.abort()},i(),p):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var o=i._progress.total,a=i._response;i._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,i,o,a,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,r=r||((i||s._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&s._getXHRPromise(!1,l.context,i)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){s._onDone(e,t,n,l)}).fail(function(e,t,n){s._onFail(e,t,n,l)}).always(function(e,t,n){if(s._onAlways(e,t,n,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),a=this._sequence),a.abort=function(){return i=[void 0,"abort","abort"],r?r.abort():(o&&o.rejectWith(l.context,i),c())},this._enhancePromise(a)):c()},_onAdd:function(t,n){var r,i,o,a,s=this,l=!0,c=e.extend({},this.options,n),u=n.files,d=u.length,p=c.limitMultiFileUploads,h=c.limitMultiFileUploadSize,f=c.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(c),v=0;if(!h||d&&void 0!==u[0].size||(h=void 0),(c.singleFileUploads||p||h)&&this._isXHRUpload(c))if(c.singleFileUploads||h||!p)if(!c.singleFileUploads&&h)for(o=[],r=[],a=0;d>a;a+=1)m+=u[a].size+f,(a+1===d||m+u[a+1].size+f>h||p&&a+1-v>=p)&&(o.push(u.slice(v,a+1)),i=g.slice(v,a+1),i.length||(i=g),r.push(i),v=a+1,m=0);else r=g;else for(o=[],r=[],a=0;d>a;a+=p)o.push(u.slice(a,a+p)),i=g.slice(a,a+p),i.length||(i=g),r.push(i);else o=[u],r=[g];return n.originalFiles=u,e.each(o||u,function(i,a){var c=e.extend({},n);return c.files=o?a:[a],c.paramName=r[i],s._initResponseObject(c),s._initProgressObject(c),s._addConvenienceMethods(t,c),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),c)}),l},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,i=this,o=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},s=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(a)},l=function(){r.readEntries(function(e){e.length?(c=c.concat(e),l()):s(c)},a)},c=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},a):t.isDirectory?(r=t.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,r,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=e(this.element[0].cloneNode(!1));e.each(r.data(),function(e,i){var o="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();r.attr(o)&&(t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return r=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void o.reject();t.files=e,n=i._onSend(null,t),n.then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),c="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),r()}function n(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,u=t,l&&(e.style.overflowY=t),r()}function r(){var t=e.style.height,r=document.documentElement.scrollTop,i=document.body.scrollTop,o=e.style.height;e.style.height="auto";var a=e.scrollHeight+c;if(0===e.scrollHeight)return void(e.style.height=o);e.style.height=a+"px",document.documentElement.scrollTop=r,document.body.scrollTop=i;var s=window.getComputedStyle(e,null);if(s.height!==e.style.height){if("visible"!==u)return void n("visible")}else if("hidden"!==u)return void n("hidden");if(t!==e.style.height){var l=document.createEvent("Event");l.initEvent("autosize:resized",!0,!1),e.dispatchEvent(l)}}var i=void 0===arguments[1]?{}:arguments[1],o=i.setOverflowX,a=void 0===o?!0:o,s=i.setOverflowY,l=void 0===s?!0:s;if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!e.hasAttribute("data-autosize-on")){var c=null,u="hidden",d=function(t){window.removeEventListener("resize",r),e.removeEventListener("input",r),e.removeEventListener("keyup",r),e.removeAttribute("data-autosize-on"),e.removeEventListener("autosize:destroy",d),Object.keys(t).forEach(function(n){e.style[n]=t[n]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",d),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",r),window.addEventListener("resize",r),e.addEventListener("input",r),e.addEventListener("autosize:update",r),e.setAttribute("data-autosize-on",!0),l&&(e.style.overflowY="hidden"),a&&(e.style.overflowX="hidden",e.style.wordWrap="break-word"),t()}}function r(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=document.createEvent("Event");t.initEvent("autosize:destroy",!0,!1),e.dispatchEvent(t)}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=document.createEvent("Event");t.initEvent("autosize:update",!0,!1),e.dispatchEvent(t)}}var o=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(o=function(e){return e},o.destroy=function(e){return e},o.update=function(e){return e}):(o=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e},o.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},o.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.exports=o}),function(){$(function(){return autosize($("textarea[data-autosize]"))})}.call(this),function(e){for(var t,n=function(){},r="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");t=r.pop();)e[t]=e[t]||n}(window.console=window.console||{}),jQuery.fn.rangeinput=function(e){e=e?e:{};var t=$(this),n=$('<div id="'+t.attr("id")+'_slider" class="'+(t.attr("class")||"")+'"></div>'),r=t.clone().wrap("<div/>").parent().html(),i=$(r.replace(/type=/i,"type=text data-orig-type="));i.wrap("<div class=ui-slider-value>"+(e.unit?e.unit:"")+"</div>").prop("size",6),e.input_events&&i.on(e.input_events),e.mask&&i.mask(e.mask);var o=jQuery.extend({min:parseFloat(t.attr("min")),max:parseFloat(t.attr("max")),step:parseFloat(t.attr("step")),value:parseFloat(t.val()),range:"min"},e),a=function(t,n){e.formatter&&"function"==jQuery.type(e.formatter)&&(n.value=e.formatter(n.value)),$(this).val(n.value)};return n.insertAfter(t).wrap('<div class="ui-slider-wrapper"></div>').on("slidechange",a).append(i.parent()).slider(o),t.remove(),n},$.extend($.expr[":"],{range:function(e){var t=e.getAttribute("type");return t&&"range"==t||!!$(e).filter("input").data("rangeinput")}}),function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();if("area"===i){var o,a=t.parentNode,s=a.name;return t.href&&s&&"map"===a.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o)):!1}return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,o=e(this[0]);o.length&&o[0]!==document;){if(r=o.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(o,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var o="Width"===r?["Left","Right"]:["Top","Bottom"],a=r.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?s["inner"+r].call(this):this.each(function(){e(this).css(a,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?s["outer"+r].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i=e.ui[t].prototype;for(var o in r)i.plugins[o]=i.plugins[o]||[],i.plugins[o].push([n,r[o]])},call:function(e,t,n){var r=e.plugins[t];if(r&&e.element[0].parentNode)for(var i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,r,i,o,a){return e.ui.isOverAxis(t,r,o)&&e.ui.isOverAxis(n,i,a)}}))}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r,i=0;null!=(r=t[i]);i++)try{e(r).triggerHandler("remove")}catch(o){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i,o=t.split(".")[0];t=t.split(".")[1],i=o+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var a=new n;a.options=e.extend(!0,{},a.options),e[o][t].prototype=e.extend(!0,a,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:i},r),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var o="string"==typeof i,a=Array.prototype.slice.call(arguments,1),s=this;return i=!o&&a.length?e.extend.apply(null,[!0,i].concat(a)):i,o&&"_"===i.charAt(0)?s:(o?this.each(function(){var r=e.data(this,n),o=r&&e.isFunction(r[i])?r[i].apply(r,a):r;return o!==r&&o!==t?(s=o,!1):void 0}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),s)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&a.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=1==t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return i&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(jQuery),function(e,t){var n=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=r.values&&r.values.length||1,s=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(r.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),r.range&&(r.range===!0&&(r.values||(r.values=[this._valueMin(),this._valueMin()]),r.values.length&&2!==r.values.length&&(r.values=[r.values[0],r.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===r.range||"max"===r.range?" ui-slider-range-"+r.range:"")));for(var l=i.length;a>l;l+=1)s.push(o);this.handles=i.add(e(s.join("")).appendTo(t.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){r.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){r.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(r){var i,o,a,s,l=e(this).data("index.ui-slider-handle");if(!t.options.disabled){switch(r.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r.preventDefault(),!t._keySliding&&(t._keySliding=!0,e(this).addClass("ui-state-active"),i=t._start(r,l),i===!1))return}switch(s=t.options.step,o=a=t.options.values&&t.options.values.length?t.values(l):t.value(),r.keyCode){case e.ui.keyCode.HOME:a=t._valueMin();break;case e.ui.keyCode.END:a=t._valueMax();break;case e.ui.keyCode.PAGE_UP:a=t._trimAlignValue(o+(t._valueMax()-t._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:a=t._trimAlignValue(o-(t._valueMax()-t._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===t._valueMax())return;a=t._trimAlignValue(o+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===t._valueMin())return;a=t._trimAlignValue(o-s)}t._slide(r,l,a)}}).keyup(function(n){var r=e(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(n,r),t._change(n,r),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var n,r,i,o,a,s,l,c,u,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,a=this,this.handles.each(function(t){var n=Math.abs(r-a.values(t));i>n&&(i=n,o=e(this),s=t)}),d.range===!0&&this.values(1)===d.min&&(s+=1,o=e(this.handles[s])),l=this._start(t,s),l===!1?!1:(this._mouseSliding=!0,a._handleIndex=s,o.addClass("ui-state-active").focus(),c=o.offset(),u=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-c.left-o.width()/2,top:t.pageY-c.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,r),this._animateOff=!0,!0))},_mouseStart:function(e){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,o;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),o!==!1&&this.values(t,n,!0))):n!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:n}),o!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var r,i,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch(e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,o,a=this.options.range,s=this.options,l=this,c=this._animateOff?!1:s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(r,i){
t=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},s.animate),1===r&&l.range[c?"animate":"css"]({width:t-n+"%"},{queue:!1,duration:s.animate})):(0===r&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},s.animate),1===r&&l.range[c?"animate":"css"]({height:t-n+"%"},{queue:!1,duration:s.animate}))),n=t}):(r=this.value(),i=this._valueMin(),o=this._valueMax(),t=o!==i?(r-i)/(o-i)*100:0,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:s.animate}))}}),e.extend(e.ui.slider,{version:"@VERSION"})}(jQuery),function(e){function t(){if(!d){d=!0;for(var t in u)e(t).each(function(){var n,r;n=e(this),r=n.data("jqae"),(r.containerWidth!=n.innerWidth()||r.containerHeight!=n.innerHeight())&&l(n,u[t])});d=!1}}function n(e){u[e]&&(delete u[e],u.length||c&&(window.clearInterval(c),c=void 0))}function r(e,n){u[e]=n,c||(c=window.setInterval(function(){t()},200))}function i(){return 3===this.nodeType}function o(t){if(t.contents().length){var n=t.contents(),r=n.eq(n.length-1);if(r.filter(i).length){var a=r.get(0).nodeValue;return a=e.trim(a),""==a?(r.remove(),!0):!1}for(;o(r););return r.contents().length?!1:(r.remove(),!0)}return!1}function a(e){if(e.contents().length){var t=e.contents(),n=t.eq(t.length-1);return n.filter(i).length?n:a(n)}e.append("");var t=e.contents();return t.eq(t.length-1)}function s(t){var n=a(t);if(n.length){var r=n.get(0).nodeValue,i=r.lastIndexOf(" ");return i>-1?(r=e.trim(r.substring(0,i)),n.get(0).nodeValue=r):n.get(0).nodeValue="",!0}return!1}function l(t,n){var r=t.data("jqae");r||(r={});var i=r.wrapperElement;i||(i=t.wrapInner("<div/>").find(">div"));var l=i.data("jqae");l||(l={});var c=l.originalContent;c?i=l.originalContent.clone(!0).data("jqae",{originalContent:c}).replaceAll(i):i.data("jqae",{originalContent:i.clone(!0)}),t.data("jqae",{wrapperElement:i,containerWidth:t.innerWidth(),containerHeight:t.innerHeight()});var u=!1,d=i;n.selector&&(d=e(i.find(n.selector).get().reverse())),d.each(function(){var r=e(this),l=r.text(),c=!1;if(i.innerHeight()-r.innerHeight()>t.innerHeight())r.remove();else if(o(r),r.contents().length){for(u&&(a(r).get(0).nodeValue+=n.ellipsis,u=!1);i.innerHeight()>t.innerHeight();){if(c=s(r),!c){u=!0,r.remove();break}if(o(r),!r.contents().length){u=!0,r.remove();break}a(r).get(0).nodeValue+=n.ellipsis}"onEllipsis"==n.setTitle&&c||"always"==n.setTitle?r.attr("title",l):"never"!=n.setTitle&&r.removeAttr("title")}})}var c,u={},d=!1,p={ellipsis:"...",setTitle:"never",live:!1};e.fn.ellipsis=function(t,i){var o,a;return o=e(this),"string"!=typeof t&&(i=t,t=void 0),a=e.extend({},p,i),a.selector=t,o.each(function(){var t=e(this);l(t,a)}),a.live?r(o.selector,a):n(o.selector),this}}(jQuery),function(e,t,n){"use strict";var r,i;e.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0",platform:n[0]||""}},r=e.uaMatch(t.navigator.userAgent),i={},r.browser&&(i[r.browser]=!0,i.version=r.version),r.platform&&(i[r.platform]=!0),i.chrome||i.opr?i.webkit=!0:i.webkit&&(i.safari=!0),i.rv&&(i.msie=!0),i.opr&&(i.opera=!0),e.browser=i}(jQuery,window),jQuery.cookie=function(e,t,n){if(arguments.length>1&&(null===t||"object"!=typeof t)){if(n=jQuery.extend({},n),null===t&&(n.expires=-1),"number"==typeof n.expires){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}return document.cookie=[encodeURIComponent(e),"=",n.raw?String(t):encodeURIComponent(String(t)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var o,a=n.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(o[1]):null},function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==r.compatMode?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,o){return"object"==typeof i&&(o=i,i=0),"function"==typeof o&&(o={onAfter:o}),"max"==r&&(r=9e9),o=e.extend({},n.defaults,o),i=i||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(i/=2),o.offset=t(o.offset),o.over=t(o.over),this._scrollable().each(function(){function a(e){c.animate(d,i,o.easing,e&&function(){e.call(this,r,o)})}if(null!=r){var s,l=this,c=e(l),u=r,d={},p=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(s=(u=e(u)).offset())}e.each(o.axis.split(""),function(e,t){var r="x"==t?"Left":"Top",i=r.toLowerCase(),h="scroll"+r,f=l[h],m=n.max(l,t);if(s)d[h]=s[i]+(p?0:f-c.offset()[i]),o.margin&&(d[h]-=parseInt(u.css("margin"+r))||0,d[h]-=parseInt(u.css("border"+r+"Width"))||0),d[h]+=o.offset[i]||0,o.over[i]&&(d[h]+=u["x"==t?"width":"height"]()*o.over[i]);else{var g=u[i];d[h]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}o.limit&&/^\d+$/.test(d[h])&&(d[h]=d[h]<=0?0:Math.min(d[h],m)),!e&&o.queue&&(f!=d[h]&&a(o.onAfterFirst),delete d[h])}),a(o.onAfter)}}).end()},n.max=function(t,n){var r="x"==n?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var o="client"+r,a=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(a[i],s[i])-Math.min(a[o],s[o])}}(jQuery),function(e){e.fn.spin=function(t,n){var r={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var i=e(this),o=i.data();o.spinner&&(o.spinner.stop(),delete o.spinner),t!==!1&&("string"==typeof t&&(t=t in r?r[t]:{},n&&(t.color=n)),o.spinner=new Spinner(e.extend({color:i.css("color")},t)).spin(this))});throw"Spinner class not available."}}(jQuery),function(e,t){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var i=null,o=this;e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")==o?(i=e(this),!1):void 0});if(e.data(t.target,r.widgetName+"-item")==o&&(i=e(t.target)),!i)return!1;if(this.options.handle&&!n){var a=!1;if(e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(a=!0)}),!a)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options,o=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,o._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var o=this.items[i],a=o.item[0],s=this._intersectsWithPointer(o);if(s&&a!=this.currentItem[0]&&this.placeholder[1==s?"next":"prev"]()[0]!=a&&!e.ui.contains(this.placeholder[0],a)&&("semi-dynamic"==this.options.type?!e.ui.contains(this.element[0],a):!0)){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(t,o),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=r.placeholder.offset();r.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d=r+c>s&&l>r+c&&t+u>o&&a>t+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return i?this.floating?a&&"right"==a||"down"==o?2:1:o&&("down"==o?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&r||"left"==o&&!r:i&&("down"==i&&n||"up"==i&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var o=i.length-1;o>=0;o--)for(var a=e(i[o]),s=a.length-1;s>=0;s--){var l=e.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&r.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var o=r.length-1;o>=0;o--)r[o][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var o=i.length-1;o>=0;o--)for(var a=e(i[o]),s=a.length-1;s>=0;s--){var l=e.data(a[s],this.widgetName);l&&l!=this&&!l.options.disabled&&(r.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var o=r.length-1;o>=0;o--)for(var c=r[o][1],u=r[o][0],s=0,d=u.length;d>s;s++){var p=e(u[s]);p.data(this.widgetName+"-item",c),n.push({item:p,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance==this.currentContainer||!this.currentContainer||r.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var o=i.offset();r.left=o.left,r.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=t||this,r=n.options;if(!r.placeholder||r.placeholder.constructor==String){var i=r.placeholder;r.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper").html("&nbsp;")[0];return i||(t.style.visibility="hidden"),t},update:function(e,t){(!i||r.forcePlaceholderSize)&&(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=null,r=null,i=this.containers.length-1;i>=0;i--)if(!e.ui.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.ui.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){for(var o=1e4,a=null,s=this.positionAbs[this.containers[r].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[r].element[0],this.items[l].item[0])){var c=this.items[l][this.containers[r].floating?"left":"top"];Math.abs(c-s)<o&&(o=Math.abs(c-s),a=this.items[l])}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(""==r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i="hidden"!=e(n).css("overflow");this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"==t?1:-1,i=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var l=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0];o=this.containment&&(l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2])?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this,o=this.counter;window.setTimeout(function(){o==i.counter&&i.refreshPositions(!r)},0)},_clear:function(t,n){this.reverting=!1;var r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)("auto"==this._storedCSS[i]||"static"==this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||r.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){n||r.push(function(e){this._trigger("remove",e,this._uiHash())});for(var i=this.containers.length-1;i>=0;i--)e.ui.contains(this.containers[i].element[0],this.currentItem[0])&&!n&&(r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[i])),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[i])))}for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"@VERSION"})}(jQuery),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,r=e.ui.mouse.prototype,i=r._mouseInit;r._touchStart=function(e){var r=this;!n&&r._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,r._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},r._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},r._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},r._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),i.call(t)}}}(jQuery),function(e,t){function n(e){function r(e,n){var r;if(t!==e&&(e=parseFloat(e)),t===n)n=255,r=255;else if(1===n){if(t===e||1===e)return 1;n=100,r=1}else r=n;return isNaN(e)||0>=e?0:e>n?r:1>e||1===n?1===r?e:e*r|0:e*r/n}function i(e,t,n){function i(e,t,n){return n=++n%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+(t-e)*(4-6*n):e}if(e=r(e,360)/360,t=r(t,1),n=r(n,1),0===t)return n=Math.round(255*n),[n,n,n];var o=.5>n?n+n*t:n+t-n*t,a=n+n-o;return[Math.round(255*i(a,o,e+1/3)),Math.round(255*i(a,o,e)),Math.round(255*i(a,o,e-1/3))]}function s(e,t,n){e=r(e,360)/60,t=r(t,1),n=r(n,1);var i=0|e,o=e-i,a=Math.round(255*n*(1-t)),s=Math.round(255*n*(1-t*o)),l=Math.round(255*n*(1-t*(1-o)));switch(n=Math.round(255*n),i){case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}return[n,l,a]}this.setColor=function(e){if(this.success=!0,"number"==typeof e)return this.a=(e>>24&255)/255,this.r=e>>16&255,this.g=e>>8&255,void(this.b=255&e);for(;"object"==typeof e;){if(0 in e&&1 in e&&2 in e)return this.a=r(e[3],1),this.r=r(e[0]),this.g=r(e[1]),void(this.b=r(e[2]));
if("r"in e&&"g"in e&&"b"in e)return this.a=r(e.a,1),this.r=r(e.r),this.g=r(e.g),void(this.b=r(e.b));if("h"in e&&"s"in e){var n;if("l"in e)n=i(e.h,e.s,e.l);else if("v"in e)n=s(e.h,e.s,e.v);else{if(!("b"in e))break;n=s(e.h,e.s,e.b)}return this.a=r(e.a,1),this.r=n[0],this.g=n[1],void(this.b=n[2])}break}if("string"==typeof e){e=e.toLowerCase().replace(/[^a-z0-9,.()#%]/g,"");var o,l;if("transparent"===e)return void(this.a=this.r=this.g=this.b=0);if("rand"===e)return l=16777215*Math.random()|0,this.a=1,this.r=l>>16&255,this.g=l>>8&255,void(this.b=255&l);if(t!==a[e]&&(e="#"+a[e]),o=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/.exec(e))return this.a=1,this.r=parseInt(o[1],16),this.g=parseInt(o[2],16),void(this.b=parseInt(o[3],16));if(o=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/.exec(e))return this.a=1,this.r=parseInt(o[1]+o[1],16),this.g=parseInt(o[2]+o[2],16),void(this.b=parseInt(o[3]+o[3],16));if(o=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(e))return this.a=r(o[5],1),this.r=r(o[1]),this.g=r(o[2]),void(this.b=r(o[3]));if(o=/^rgba?\(([0-9.]+\%),([0-9.]+\%),([0-9.]+\%)(,([0-9.]+)\%?)?\)$/.exec(e))return this.a=r(o[5],1),this.r=Math.round(2.55*r(o[1],100)),this.g=Math.round(2.55*r(o[2],100)),void(this.b=Math.round(2.55*r(o[3],100)));if(o=/^hs([bvl])a?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(e)){var c;return c="l"===o[1]?i:s,l=c(parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10)),this.a=r(o[6],1),this.r=l[0],this.g=l[1],void(this.b=l[2])}if(o=/^(\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?$/.exec(e))return this.a=r(o[5],1),this.r=r(o[1]),this.g=r(o[2]),void(this.b=r(o[3]))}this.success=!1},this.getColor=function(e){if(t!==e)switch(e.toLowerCase()){case"rgb":return this.getRGB();case"hsv":case"hsb":return this.getHSV();case"hsl":return this.getHSL();case"int":return this.getInt();case"array":return this.getArray();case"fraction":return this.getFraction();case"css":case"style":return this.getCSS();case"name":return this.getName()}return this.getHex()},this.getRGB=function(){return this.success?{r:this.r,g:this.g,b:this.b,a:this.a}:null},this.getCSS=function(){return this.success?0===this.a?"transparent":1===this.a?"rgb("+this.r+","+this.g+","+this.b+")":o(this.r,this.g,this.b,this.a):null},this.getArray=function(){return this.success?[this.r,this.g,this.b,100*this.a|0]:null},this.getName=function(){if(this.success){var e,t=null,r=a,i=this.getHSL();for(var o in r){var s=new n(r[o]).getHSL(),l=Math.sqrt(.5*(i.h-s.h)*(i.h-s.h)+.5*(i.s-s.s)*(i.s-s.s)+(i.l-s.l)*(i.l-s.l));(null===t||t>l)&&(t=l,e=o)}return e}return null},this.getFraction=function(){return this.success?{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}:null},this.getHSL=function(){if(this.success){var e,t,n=this.r/255,r=this.g/255,i=this.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),s=a-o,l=(a+o)/2;return 0===s?(e=0,t=0):(e=n===a?(r-i)/s:r===a?2+(i-n)/s:4+(n-r)/s,t=s/(.5>l?a+o:2-a-o)),{h:Math.round(60*((6+e)%6)),s:Math.round(100*t),l:Math.round(100*l),a:this.a}}return null},this.getHSV=function(){if(this.success){var e,t,n=this.r/255,r=this.g/255,i=this.b/255,o=Math.min(n,r,i),a=Math.max(n,r,i),s=a-o,l=a;return t=0===a?0:s/a,e=0===s?0:n===a?(r-i)/s:r===a?2+(i-n)/s:4+(n-r)/s,{h:Math.round(60*((6+e)%6)),s:Math.round(100*t),v:Math.round(100*l),a:this.a}}return null},this.getHex=function(){if(this.success){var e="0123456789abcdef",t=this.r>>4,n=this.g>>4,r=this.b>>4,i=15&this.r,o=15&this.g,a=15&this.b;return 0===(t^i|n^o|r^a)?"#"+e.charAt(t)+e.charAt(n)+e.charAt(r):"#"+e.charAt(t)+e.charAt(i)+e.charAt(n)+e.charAt(o)+e.charAt(r)+e.charAt(a)}return null},this.getInt=function(e){return this.success?t!==e?(100*this.a|0)<<24^this.r<<16^this.g<<8^this.b:16777215&(this.r<<16^this.g<<8^this.b):null},this.toString=function(){return this.getHex()},this.setColor(e)}function r(t,r){var i="";do if(i=e.curCSS(t,r),""!==i&&"transparent"!==i&&"rgba(0, 0, 0, 0)"!==i||e.nodeName(t,"body"))break;while(t=t.parentNode);return""===i&&(i=e.support.rgba?"transparent":"backgroundColor"===r?"white":"black"),new n(i)}function i(){this.test=function(e){var t=new n(e);return t.success?t:null},this.red=function(e){var t=new n(e);return t.success?(t.g=255,t.b=255,t):null},this.blue=function(e){var t=new n(e);return t.success?(t.r=255,t.g=255,t):null},this.green=function(e){var t=new n(e);return t.success?(t.r=255,t.b=255,t):null},this.sepia=function(e){var t=new n(e);if(t.success){var r=t.r,i=t.g,o=t.b;return t.r=Math.round(.393*r+.769*i+.189*o),t.g=Math.round(.349*r+.686*i+.168*o),t.b=Math.round(.272*r+.534*i+.131*o),t}return null},this.random=function(){return new n([255*Math.random()|0,255*Math.random()|0,255*Math.random()|0])},this.inverse=function(e){var t=new n(e);return t.success?(t.r^=255,t.g^=255,t.b^=255,t):null},this.opacity=function(e,t,r){var i=new n(e),o=new n(t);return i.success&o.success?(r>1&&(r/=100),r=Math.max(r-1+o.a,0),i.r=Math.round((o.r-i.r)*r+i.r),i.g=Math.round((o.g-i.g)*r+i.g),i.b=Math.round((o.b-i.b)*r+i.b),i):null},this.greyfilter=function(e,t){var r,i=new n(e);if(i.success){switch(t){case 1:r=.35+13*(i.r+i.g+i.b)/60;break;case 2:r=(13*(i.r+i.g+i.b)+5355)/60;break;default:r=.3*i.r+.59*i.g+.11*i.b}return i.r=i.g=i.b=Math.min(0|r,255),i}return null},this.webround=function(e){var t=new n(e);return t.success?((t.r+=51-t.r%51)>255&&(t.r=255),(t.g+=51-t.g%51)>255&&(t.g=255),(t.b+=51-t.b%51)>255&&(t.b=255),t):null},this.distance=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?Math.sqrt(3*(i.r-r.r)*(i.r-r.r)+4*(i.g-r.g)*(i.g-r.g)+2*(i.b-r.b)*(i.b-r.b)):null},this.readable=function(e,t,r){var i=new n(t),o=new n(e);if(r=r||10,i.success&o.success){var a=.299*o.r+.587*o.g+.114*o.b-.299*i.r-.587*i.g-.114*i.b;return!(a<1.5+141.162*Math.pow(.975,r)&&a>-.5-154.709*Math.pow(.99,r))}return null},this.combine=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?(r.r^=i.r,r.g^=i.g,r.b^=i.b,r):null},this.breed=function(e,t){var r=new n(e),i=new n(t),o=0,a=6;if(r.success&i.success){for(;a--;)Math.random()<.5&&(o|=15<<(a<<2));return r.r=r.r&(o>>16&255)|i.r&(o>>16&255^255),r.g=r.g&(o>>8&255)|i.g&(o>>8&255^255),r.b=r.b&(o>>0&255)|i.b&(o>>0&255^255),r}return null},this.additive=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?((r.r+=i.r)>255&&(r.r=255),(r.g+=i.g)>255&&(r.g=255),(r.b+=i.b)>255&&(r.b=255),r):null},this.subtractive=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?((r.r+=i.r-255)<0&&(r.r=0),(r.g+=i.g-255)<0&&(r.g=0),(r.b+=i.b-255)<0&&(r.b=0),r):null},this.subtract=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?((r.r-=i.r)<0&&(r.r=0),(r.g-=i.g)<0&&(r.g=0),(r.b-=i.b)<0&&(r.b=0),r):null},this.multiply=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?(r.r=r.r/255*i.r|0,r.g=r.g/255*i.g|0,r.b=r.b/255*i.b|0,r):null},this.average=function(e,t){var r=new n(e),i=new n(t);return r.success&i.success?(r.r=r.r+i.r>>1,r.g=r.g+i.g>>1,r.b=r.b+i.b>>1,r):null},this.triad=function(e){var t=new n(e);return t.success?[t,new n([t.b,t.r,t.g]),new n([t.g,t.b,t.r])]:null},this.tetrad=function(e){var t=new n(e);return t.success?[t,new n([t.b,t.r,t.b]),new n([t.b,t.g,t.r]),new n([t.r,t.b,t.r])]:null},this.gradientlevel=function(e,r,i,o){if(t===o&&(o=1),i>o)return null;var a=new n(e),s=new n(r);return a.success&s.success?(a.r=a.r+(s.r-a.r)/o*i|0,a.g=a.g+(s.g-a.g)/o*i|0,a.b=a.b+(s.b-a.b)/o*i|0,a):null},this.gradientarray=function(t,r,i){if(r>i||!t.length)return null;if(1==t.length)return new n(t[0]);var o=r*(t.length-1)/(i+1)|0,a=i/(t.length-1);return e.xcolor.gradientlevel(t[o],t[o+1],r-o*a,a)},this.nearestname=function(e){return e=new n(e),e.success?e.getName():null},this.darken=function(e,r,i){if(t===r)r=1;else if(0>r)return this.lighten(e,-r,i);t===i&&(i=32);var o=new n(e);return o.success?((o.r-=i*r)<0&&(o.r=0),(o.g-=i*r)<0&&(o.g=0),(o.b-=i*r)<0&&(o.b=0),o):null},this.lighten=function(e,r,i){if(t===r)r=1;else if(0>r)return this.darken(e,-r,i);t===i&&(i=32);var o=new n(e);return o.success?((o.r+=i*r)>255&&(o.r=255),(o.g+=i*r)>255&&(o.g=255),(o.b+=i*r)>255&&(o.b=255),o):null},this.analogous=function(e,r,i){t===r&&(r=8),t===i&&(i=30);var o=new n(e);if(o.success){var a=o.getHSV(),s=360/i,l=[o];for(a.h=(a.h-(s*r>>1)+720)%360;--r;)a.h+=s,a.h%=360,l.push(new n(a));return l}return null},this.complementary=function(e){var t=new n(e);if(t.success){var r=t.getHSL();return r.h=(r.h+180)%360,new n(r)}return null},this.splitcomplement=function(e){var t=new n(e);if(t.success){var r=t.getHSV(),i=[t];return r.h+=72,r.h%=360,i.push(new n(r)),r.h+=144,r.h%=360,i.push(new n(r)),i}return null},this.monochromatic=function(e,r){t===r&&(r=6);var i=new n(e);if(i.success){for(var o=i.getHSV(),a=[i];--r;)o.v+=20,o.v%=100,a.push(new n(o));return a}return null}}var o,a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};e.each(["color","backgroundColor","borderColor","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","outlineColor"],function(i,a){e.cssHooks[a]={set:function(e,t){e.style[a]=new n(t).getCSS()}},e.fx.step[a]=function(e){if(t===e.xinit){if("string"==typeof e.end&&-1!==e.end.indexOf(";")){var i,s=e.end.split(";");if(s.length>2){for(i in s)-1===s[i].indexOf("native")?s[i]=new n(s[i]):s[i]=r(e.elem,a);e.start=null,e.end=s}else e.start=new n(s[0]),e.end=new n(s[1])}else e.start=r(e.elem,a),e.end=new n(e.end);e.xinit=1}var l=e.start,c=e.end,u=e.pos;if(null===l){var d=u*(c.length-1),p=1>u?0|d:c.length-2;l=c[p],c=c[p+1],u=d-p}e.elem.style[a]=o(l.r+u*(c.r-l.r)|0,l.g+u*(c.g-l.g)|0,l.b+u*(c.b-l.b)|0,l.a+u*(c.a-l.a))}}),e(function(){var t=document.createElement("div"),n=t.style;o=function(e,t,n,r){return"rgba("+e+","+t+","+n+","+r+")"},n.cssText="background-color:rgba(1,1,1,.5)",(e.support.rgba=n.backgroundColor.indexOf("rgba")>-1)||(o=function(e,t,n){return"rgb("+e+","+t+","+n+")"})}),e.xcolor=new i,e.fn.readable=function(){var t=this[0],n="",r="";do if(""!==n||"transparent"!==(n=e.curCSS(t,"color"))&&"rgba(0, 0, 0, 0)"!==n||(n=""),""!==r||"transparent"!==(r=e.curCSS(t,"backgroundColor"))&&"rgba(0, 0, 0, 0)"!==r||(r=""),""!==n&&""!==r||e.nodeName(t,"body"))break;while(t=t.parentNode);return""===n&&(n="black"),""===r&&(r="white"),e.xcolor.readable(r,n)},e.fn.colorize=function(e,t,r){var i={gradient:function(e,t,n,r){return e/t},flip:function(e,t,n,r){return" "===r?n:!n},pillow:function(e,t,n,r){return e*=2,t>=e?e/t:2-e/t}};if("function"==typeof r);else{if(void 0===i[r])return;r=i[r]}e=new n(e),t=new n(t),this.each(function(){var n=this.childNodes,i=0,a=0;if(e.success&t.success){for(var s=n.length;s--;i+=n[s].textContent.length);!function l(n){var s,c=0;if(3===n.nodeType){var u,d,p,h=e,f=t,m=i,g=0,v=r;for(s=n.nodeValue.length,d=document.createElement("span"),c=0;s>c;++c)u=document.createElement("span"),p=n.nodeValue.charAt(c),g=v(a,m,g,p),u.style.color=o(h.r+g*(f.r-h.r)|0,h.g+g*(f.g-h.g)|0,h.b+g*(f.b-h.b)|0,h.a+g*(f.a-h.a)),u.appendChild(document.createTextNode(p)),d.appendChild(u),++a;n.parentNode.replaceChild(d,n)}else for(s=n.childNodes.length;s>c;++c)l(n.childNodes[c])}(this)}})}}(jQuery),function(){$(function(){return $(".jstab li").on("click",function(e){var t;return t=$(this),e.preventDefault(),t.hasClass("is-active")||null!=t.find("> a").data("disabled")?void 0:($(".jstab li").removeClass("is-active"),t.addClass("is-active"),$(".jstab + .tab-content > .jstab-content").removeClass("is-active"),$(".jstab + .tab-content > .jstab-content[data-tab-id='"+t.find("> a").data("target")+"']").addClass("is-active"))})})}.call(this),$(function(){var e=[],t=$(window),n=[{name:"phone",max:768},{name:"tablet",min:768,max:980},{name:"mobile",max:980},{name:"desktop",min:980}],r=function(){var e=t.width(),r=$.grep(n,function(t){return i(t,e)});return r.length?r:void 0},i=function(e,t){return(!e.max||e.max>t)&&(!e.min||e.min<=t)},o=function(t){var n=$.map(t,function(e){return e.name}),r=$.grep(e,function(e){return-1==$.inArray(e,n)}),i=$.grep(n,function(t){return-1==$.inArray(t,e)});r.length+i.length!==0&&($.each(r,function(e,t){a("exit",t),a("change",t,"exit")}),$.each(i,function(e,t){a("enter",t),a("change",t,"enter")}),r.length&&a("exit","stateList",r),i.length&&a("enter","stateList",i),e=n)},a=function(e,t,n){$(document).trigger("mediachange."+e+"."+t,n)},s=function(){o(r())};$(window).on("resize",s),$(s)}),function(){var e={inline_styles:!0,language:"en",mode:"textareas",plugins:"preview,inlinepopups,lists",theme:"advanced",theme_advanced_buttons1:"bold,italic,separator,formatselect,separator,bullist,numlist,indent,outdent,blockquote,separator,link,separator,undo,redo,preview,separator,code",theme_advanced_buttons2:"",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",width:"100%",valid_elements:"@[dir],h1,h2,h3,h4,h5,h6,p,em/i,strong/b,ul,ol,li,pre,code,address,a[href|target=_self],blockquote,bdo",relative_urls:!1};$(function(){$("textarea.mceEditor").tinymce(e)})}(),function(e,t,n){function r(e,n){var r,i=t.createElement(e||"div");for(r in n)i[r]=n[r];return i}function i(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,r){var i=["opacity",t,~~(100*e),n,r].join("-"),o=.01+n/r*100,a=Math.max(1-(1-e)/t*(100-o),e),s=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return p[i]||(h.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",0),p[i]=1),i}function a(e,t){var r,i,o=e.style;if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<d.length;i++)if(r=d[i]+t,o[r]!==n)return r}function s(e,t){for(var n in t)e.style[a(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function c(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var u,d=["webkit","Moz","ms","O"],p={},h=function(){var e=r("style");return i(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},m=function g(e){return this.spin?void(this.opts=l(e||{},g.defaults,f)):new g(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,n,i=this,o=i.opts,a=i.el=s(r(0,{className:o.className}),{position:"relative",zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(e&&(e.insertBefore(a,e.firstChild||null),n=c(e),t=c(a),s(a,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):o.left+l)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):o.top+l)+"px"})),a.setAttribute("aria-role","progressbar"),i.lines(a,i.opts),!u){var d=0,p=o.fps,h=p/o.speed,f=(1-o.opacity)/(h*o.trail/100),m=h/o.lines;!function g(){d++;for(var e=o.lines;e;e--){var t=Math.max(1-(d+e*m)%h*f,o.opacity);i.opacity(a,o.lines-e,t,o)}i.timeout=i.el&&setTimeout(g,~~(1e3/p))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return s(r(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}for(var a,l=0;l<t.lines;l++)a=s(r(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:u&&o(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&i(a,s(n("#000","0 0 4px #000"),{top:"2px"})),i(e,i(a,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return r("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=s(r("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?(h.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function r(){return s(e("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function o(t,o,a){i(d,i(s(r(),{rotation:360/n.lines*t+"deg",left:~~o}),i(s(e("roundrect",{arcsize:1}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var a,l=n.length+n.width,c=2*l,u=2*-(n.width+n.length)+"px",d=s(r(),{position:"absolute",top:u,left:u});if(n.shadow)for(a=1;a<=n.lines;a++)o(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=n.lines;a++)o(a);return i(t,d)},m.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):u=a(t,"animation")}(),e.Spinner=m}(window,document),function(){var e;e=function(){function e(){}var t,n,r,i,o,a,s,l,c,u,d,p,h,f,m,g,v,y,b,C,w,_,E,x;return _=h=s=E=v=g=m=x=d=o=a=p=b=C=y=i=r=c=u=l=f=w=null,n=function(){var e,t,n,l,u;if(t=$.parseJSON($.cookie("domain-info")),_=$.parseJSON($.cookie("user-info")),h=$.parseJSON($.cookie("cart-info")),null!=t&&null!=_&&(s=decodeURI(t.root),E=decodeURI(_.username),v=decodeURI(_.name).replace(/\+/g," "),g=decodeURI(_.first_name),m=decodeURI(_.email),x=decodeURI(_.wishlist),d=decodeURI(_.books),o=_.authored_books,a=_.avatar_url,b=_.is_author,C=_.is_editor,y=_.healthcheck,i=void 0,r=void 0,c=void 0),null!=h&&(p=decodeURI(h.cart_count)),o){for(u=[],n=0,l=o.length;l>n;n++)e=o[n],u.push(e.title=e.title.replace(/\+/g," "));return u}},n(),t=function(){return f=$.cookie("country_code"),w=$.cookie("region_code"),f?void 0:$.get("/geoip",function(e,t){return window.Leanpub.VATpricing.updatePrices()})}(),e.prototype.checkForUser=function(){return n()},e.prototype.isAuthorInCurrentContext=function(){return null!=i&&$.inArray(E,i)>=0},e.prototype.isEditorInCurrentContext=function(){return"undefined"!=typeof editorUsernames&&null!==editorUsernames&&$.inArray(E,editorUsernames)>=0},e.prototype.isYourAuthorPage=function(){return null!=r&&E===r},e.prototype.isLoggedIn=function(){return!!$.parseJSON($.cookie("user-info"))},e.prototype.getUserEmail=function(){return _?decodeURI(_.email):void 0},e.prototype.getWishlist=function(){return _?decodeURI(_.wishlist).split(/,/):void 0},e.prototype.getBooks=function(){return _?decodeURI(_.books).split(/,/):void 0},e.prototype.getAuthoredBooks=function(){return o},e.prototype.getAvatar=function(){return a||"missing_avatar.jpg"},e.prototype.getFullName=function(){return v},e.prototype.getFirstName=function(){return g},e.prototype.getEmail=function(){return m},e.prototype.getUsername=function(){return E},e.prototype.getIsAuthor=function(){return b},e.prototype.getIsEditor=function(){return C},e.prototype.getHealthcheck=function(){return y},e.prototype.getCartCount=function(){return p},e.prototype.setAuthorUsernames=function(e){return i=e},e.prototype.setEditorUsernames=function(e){var t;return t=e},e.prototype.setAuthorPageUsername=function(e){return r=e},e.prototype.setBookSlug=function(e){return c=e},e.prototype.getCountryCode=function(){return f},e.prototype.getRegionCode=function(){return w},e.prototype.assetPath=function(e){return"http"===e.slice(0,"http".length)?e:"/assets/"+e},e}(),window.Leanpub=new e}.call(this),function(){$(".clipboardy").click(function(e){var t,n,r;return n=$(e.target),(t=n.attr("data-clipboard-text"))?(r=n.attr("title"),window.prompt(r,decodeURI(t)),e.preventDefault()):void 0})}.call(this),function(){var e,t;e=function(e){return $("form.add-csrf").append("<input type='hidden' name='authenticity_token' value='"+e+"' />")},t=function(){var t;return t=$.cookie("csrftoken"),null!=t?(0===$('meta[name="csrf-param"]').length&&$("<meta>").attr("name","csrf-param").attr("content","authenticity_token").appendTo("head"),0===$('meta[name="csrf-token"]').length&&$("<meta>").attr("name","csrf-token").attr("content",t).appendTo("head"),e(t)):void 0},$(function(){return setTimeout(t,100)})}.call(this),function(){var e,t,n;t={activeFilter:".active-filter",activeSubFilter:".active-sub-filter",activeListItem:".menu .active span",activeListHeader:".menu .active .filter-header",button:".dropdown-button",menu:".menu"},e=function(){return $(t.button).click(function(e){var n,r;return e.stopPropagation(),$(".menu").removeClass("show-menu"),n=$(this),r=n.siblings(t.menu),r.toggleClass("show-menu"),r.children("li").click(function(){return n.text($(this).text()),r.removeClass("show-menu")})}),$("html").click(function(e){var n;return n=$(t.menu),n.is(":visible")?n.removeClass("show-menu"):void 0}),$(".menu").click(function(e){return e.stopPropagation()})},n=function(){return $(t.button).each(function(){var e;return e=$(this).siblings(t.menu).find(".active").last().text(),e?($(this).empty(),$(this).text(e)):void 0})},$(function(){return n(),e()})}.call(this),function(){!function(e){var t,n,r,i;return n=e.document,!location.hash&&e.addEventListener?(window.scrollTo(0,1),i=1,r=function(){return e.pageYOffset||"CSS1Compat"===n.compatMode&&n.documentElement.scrollTop||n.body.scrollTop||0},t=setInterval(function(){return n.body?(clearInterval(t),i=r(),e.scrollTo(0,1===i?0:1)):void 0},15),e.addEventListener("load",function(){return setTimeout(function(){return r()<20?e.scrollTo(0,1===i?0:1):void 0},0)})):void 0}(this)}.call(this),!window.addEventListener&&function(e,t,n,r,i,o,a){e[r]=t[r]=n[r]=function(e,t){var n=this;a.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,a[0][3])},e[i]=t[i]=n[i]=function(e,t){for(var n,r=0;n=a[r];++r)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,a.splice(r,1)[0][3])},e[o]=t[o]=n[o]=function(e){return this.fireEvent("on"+e.type,e)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),function(){var e;(e=document.getElementById("embed-code"))&&e.addEventListener("click",function(t){var n,r;if(n=e.getAttribute("data-clipboard-text"))return r=e.getAttribute("title"),window.prompt(r,decodeURI(n)),t.preventDefault()})}.call(this),function(){window.Leanpub||(window.Leanpub=new Leanpub),Leanpub.flashPrototype=$("#js-flash-prototype"),Leanpub.flashContainer=Leanpub.flashPrototype.parent(".flash-container"),Leanpub.setFlashNotice=function(e,t,n,r){var i,o;return null==n&&(n=!0),null==r&&(r=!1),o=e,r&&(o+=" persistent"),n&&(o+=" closeable"),r&&!n&&Leanpub.flashContainer.removeClass("floating"),$("#flash-"+e).length||Leanpub.flashPrototype.clone().addClass(o).attr("id","flash-"+e).insertAfter(Leanpub.flashPrototype),null!=Leanpub.lastPercent&&$(".alert:not(#js-flash-prototype) .alert-progress").width(Leanpub.lastPercent+"%"),$("#flash-"+e).find(".flash-message").html(t).show(),i=$("#flash-"+e),r||setTimeout(function(){return i.animate({opacity:0},500,function(){return $(this).remove()})},3500),n?Leanpub.handleFlashCloses($("#flash-"+e).find(".flash-close")):void 0},Leanpub.handleFlashCloses=function(e){return null==e&&(e=".flash-close"),$(e).click(function(){return $(this).parents(".alert").remove()})},Leanpub.clearFlashes=function(){return $(".alert-info, .alert-warning, .alert-error, .alert-success").remove()},$(function(){var e,t;return t={notice:"alert-info",alert:"alert-warning",error:"alert-error",success:"alert-success"},Leanpub.flashPrototype.length&&(e=$.parseJSON($.cookie("cookied-flash")),null!=e)?(jQuery.each(t,function(t,n){var r,i;if(e[t])return i=function(){try{return decodeURI(e[t]).replace(/\+/g," ")}catch(n){return r=n,e[t]}}(),Leanpub.setFlashNotice(n,i,e.closeable,e.persist)}),$.cookie("cookied-flash",null,{expire:-1,path:"/"})):void 0})}.call(this),function(){$(function(){return $(".initialFocus").focus()})}.call(this),function(){window.Leanpub||(window.Leanpub=new Leanpub),Leanpub.renderAccountOptions=function(){var e;return e=1120,Leanpub.isLoggedIn()?($("li.nav-icon.account").css("display","inline-block"),$("li.nav-sign-in").hide(),void $("li.nav-sign-up").hide()):$(window).width()<e?($("li.nav-icon.account").css("display","inline-block"),$("li.nav-sign-in").hide(),$("li.nav-sign-up").hide()):($("li.nav-icon.account").hide(),$("li.nav-sign-in").css("display","inline-block"),$("li.nav-sign-up").css("display","inline-block"))},Leanpub.renderQuickLinks=function(){return $(window).width()<640?$(".quick-links").hide():$(".quick-links").show()},Leanpub.resetHeader=function(){return $("#shopping-cart-icon .notification-count").remove(),$("#account-icon img").remove(),$("#account-dropdown .guest").css("display","none"),$("#account-dropdown .user").css("display","none"),$("#account-dropdown .author-account").css("display","none"),$("#account-dropdown .reader").css("display","none"),$("#account-dropdown .author").css("display","none"),$("#account-dropdown .publisher-account").css("display","none"),$("#account-dropdown .publisher").css("display","none"),$(".nav-icon.account").off("click"),$("#account-dropdown").off("click")},Leanpub.configureHeader=function(){var e,t,n,r,i,o,a,s,l,c,u;if(Leanpub.resetHeader(),parseInt(Leanpub.getCartCount())>0&&$("#shopping-cart-icon").append("<div class='notification-count'>"+Leanpub.getCartCount()+"</div>"),Leanpub.isLoggedIn()){if(u=Leanpub.getUsername(),t=Leanpub.getEmail(),l=Leanpub.getIsAuthor(),c=Leanpub.getIsEditor(),$("#account-icon").prepend("<img src='"+Leanpub.assetPath(Leanpub.getAvatar())+"' alt='Avatar'></img>"),$("#account-dropdown .user").css("display","block"),$("#account-dropdown .author-account").css("display","block"),$("#account-dropdown .logout .email").text("("+t+")"),l){for($("#account-dropdown .author").css("display","block"),o=Leanpub.getAuthoredBooks().slice(0,6),n=0,r=o.length;r>n;n++)e=o[n],s=25,a=e.title.substring(0,s),e.title.length>s&&(a+="..."),i=$("<a href='/"+e.slug+"/overview'></a>"),i.text(a),$(".quick-links").append(i);Leanpub.renderQuickLinks(),$(window).resize(Leanpub.renderQuickLinks)}else $("#account-dropdown .reader").css("display","block");c&&($("#account-dropdown .publisher-account").css("display","block"),$("#account-dropdown .publisher").css("display","block"))}else $("#account-icon").prepend("<img src='/assets/missing_avatar.jpg' alt='Avatar'></img>"),$("#account-dropdown .guest").css("display","block");return $(".nav-icon.account").on("click",function(e){return e.stopPropagation(),$("#account-dropdown").toggleClass("open"),$("#account-icon").toggleClass("open"),$(e.currentTarget).toggleClass("open")}),$("#account-dropdown").on("click",function(e){return e.stopPropagation()}),$(document).on("click",function(e){return $("#account-dropdown").removeClass("open"),$("#account-icon").removeClass("open"),$(".nav-icon").removeClass("open")}),$(".nav-mobile, .sliding-panel-fade-screen, .sliding-panel-close").on("click touchstart",function(e){return $(".sliding-panel-content,.sliding-panel-fade-screen").toggleClass("is-visible"),e.preventDefault()}),Leanpub.renderAccountOptions(),$(window).resize(function(e){return Leanpub.renderAccountOptions()})},$(function(){return Leanpub.configureHeader()})}.call(this),function(){$(function(){return $(".trimmed").each(function(){return $(this).children(":first").height()<parseInt($(this).css("maxHeight"))?($(this).addClass("expanded"),$(this).next(".show-more").remove()):void 0}),$(".show-more").click(function(e){return $(this).prev(".trimmed").toggleClass("expanded"),$(this).find("span").each(function(){return $(this).toggle()})})})}.call(this),function(){var e,t;e={theme:null,mouseDraggable:!1,pagination:!1,slideSpeed:350,scrollPerPage:!0,rewindNav:!1,navigation:!0,navigationText:!1},t=function(e){return e.is(":visible")?void 0:e.fadeIn()},$(function(){var n,r,i,o,a,s,l;return n=$(".book-list.paginate"),r=$(".bundle-list.paginate"),i=$(".package-list.paginate"),null!=n&&(o=$.extend({items:6,itemsDesktop:[1024,6],itemsDesktopSmall:[860,4],itemsTablet:[640,3],itemsMobile:!1,afterInit:function(e){var r;return r=$(e).parent().find(".list-controls"),t(n),this.owlControls.appendTo(r)}},e),n.owlCarousel(o)),null!=r&&(s=$.extend({items:4,itemsDesktop:[1024,4],itemsDesktopSmall:[860,3],itemsTablet:[640,2],itemsMobile:!1,afterInit:function(e){var n;return n=$(e).parent().find(".list-controls"),t(r),this.owlControls.appendTo(n)}},e),r.owlCarousel(s)),"undefined"!=typeof $bundlesCarousel&&null!==$bundlesCarousel&&(a={autoWidth:!0,center:!0,items:3,scrollPerPage:!0,theme:null,mouseDraggable:!1,slideSpeed:350,navigation:!0,navigationText:['<a class="previous-page"></a>','<a class="next-page"></a>'],afterInit:t($bundlesCarousel)},$bundlesCarousel.owlCarousel(a)),null!=i?(l=$.extend({items:3,itemsDesktop:[1024,3],itemsDesktopSmall:[860,2],itemsTablet:[640,1],itemsMobile:!1,afterInit:function(e){var n;return n=$(e).parent().find(".list-controls"),t(i),this.owlControls.appendTo(n)}},e),i.owlCarousel(l)):void 0})}.call(this),function(){$(function(){return $(".modal [data-dismiss]").click(function(e){return $(this).parents(".modal").hide()})})}.call(this),function(){$(function(){var e;return $("#book_autofill, #user_book_autofill").val("javascript"),e=Leanpub.Utilities.getQueryParameter("sync"),void 0!==e?$("#book_sync_mode_"+e).prop("checked",!0):void 0})}.call(this),function(){var e;e=function(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,"\n")},$(function(){return $("[data-slug-from]").each(function(){var t,n,r;return t=$(this),r=t.data("slugFrom"),n=$("[data-slug-for='"+r+"']"),n.focusout(function(){var r;return r=n.val(),n.val(e(r)),t.val(r.toLowerCase().replace(/[^a-z0-9\-_]/g,""))}),t.focusout(function(){var e;return e=t.val().replace(/[^a-zA-Z0-9\-_]/g,""),t.val(e)})})})}.call(this),function(){$(function(){return $("a[href*=#]:not([href=#])").click(function(){var e,t;return location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&(t=$(this.hash),t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)?(e=this.hash,$("html,body").animate({
scrollTop:t.offset().top},1e3,function(){return window.location.hash=e}),!1):void 0})})}.call(this),function(){var e,t;$(function(){return $("input[name='book[sync_mode]'], input[name='user[book][sync_mode]']").click(e),e(),$(".use-dropbox-email").click(t)}),e=function(){var e,n,r,i,o,a,s,l,c;switch(l=$("input[name='book[sync_mode]']:checked, input[name='user[book][sync_mode]']:checked").val(),i=$("#dropbox-email"),o=$("#github-repo"),e=$("#bitbucket-repo"),n=$("#in-browser"),r=$("#byob-upload"),a=$("#word-upload"),c=[i,o,e,n,r,a],s=function(e){var t,n,r,i;for(i=c.filter(function(t){return function(t){return t!==e}}(this)),t=0,n=i.length;n>t;t++)r=i[t],r.hide().find(":input").prop("disabled",!0);return e.show().find(":input").prop("disabled",!1),$(".book_book_style, .user_book_book_style, .style-title").show()},l){case"leanpub":return s(n);case"dropbox":return s(i);case"github":return s(o),t(o.find(".use-dropbox-email"));case"bitbucket":return s(e),t(e.find(".use-dropbox-email"));case"word_upload":return s(a);case"upload":return s(r),$(".book_book_style, .style-title").hide()}},t=function(e){var t,n;return null!=e.currentTarget&&(e=$(e.currentTarget)),t=e.prop("checked"),n=e.closest(".book_use_dropbox_output").nextAll(".dropbox-email"),t?n.show():n.hide()}}.call(this),function(){var e=this,t=e._,n=Array.prototype,r=Object.prototype,i=Function.prototype,o=n.push,a=n.slice,s=n.concat,l=r.toString,c=r.hasOwnProperty,u=Array.isArray,d=Object.keys,p=i.bind,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):e._=h,h.VERSION="1.7.0";var f=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}};h.iteratee=function(e,t,n){return null==e?h.identity:h.isFunction(e)?f(e,t,n):h.isObject(e)?h.matches(e):h.property(e)},h.each=h.forEach=function(e,t,n){if(null==e)return e;t=f(t,n);var r,i=e.length;if(i===+i)for(r=0;i>r;r++)t(e[r],r,e);else{var o=h.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},h.map=h.collect=function(e,t,n){if(null==e)return[];t=h.iteratee(t,n);for(var r,i=e.length!==+e.length&&h.keys(e),o=(i||e).length,a=Array(o),s=0;o>s;s++)r=i?i[s]:s,a[s]=t(e[r],r,e);return a};var m="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(e,t,n,r){null==e&&(e=[]),t=f(t,r,4);var i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(m);n=e[o?o[s++]:s++]}for(;a>s;s++)i=o?o[s]:s,n=t(n,e[i],i,e);return n},h.reduceRight=h.foldr=function(e,t,n,r){null==e&&(e=[]),t=f(t,r,4);var i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length;if(arguments.length<3){if(!a)throw new TypeError(m);n=e[o?o[--a]:--a]}for(;a--;)i=o?o[a]:a,n=t(n,e[i],i,e);return n},h.find=h.detect=function(e,t,n){var r;return t=h.iteratee(t,n),h.some(e,function(e,n,i){return t(e,n,i)?(r=e,!0):void 0}),r},h.filter=h.select=function(e,t,n){var r=[];return null==e?r:(t=h.iteratee(t,n),h.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r)},h.reject=function(e,t,n){return h.filter(e,h.negate(h.iteratee(t)),n)},h.every=h.all=function(e,t,n){if(null==e)return!0;t=h.iteratee(t,n);var r,i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length;for(r=0;a>r;r++)if(i=o?o[r]:r,!t(e[i],i,e))return!1;return!0},h.some=h.any=function(e,t,n){if(null==e)return!1;t=h.iteratee(t,n);var r,i,o=e.length!==+e.length&&h.keys(e),a=(o||e).length;for(r=0;a>r;r++)if(i=o?o[r]:r,t(e[i],i,e))return!0;return!1},h.contains=h.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=h.values(e)),h.indexOf(e,t)>=0)},h.invoke=function(e,t){var n=a.call(arguments,2),r=h.isFunction(t);return h.map(e,function(e){return(r?t:e[t]).apply(e,n)})},h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matches(t))},h.findWhere=function(e,t){return h.find(e,h.matches(t))},h.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:h.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>o&&(o=r)}else t=h.iteratee(t,n),h.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},h.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:h.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],o>r&&(o=r)}else t=h.iteratee(t,n),h.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},h.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:h.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=h.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},h.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=h.values(e)),e[h.random(e.length-1)]):h.shuffle(e).slice(0,Math.max(0,t))},h.sortBy=function(e,t,n){return t=h.iteratee(t,n),h.pluck(h.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,n,r){var i={};return n=h.iteratee(n,r),h.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};h.groupBy=g(function(e,t,n){h.has(e,n)?e[n].push(t):e[n]=[t]}),h.indexBy=g(function(e,t,n){e[n]=t}),h.countBy=g(function(e,t,n){h.has(e,n)?e[n]++:e[n]=1}),h.sortedIndex=function(e,t,n,r){n=h.iteratee(n,r,1);for(var i=n(t),o=0,a=e.length;a>o;){var s=o+a>>>1;n(e[s])<i?o=s+1:a=s}return o},h.toArray=function(e){return e?h.isArray(e)?a.call(e):e.length===+e.length?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:e.length===+e.length?e.length:h.keys(e).length},h.partition=function(e,t,n){t=h.iteratee(t,n);var r=[],i=[];return h.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},h.first=h.head=h.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},h.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},h.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},h.rest=h.tail=h.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},h.compact=function(e){return h.filter(e,h.identity)};var v=function(e,t,n,r){if(t&&h.every(e,h.isArray))return s.apply(r,e);for(var i=0,a=e.length;a>i;i++){var l=e[i];h.isArray(l)||h.isArguments(l)?t?o.apply(r,l):v(l,t,n,r):n||r.push(l)}return r};h.flatten=function(e,t){return v(e,t,!1,[])},h.without=function(e){return h.difference(e,a.call(arguments,1))},h.uniq=h.unique=function(e,t,n,r){if(null==e)return[];h.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=h.iteratee(n,r));for(var i=[],o=[],a=0,s=e.length;s>a;a++){var l=e[a];if(t)a&&o===l||i.push(l),o=l;else if(n){var c=n(l,a,e);h.indexOf(o,c)<0&&(o.push(c),i.push(l))}else h.indexOf(i,l)<0&&i.push(l)}return i},h.union=function(){return h.uniq(v(arguments,!0,!0,[]))},h.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,r=0,i=e.length;i>r;r++){var o=e[r];if(!h.contains(t,o)){for(var a=1;n>a&&h.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},h.difference=function(e){var t=v(a.call(arguments,1),!0,!0,[]);return h.filter(e,function(e){return!h.contains(t,e)})},h.zip=function(e){if(null==e)return[];for(var t=h.max(arguments,"length").length,n=Array(t),r=0;t>r;r++)n[r]=h.pluck(arguments,r);return n},h.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},h.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=h.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(e[r]===t)return r;return-1},h.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1},h.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var y=function(){};h.bind=function(e,t){var n,r;if(p&&e.bind===p)return p.apply(e,a.call(arguments,1));if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(a.call(arguments)));y.prototype=e.prototype;var i=new y;y.prototype=null;var o=e.apply(i,n.concat(a.call(arguments)));return h.isObject(o)?o:i}},h.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,o=r.length;o>i;i++)r[i]===h&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},h.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=h.bind(e[n],e);return e},h.memoize=function(e,t){var n=function(r){var i=n.cache,o=t?t.apply(this,arguments):r;return h.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},h.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},h.defer=function(e){return h.delay.apply(h,[e,1].concat(a.call(arguments,1)))},h.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:h.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=h.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return r=this,i=arguments,0>=u||u>t?(clearTimeout(a),a=null,s=c,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o}},h.debounce=function(e,t,n){var r,i,o,a,s,l=function(){var c=h.now()-a;t>c&&c>0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=h.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(o,i),o=i=null),s}},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},h.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},h.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},h.once=h.partial(h.before,2),h.keys=function(e){if(!h.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)h.has(e,n)&&t.push(n);return t},h.values=function(e){for(var t=h.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},h.pairs=function(e){for(var t=h.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},h.invert=function(e){for(var t={},n=h.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},h.functions=h.methods=function(e){var t=[];for(var n in e)h.isFunction(e[n])&&t.push(n);return t.sort()},h.extend=function(e){if(!h.isObject(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++){t=arguments[r];for(n in t)c.call(t,n)&&(e[n]=t[n])}return e},h.pick=function(e,t,n){var r,i={};if(null==e)return i;if(h.isFunction(t)){t=f(t,n);for(r in e){var o=e[r];t(o,r,e)&&(i[r]=o)}}else{var l=s.apply([],a.call(arguments,1));e=new Object(e);for(var c=0,u=l.length;u>c;c++)r=l[c],r in e&&(i[r]=e[r])}return i},h.omit=function(e,t,n){if(h.isFunction(t))t=h.negate(t);else{var r=h.map(s.apply([],a.call(arguments,1)),String);t=function(e,t){return!h.contains(r,t)}}return h.pick(e,t,n)},h.defaults=function(e){if(!h.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e};var b=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var i=l.call(e);if(i!==l.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]===e)return r[o]===t;var a=e.constructor,s=t.constructor;if(a!==s&&"constructor"in e&&"constructor"in t&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s))return!1;n.push(e),r.push(t);var c,u;if("[object Array]"===i){if(c=e.length,u=c===t.length)for(;c--&&(u=b(e[c],t[c],n,r)););}else{var d,p=h.keys(e);if(c=p.length,u=h.keys(t).length===c)for(;c--&&(d=p[c],u=h.has(t,d)&&b(e[d],t[d],n,r)););}return n.pop(),r.pop(),u};h.isEqual=function(e,t){return b(e,t,[],[])},h.isEmpty=function(e){if(null==e)return!0;if(h.isArray(e)||h.isString(e)||h.isArguments(e))return 0===e.length;for(var t in e)if(h.has(e,t))return!1;return!0},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=u||function(e){return"[object Array]"===l.call(e)},h.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){h["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return h.has(e,"callee")}),"function"!=typeof/./&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&e!==+e},h.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){return null!=e&&c.call(e,t)},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return function(t){return t[e]}},h.matches=function(e){var t=h.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var r=0;n>r;r++){var i=t[r],o=i[0];if(i[1]!==e[o]||!(o in e))return!1}return!0}},h.times=function(e,t,n){var r=Array(Math.max(0,e));t=f(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=h.invert(C),_=function(e){var t=function(t){return e[t]},n="(?:"+h.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};h.escape=_(C),h.unescape=_(w),h.result=function(e,t){if(null==e)return void 0;var n=e[t];return h.isFunction(n)?e[t]():n};var E=0;h.uniqueId=function(e){var t=++E+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var x=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\u2028|\u2029/g,N=function(e){return"\\"+T[e]};h.template=function(e,t,n){!t&&n&&(t=n),t=h.defaults({},t,h.templateSettings);var r=RegExp([(t.escape||x).source,(t.interpolate||x).source,(t.evaluate||x).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(S,N),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,h)},c=t.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},h.chain=function(e){var t=h(e);return t._chain=!0,t};var k=function(e){return this._chain?h(e).chain():e};h.mixin=function(e){h.each(h.functions(e),function(t){var n=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),k.call(this,n.apply(h,e))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];h.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],k.call(this,n)}}),h.each(["concat","join","slice"],function(e){var t=n[e];h.prototype[e]=function(){return k.call(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(){Leanpub.Utilities=function(){return{getQueryParameter:function(e){var t,n,r,i,o,a;for(i=decodeURIComponent(window.location.search.substring(1)),a=i.split("&"),t=n=0,r=a.length;r>=0?r>n:n>r;t=r>=0?++n:--n)if(o=a[t].split("="),o[0]===e)return o[1]},taxPercentage:function(e){return e.toFixed(2).replace(/\.?0+$/,"")}}}()}.call(this),function(){var e;e={BE:21,BG:20,CZ:21,DK:25,DE:19,EE:20,EL:23,ES:21,FR:5.5,GB:20,HR:25,IE:23,IT:4,CY:19,LV:21,LT:21,LU:3,HU:27,MT:18,NL:21,AT:20,PL:23,PT:23,RO:20,SI:22,SK:20,FI:24,SE:25,UK:20},Leanpub.VATpricing=function(){return{VAT_TAX_RATES:e,getVATPercentage:function(){var t;return t=Leanpub.getCountryCode(),t&&t in e?e[t]/100:0},getPriceWithVAT:function(e){var t;return e=parseFloat(e),isNaN(e)?0:(t=this.getVATPercentage(),(e*(1+t)).toFixed(2))},updatePrices:function(){return $(document).trigger("vat:update")}}}()}.call(this),function(){var e;e=function(){function e(){}var t;return t=null,e.prototype.init=function(e){return null!=e?(t=e,this.bindEvents()):void 0},e.prototype.bindEvents=function(){return $(".modal-state").on("click",function(e){return function(t){var n;return(n=$(t.target)).is(":checked")?e.insertFrame(n):e.removeFrame(n)}}(this))},e.prototype.buildFrame=function(e){return"<iframe width='853' height='480' src='//www.youtube.com/embed/"+e.embed+"?rel=0&amp;showinfo=0;"+e.extra+"' frameborder='0' allowfullscreen></iframe>"},e.prototype.insertFrame=function(e){var n;return n=$(e).attr("id"),$("#"+n+"-wrapper").append(this.buildFrame(t[n]))},e.prototype.removeFrame=function(e){var t;return t=$(e).attr("id"),$("#"+t+"-wrapper").empty()},e}(),window.VideoModals=new e}.call(this),function(){window.searchToHash=function(){var e,t,n,r,i,o,a;for(a=location.search.replace(/^\?/,""),i={},r=function(){var e,t,n,r;for(n=a.split(/&/),r=[],e=0,t=n.length;t>e;e++)o=n[e],r.push(o.split(/\=/));return r}(),e=0,n=r.length;n>e;e++)t=r[e],i[t[0]]=t[1];return i}}.call(this),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n){var r={init:function(t,n){var r=this;r.$elem=e(n),r.options=e.extend({},e.fn.owlCarousel.options,r.$elem.data(),t),r.userOptions=t,r.loadContent()},loadContent:function(){function t(e){var t,n="";if("function"==typeof r.options.jsonSuccess)r.options.jsonSuccess.apply(this,[e]);else{for(t in e.owl)e.owl.hasOwnProperty(t)&&(n+=e.owl[t].item);r.$elem.html(n)}r.logIn()}var n,r=this;"function"==typeof r.options.beforeInit&&r.options.beforeInit.apply(this,[r.$elem]),"string"==typeof r.options.jsonPath?(n=r.options.jsonPath,e.getJSON(n,t)):r.logIn()},logIn:function(){var e=this;e.$elem.data({"owl-originalStyles":e.$elem.attr("style"),"owl-originalClasses":e.$elem.attr("class")}),e.$elem.css({opacity:0}),e.orignalItems=e.options.items,e.checkBrowser(),e.wrapperWidth=0,e.checkVisible=null,e.setVars()},setVars:function(){var e=this;return 0===e.$elem.children().length?!1:(e.baseClass(),e.eventTypes(),e.$userItems=e.$elem.children(),e.itemsAmount=e.$userItems.length,e.wrapItems(),e.$owlItems=e.$elem.find(".owl-item"),e.$owlWrapper=e.$elem.find(".owl-wrapper"),e.playDirection="next",e.prevItem=0,e.prevArr=[0],e.currentItem=0,e.customEvents(),void e.onStartup())},onStartup:function(){var e=this;e.updateItems(),e.calculateAll(),e.buildControls(),e.updateControls(),e.response(),e.moveEvents(),e.stopOnHover(),e.owlStatus(),e.options.transitionStyle!==!1&&e.transitionTypes(e.options.transitionStyle),e.options.autoPlay===!0&&(e.options.autoPlay=5e3),e.play(),e.$elem.find(".owl-wrapper").css("display","block"),e.$elem.is(":visible")?e.$elem.css("opacity",1):e.watchVisibility(),e.onstartup=!1,e.eachMoveUpdate(),"function"==typeof e.options.afterInit&&e.options.afterInit.apply(this,[e.$elem])},eachMoveUpdate:function(){var e=this;e.options.lazyLoad===!0&&e.lazyLoad(),e.options.autoHeight===!0&&e.autoHeight(),e.onVisibleItems(),"function"==typeof e.options.afterAction&&e.options.afterAction.apply(this,[e.$elem])},updateVars:function(){var e=this;"function"==typeof e.options.beforeUpdate&&e.options.beforeUpdate.apply(this,[e.$elem]),e.watchVisibility(),e.updateItems(),e.calculateAll(),e.updatePosition(),e.updateControls(),e.eachMoveUpdate(),"function"==typeof e.options.afterUpdate&&e.options.afterUpdate.apply(this,[e.$elem])},reload:function(){var e=this;t.setTimeout(function(){e.updateVars()},0)},watchVisibility:function(){var e=this;return e.$elem.is(":visible")!==!1?!1:(e.$elem.css({opacity:0}),t.clearInterval(e.autoPlayInterval),t.clearInterval(e.checkVisible),void(e.checkVisible=t.setInterval(function(){e.$elem.is(":visible")&&(e.reload(),e.$elem.animate({opacity:1},200),t.clearInterval(e.checkVisible))},500)))},wrapItems:function(){var e=this;e.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),e.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),e.wrapperOuter=e.$elem.find(".owl-wrapper-outer"),e.$elem.css("display","block")},baseClass:function(){var e=this,t=e.$elem.hasClass(e.options.baseClass),n=e.$elem.hasClass(e.options.theme);t||e.$elem.addClass(e.options.baseClass),n||e.$elem.addClass(e.options.theme)},updateItems:function(){var t,n,r=this;if(r.options.responsive===!1)return!1;if(r.options.singleItem===!0)return r.options.items=r.orignalItems=1,r.options.itemsCustom=!1,r.options.itemsDesktop=!1,r.options.itemsDesktopSmall=!1,r.options.itemsTablet=!1,r.options.itemsTabletSmall=!1,r.options.itemsMobile=!1,!1;if(t=e(r.options.responsiveBaseWidth).width(),t>(r.options.itemsDesktop[0]||r.orignalItems)&&(r.options.items=r.orignalItems),r.options.itemsCustom!==!1)for(r.options.itemsCustom.sort(function(e,t){return e[0]-t[0]}),n=0;n<r.options.itemsCustom.length;n+=1)r.options.itemsCustom[n][0]<=t&&(r.options.items=r.options.itemsCustom[n][1]);else t<=r.options.itemsDesktop[0]&&r.options.itemsDesktop!==!1&&(r.options.items=r.options.itemsDesktop[1]),t<=r.options.itemsDesktopSmall[0]&&r.options.itemsDesktopSmall!==!1&&(r.options.items=r.options.itemsDesktopSmall[1]),t<=r.options.itemsTablet[0]&&r.options.itemsTablet!==!1&&(r.options.items=r.options.itemsTablet[1]),t<=r.options.itemsTabletSmall[0]&&r.options.itemsTabletSmall!==!1&&(r.options.items=r.options.itemsTabletSmall[1]),t<=r.options.itemsMobile[0]&&r.options.itemsMobile!==!1&&(r.options.items=r.options.itemsMobile[1]);r.options.items>r.itemsAmount&&r.options.itemsScaleUp===!0&&(r.options.items=r.itemsAmount)},response:function(){var n,r,i=this;return i.options.responsive!==!0?!1:(r=e(t).width(),i.resizer=function(){e(t).width()!==r&&(i.options.autoPlay!==!1&&t.clearInterval(i.autoPlayInterval),t.clearTimeout(n),n=t.setTimeout(function(){r=e(t).width(),i.updateVars()},i.options.responsiveRefreshRate))},void e(t).resize(i.resizer))},updatePosition:function(){var e=this;e.jumpTo(e.currentItem),e.options.autoPlay!==!1&&e.checkAp()},appendItemsSizes:function(){var t=this,n=0,r=t.itemsAmount-t.options.items;t.$owlItems.each(function(i){var o=e(this);o.css({width:t.itemWidth}).data("owl-item",Number(i)),(i%t.options.items===0||i===r)&&(i>r||(n+=1)),o.data("owl-roundPages",n)})},appendWrapperSizes:function(){var e=this,t=e.$owlItems.length*e.itemWidth;e.$owlWrapper.css({width:2*t,left:0}),e.appendItemsSizes()},calculateAll:function(){var e=this;e.calculateWidth(),e.appendWrapperSizes(),e.loops(),e.max()},calculateWidth:function(){var e=this;e.itemWidth=Math.round(e.$elem.width()/e.options.items)},max:function(){var e=this,t=-1*(e.itemsAmount*e.itemWidth-e.options.items*e.itemWidth);return e.options.items>e.itemsAmount?(e.maximumItem=0,t=0,e.maximumPixels=0):(e.maximumItem=e.itemsAmount-e.options.items,e.maximumPixels=t),t},min:function(){return 0},loops:function(){var t,n,r,i=this,o=0,a=0;for(i.positionsInArray=[0],i.pagesInArray=[],t=0;t<i.itemsAmount;t+=1)a+=i.itemWidth,i.positionsInArray.push(-a),i.options.scrollPerPage===!0&&(n=e(i.$owlItems[t]),r=n.data("owl-roundPages"),r!==o&&(i.pagesInArray[o]=i.positionsInArray[t],o=r))},buildControls:function(){var t=this;(t.options.navigation===!0||t.options.pagination===!0)&&(t.owlControls=e('<div class="owl-controls"/>').toggleClass("clickable",!t.browser.isTouch).appendTo(t.$elem)),t.options.pagination===!0&&t.buildPagination(),t.options.navigation===!0&&t.buildButtons()},buildButtons:function(){var t=this,n=e('<div class="owl-buttons"/>');t.owlControls.append(n),t.buttonPrev=e("<div/>",{"class":"owl-prev",html:t.options.navigationText[0]||""}),t.buttonNext=e("<div/>",{"class":"owl-next",html:t.options.navigationText[1]||""}),n.append(t.buttonPrev).append(t.buttonNext),n.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(e){e.preventDefault()}),n.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(n){n.preventDefault(),e(this).hasClass("owl-next")?t.next():t.prev()})},buildPagination:function(){var t=this;t.paginationWrapper=e('<div class="owl-pagination"/>'),t.owlControls.append(t.paginationWrapper),t.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(n){n.preventDefault(),Number(e(this).data("owl-page"))!==t.currentItem&&t.goTo(Number(e(this).data("owl-page")),!0)})},updatePagination:function(){var t,n,r,i,o,a,s=this;if(s.options.pagination===!1)return!1;for(s.paginationWrapper.html(""),t=0,n=s.itemsAmount-s.itemsAmount%s.options.items,i=0;i<s.itemsAmount;i+=1)i%s.options.items===0&&(t+=1,n===i&&(r=s.itemsAmount-s.options.items),o=e("<div/>",{"class":"owl-page"}),a=e("<span></span>",{text:s.options.paginationNumbers===!0?t:"","class":s.options.paginationNumbers===!0?"owl-numbers":""}),o.append(a),o.data("owl-page",n===i?r:i),o.data("owl-roundPages",t),s.paginationWrapper.append(o));s.checkPagination()},checkPagination:function(){var t=this;return t.options.pagination===!1?!1:void t.paginationWrapper.find(".owl-page").each(function(){e(this).data("owl-roundPages")===e(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),e(this).addClass("active"))})},checkNavigation:function(){var e=this;return e.options.navigation===!1?!1:void(e.options.rewindNav===!1&&(0===e.currentItem&&0===e.maximumItem?(e.buttonPrev.addClass("disabled"),e.buttonNext.addClass("disabled")):0===e.currentItem&&0!==e.maximumItem?(e.buttonPrev.addClass("disabled"),e.buttonNext.removeClass("disabled")):e.currentItem===e.maximumItem?(e.buttonPrev.removeClass("disabled"),e.buttonNext.addClass("disabled")):0!==e.currentItem&&e.currentItem!==e.maximumItem&&(e.buttonPrev.removeClass("disabled"),e.buttonNext.removeClass("disabled"))))},updateControls:function(){var e=this;e.updatePagination(),e.checkNavigation(),e.owlControls&&(e.options.items>=e.itemsAmount?e.owlControls.hide():e.owlControls.show())},destroyControls:function(){var e=this;e.owlControls&&e.owlControls.remove()},next:function(e){var t=this;if(t.isTransition)return!1;if(t.currentItem+=t.options.scrollPerPage===!0?t.options.items:1,t.currentItem>t.maximumItem+(t.options.scrollPerPage===!0?t.options.items-1:0)){if(t.options.rewindNav!==!0)return t.currentItem=t.maximumItem,!1;t.currentItem=0,e="rewind"}t.goTo(t.currentItem,e)},prev:function(e){var t=this;if(t.isTransition)return!1;if(t.options.scrollPerPage===!0&&t.currentItem>0&&t.currentItem<t.options.items?t.currentItem=0:t.currentItem-=t.options.scrollPerPage===!0?t.options.items:1,t.currentItem<0){if(t.options.rewindNav!==!0)return t.currentItem=0,!1;t.currentItem=t.maximumItem,e="rewind"}t.goTo(t.currentItem,e)},goTo:function(e,n,r){var i,o=this;return o.isTransition?!1:("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),e>=o.maximumItem?e=o.maximumItem:0>=e&&(e=0),o.currentItem=o.owl.currentItem=e,o.options.transitionStyle!==!1&&"drag"!==r&&1===o.options.items&&o.browser.support3d===!0?(o.swapSpeed(0),o.browser.support3d===!0?o.transition3d(o.positionsInArray[e]):o.css2slide(o.positionsInArray[e],1),o.afterGo(),o.singleItemTransition(),!1):(i=o.positionsInArray[e],o.browser.support3d===!0?(o.isCss3Finish=!1,n===!0?(o.swapSpeed("paginationSpeed"),t.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===n?(o.swapSpeed(o.options.rewindSpeed),t.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),t.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(i)):n===!0?o.css2slide(i,o.options.paginationSpeed):"rewind"===n?o.css2slide(i,o.options.rewindSpeed):o.css2slide(i,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(e){var t=this;"function"==typeof t.options.beforeMove&&t.options.beforeMove.apply(this,[t.$elem]),e>=t.maximumItem||-1===e?e=t.maximumItem:0>=e&&(e=0),t.swapSpeed(0),t.browser.support3d===!0?t.transition3d(t.positionsInArray[e]):t.css2slide(t.positionsInArray[e],1),t.currentItem=t.owl.currentItem=e,t.afterGo()},afterGo:function(){var e=this;e.prevArr.push(e.currentItem),e.prevItem=e.owl.prevItem=e.prevArr[e.prevArr.length-2],e.prevArr.shift(0),e.prevItem!==e.currentItem&&(e.checkPagination(),e.checkNavigation(),e.eachMoveUpdate(),e.options.autoPlay!==!1&&e.checkAp()),"function"==typeof e.options.afterMove&&e.prevItem!==e.currentItem&&e.options.afterMove.apply(this,[e.$elem])},stop:function(){var e=this;e.apStatus="stop",t.clearInterval(e.autoPlayInterval)},checkAp:function(){var e=this;"stop"!==e.apStatus&&e.play()},play:function(){var e=this;return e.apStatus="play",e.options.autoPlay===!1?!1:(t.clearInterval(e.autoPlayInterval),void(e.autoPlayInterval=t.setInterval(function(){e.next(!0)},e.options.autoPlay)))},swapSpeed:function(e){var t=this;"slideSpeed"===e?t.$owlWrapper.css(t.addCssSpeed(t.options.slideSpeed)):"paginationSpeed"===e?t.$owlWrapper.css(t.addCssSpeed(t.options.paginationSpeed)):"string"!=typeof e&&t.$owlWrapper.css(t.addCssSpeed(e))},addCssSpeed:function(e){return{"-webkit-transition":"all "+e+"ms ease","-moz-transition":"all "+e+"ms ease","-o-transition":"all "+e+"ms ease",transition:"all "+e+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(e){return{"-webkit-transform":"translate3d("+e+"px, 0px, 0px)","-moz-transform":"translate3d("+e+"px, 0px, 0px)","-o-transform":"translate3d("+e+"px, 0px, 0px)","-ms-transform":"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px,0px)"}},transition3d:function(e){var t=this;t.$owlWrapper.css(t.doTranslate(e))},css2move:function(e){var t=this;t.$owlWrapper.css({left:e})},css2slide:function(e,t){var n=this;n.isCssFinish=!1,n.$owlWrapper.stop(!0,!0).animate({left:e},{duration:t||n.options.slideSpeed,complete:function(){n.isCssFinish=!0}})},checkBrowser:function(){var e,r,i,o,a=this,s="translate3d(0px, 0px, 0px)",l=n.createElement("div");l.style.cssText="  -moz-transform:"+s+"; -ms-transform:"+s+"; -o-transform:"+s+"; -webkit-transform:"+s+"; transform:"+s,e=/translate3d\(0px, 0px, 0px\)/g,r=l.style.cssText.match(e),i=null!==r&&1===r.length,o="ontouchstart"in t||t.navigator.msMaxTouchPoints,a.browser={support3d:i,isTouch:o}},moveEvents:function(){var e=this;(e.options.mouseDrag!==!1||e.options.touchDrag!==!1)&&(e.gestures(),e.disabledEvents())},eventTypes:function(){var e=this,t=["s","e","x"];e.ev_types={},e.options.mouseDrag===!0&&e.options.touchDrag===!0?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:e.options.mouseDrag===!1&&e.options.touchDrag===!0?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:e.options.mouseDrag===!0&&e.options.touchDrag===!1&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),e.ev_types.start=t[0],e.ev_types.move=t[1],e.ev_types.end=t[2]},disabledEvents:function(){var t=this;t.$elem.on("dragstart.owl",function(e){e.preventDefault()}),t.$elem.on("mousedown.disableTextSelect",function(t){return e(t.target).is("input, textarea, select, option")})},gestures:function(){function r(e){if(void 0!==e.touches)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(void 0===e.touches){if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY};if(void 0===e.pageX)return{
x:e.clientX,y:e.clientY}}}function i(t){"on"===t?(e(n).on(l.ev_types.move,a),e(n).on(l.ev_types.end,s)):"off"===t&&(e(n).off(l.ev_types.move),e(n).off(l.ev_types.end))}function o(n){var o,a=n.originalEvent||n||t.event;if(3===a.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(l.isCssFinish===!1&&!l.options.dragBeforeAnimFinish)return!1;if(l.isCss3Finish===!1&&!l.options.dragBeforeAnimFinish)return!1;l.options.autoPlay!==!1&&t.clearInterval(l.autoPlayInterval),l.browser.isTouch===!0||l.$owlWrapper.hasClass("grabbing")||l.$owlWrapper.addClass("grabbing"),l.newPosX=0,l.newRelativeX=0,e(this).css(l.removeTransition()),o=e(this).position(),c.relativePos=o.left,c.offsetX=r(a).x-o.left,c.offsetY=r(a).y-o.top,i("on"),c.sliding=!1,c.targetElement=a.target||a.srcElement}}function a(i){var o,a,s=i.originalEvent||i||t.event;l.newPosX=r(s).x-c.offsetX,l.newPosY=r(s).y-c.offsetY,l.newRelativeX=l.newPosX-c.relativePos,"function"==typeof l.options.startDragging&&c.dragging!==!0&&0!==l.newRelativeX&&(c.dragging=!0,l.options.startDragging.apply(l,[l.$elem])),(l.newRelativeX>8||l.newRelativeX<-8)&&l.browser.isTouch===!0&&(void 0!==s.preventDefault?s.preventDefault():s.returnValue=!1,c.sliding=!0),(l.newPosY>10||l.newPosY<-10)&&c.sliding===!1&&e(n).off("touchmove.owl"),o=function(){return l.newRelativeX/5},a=function(){return l.maximumPixels+l.newRelativeX/5},l.newPosX=Math.max(Math.min(l.newPosX,o()),a()),l.browser.support3d===!0?l.transition3d(l.newPosX):l.css2move(l.newPosX)}function s(n){var r,o,a,s=n.originalEvent||n||t.event;s.target=s.target||s.srcElement,c.dragging=!1,l.browser.isTouch!==!0&&l.$owlWrapper.removeClass("grabbing"),l.newRelativeX<0?l.dragDirection=l.owl.dragDirection="left":l.dragDirection=l.owl.dragDirection="right",0!==l.newRelativeX&&(r=l.getNewPosition(),l.goTo(r,!1,"drag"),c.targetElement===s.target&&l.browser.isTouch!==!0&&(e(s.target).on("click.disable",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.disable")}),o=e._data(s.target,"events").click,a=o.pop(),o.splice(0,0,a))),i("off")}var l=this,c={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0,l.$elem.on(l.ev_types.start,".owl-wrapper",o)},getNewPosition:function(){var e=this,t=e.closestItem();return t>e.maximumItem?(e.currentItem=e.maximumItem,t=e.maximumItem):e.newPosX>=0&&(t=0,e.currentItem=0),t},closestItem:function(){var t=this,n=t.options.scrollPerPage===!0?t.pagesInArray:t.positionsInArray,r=t.newPosX,i=null;return e.each(n,function(o,a){r-t.itemWidth/20>n[o+1]&&r-t.itemWidth/20<a&&"left"===t.moveDirection()?(i=a,t.options.scrollPerPage===!0?t.currentItem=e.inArray(i,t.positionsInArray):t.currentItem=o):r+t.itemWidth/20<a&&r+t.itemWidth/20>(n[o+1]||n[o]-t.itemWidth)&&"right"===t.moveDirection()&&(t.options.scrollPerPage===!0?(i=n[o+1]||n[n.length-1],t.currentItem=e.inArray(i,t.positionsInArray)):(i=n[o+1],t.currentItem=o+1))}),t.currentItem},moveDirection:function(){var e,t=this;return t.newRelativeX<0?(e="right",t.playDirection="next"):(e="left",t.playDirection="prev"),e},customEvents:function(){var e=this;e.$elem.on("owl.next",function(){e.next()}),e.$elem.on("owl.prev",function(){e.prev()}),e.$elem.on("owl.play",function(t,n){e.options.autoPlay=n,e.play(),e.hoverStatus="play"}),e.$elem.on("owl.stop",function(){e.stop(),e.hoverStatus="stop"}),e.$elem.on("owl.goTo",function(t,n){e.goTo(n)}),e.$elem.on("owl.jumpTo",function(t,n){e.jumpTo(n)})},stopOnHover:function(){var e=this;e.options.stopOnHover===!0&&e.browser.isTouch!==!0&&e.options.autoPlay!==!1&&(e.$elem.on("mouseover",function(){e.stop()}),e.$elem.on("mouseout",function(){"stop"!==e.hoverStatus&&e.play()}))},lazyLoad:function(){var t,n,r,i,o,a=this;if(a.options.lazyLoad===!1)return!1;for(t=0;t<a.itemsAmount;t+=1)n=e(a.$owlItems[t]),"loaded"!==n.data("owl-loaded")&&(r=n.data("owl-item"),i=n.find(".lazyOwl"),"string"==typeof i.data("src")?(void 0===n.data("owl-loaded")&&(i.hide(),n.addClass("loading").data("owl-loaded","checked")),o=a.options.lazyFollow===!0?r>=a.currentItem:!0,o&&r<a.currentItem+a.options.items&&i.length&&i.each(function(){a.lazyPreload(n,e(this))})):n.data("owl-loaded","loaded"))},lazyPreload:function(e,n){function r(){e.data("owl-loaded","loaded").removeClass("loading"),n.removeAttr("data-src"),"fade"===a.options.lazyEffect?n.fadeIn(400):n.show(),"function"==typeof a.options.afterLazyLoad&&a.options.afterLazyLoad.apply(this,[a.$elem])}function i(){s+=1,a.completeImg(n.get(0))||o===!0?r():100>=s?t.setTimeout(i,100):r()}var o,a=this,s=0;"DIV"===n.prop("tagName")?(n.css("background-image","url("+n.data("src")+")"),o=!0):n[0].src=n.data("src"),i()},autoHeight:function(){function n(){var n=e(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",n+"px"),o.wrapperOuter.hasClass("autoHeight")||t.setTimeout(function(){o.wrapperOuter.addClass("autoHeight")},0)}function r(){i+=1,o.completeImg(a.get(0))?n():100>=i?t.setTimeout(r,100):o.wrapperOuter.css("height","")}var i,o=this,a=e(o.$owlItems[o.currentItem]).find("img");void 0!==a.get(0)?(i=0,r()):n()},completeImg:function(e){var t;return e.complete?(t=typeof e.naturalWidth,"undefined"!==t&&0===e.naturalWidth?!1:!0):!1},onVisibleItems:function(){var t,n=this;for(n.options.addClassActive===!0&&n.$owlItems.removeClass("active"),n.visibleItems=[],t=n.currentItem;t<n.currentItem+n.options.items;t+=1)n.visibleItems.push(t),n.options.addClassActive===!0&&e(n.$owlItems[t]).addClass("active");n.owl.visibleItems=n.visibleItems},transitionTypes:function(e){var t=this;t.outClass="owl-"+e+"-out",t.inClass="owl-"+e+"-in"},singleItemTransition:function(){function e(e){return{position:"relative",left:e+"px"}}var t=this,n=t.outClass,r=t.inClass,i=t.$owlItems.eq(t.currentItem),o=t.$owlItems.eq(t.prevItem),a=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],s=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2,l="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),o.css(e(a,10)).addClass(n).on(l,function(){t.endPrev=!0,o.off(l),t.clearTransStyle(o,n)}),i.addClass(r).on(l,function(){t.endCurrent=!0,i.off(l),t.clearTransStyle(i,r)})},clearTransStyle:function(e,t){var n=this;e.css({position:"",left:""}).removeClass(t),n.endPrev&&n.endCurrent&&(n.$owlWrapper.removeClass("owl-origin"),n.endPrev=!1,n.endCurrent=!1,n.isTransition=!1)},owlStatus:function(){var e=this;e.owl={userOptions:e.userOptions,baseElement:e.$elem,userItems:e.$userItems,owlItems:e.$owlItems,currentItem:e.currentItem,prevItem:e.prevItem,visibleItems:e.visibleItems,isTouch:e.browser.isTouch,browser:e.browser,dragDirection:e.dragDirection}},clearEvents:function(){var r=this;r.$elem.off(".owl owl mousedown.disableTextSelect"),e(n).off(".owl owl"),e(t).off("resize",r.resizer)},unWrap:function(){var e=this;0!==e.$elem.children().length&&(e.$owlWrapper.unwrap(),e.$userItems.unwrap().unwrap(),e.owlControls&&e.owlControls.remove()),e.clearEvents(),e.$elem.attr({style:e.$elem.data("owl-originalStyles")||"","class":e.$elem.data("owl-originalClasses")})},destroy:function(){var e=this;e.stop(),t.clearInterval(e.checkVisible),e.unWrap(),e.$elem.removeData()},reinit:function(t){var n=this,r=e.extend({},n.userOptions,t);n.unWrap(),n.init(r,n.$elem)},addItem:function(e,t){var n,r=this;return e?0===r.$elem.children().length?(r.$elem.append(e),r.setVars(),!1):(r.unWrap(),n=void 0===t||-1===t?-1:t,n>=r.$userItems.length||-1===n?r.$userItems.eq(-1).after(e):r.$userItems.eq(n).before(e),void r.setVars()):!1},removeItem:function(e){var t,n=this;return 0===n.$elem.children().length?!1:(t=void 0===e||-1===e?-1:e,n.unWrap(),n.$userItems.eq(t).remove(),void n.setVars())}};e.fn.owlCarousel=function(t){return this.each(function(){if(e(this).data("owl-init")===!0)return!1;e(this).data("owl-init",!0);var n=Object.create(r);n.init(t,this),e.data(this,"owlCarousel",n)})},e.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:t,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e(25),i=e(31),o=e(42),a=e(34),s=e(67),l=e(95),c=e(97),u=e(124),d=e(119),p=e(165);i.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:o,TransitionGroup:l,batchedUpdates:c.batchedUpdates,classSet:u,cloneWithProps:d,createFragment:s.create,update:p},t.exports=i},{119:119,124:124,165:165,25:25,31:31,34:34,42:42,67:67,95:95,97:97}],2:[function(e,t,n){"use strict";var r=e(131),i={componentDidMount:function(){this.props.autoFocus&&r(this.getDOMNode())}};t.exports=i},{131:131}],3:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case k.topCompositionStart:return R.compositionStart;case k.topCompositionEnd:return R.compositionEnd;case k.topCompositionUpdate:return R.compositionUpdate}}function a(e,t){return e===k.topKeyDown&&t.keyCode===w}function s(e,t){switch(e){case k.topKeyUp:return-1!==C.indexOf(t.keyCode);case k.topKeyDown:return t.keyCode!==w;case k.topKeyPress:case k.topMouseDown:case k.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var i,c;if(_?i=o(e):P?s(e,r)&&(i=R.compositionEnd):a(e,r)&&(i=R.compositionStart),!i)return null;T&&(P||i!==R.compositionStart?i===R.compositionEnd&&P&&(c=P.getData()):P=g.getPooled(t));var u=v.getPooled(i,n,r);if(c)u.data=c;else{var d=l(r);null!==d&&(u.data=d)}return f.accumulateTwoPhaseDispatches(u),u}function u(e,t){switch(e){case k.topCompositionEnd:return l(t);case k.topKeyPress:var n=t.which;return n!==S?null:(I=!0,N);case k.topTextInput:var r=t.data;return r===N&&I?null:r;default:return null}}function d(e,t){if(P){if(e===k.topCompositionEnd||s(e,t)){var n=P.getData();return g.release(P),P=null,n}return null}switch(e){case k.topPaste:return null;case k.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case k.topCompositionEnd:return T?null:t.data;default:return null}}function p(e,t,n,r){var i;if(i=x?u(e,r):d(e,r),!i)return null;var o=y.getPooled(R.beforeInput,n,r);return o.data=i,f.accumulateTwoPhaseDispatches(o),o}var h=e(16),f=e(21),m=e(22),g=e(23),v=e(103),y=e(107),b=e(154),C=[9,13,27,32],w=229,_=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var x=m.canUseDOM&&"TextEvent"in window&&!E&&!r(),T=m.canUseDOM&&(!_||E&&E>8&&11>=E),S=32,N=String.fromCharCode(S),k=h.topLevelTypes,R={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[k.topCompositionEnd,k.topKeyPress,k.topTextInput,k.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[k.topBlur,k.topCompositionEnd,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[k.topBlur,k.topCompositionStart,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[k.topBlur,k.topCompositionUpdate,k.topKeyDown,k.topKeyPress,k.topKeyUp,k.topMouseDown]}},I=!1,P=null,A={eventTypes:R,extractEvents:function(e,t,n,r){return[c(e,t,n,r),p(e,t,n,r)]}};t.exports=A},{103:103,107:107,154:154,16:16,21:21,22:22,23:23}],4:[function(e,t,n){var r=e(147),i={addClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return r(!/\s/.test(t)),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return r(!/\s/.test(t)),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=i},{147:147}],5:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[r(t,e)]=i[e]})});var a={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};t.exports=s},{}],6:[function(e,t,n){"use strict";var r=e(5),i=e(22),o=(e(118),e(125)),a=e(145),s=e(156),l=(e(166),s(function(e){return a(e)})),c="cssFloat";i.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(c="styleFloat");var u={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=l(n)+":",t+=o(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=o(i,t[i]);if("float"===i&&(i=c),a)n[i]=a;else{var s=r.shorthandPropertyExpansions[i];if(s)for(var l in s)n[l]="";else n[i]=""}}}};t.exports=u},{118:118,125:125,145:145,156:156,166:166,22:22,5:5}],7:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=e(30),o=e(29),a=e(147);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){a(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,r=e.length;r>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{147:147,29:29,30:30}],8:[function(e,t,n){"use strict";function r(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function i(e){var t=E.getPooled(k.change,I,e);C.accumulateTwoPhaseDispatches(t),_.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue()}function a(e,t){R=e,I=t,R.attachEvent("onchange",i)}function s(){R&&(R.detachEvent("onchange",i),R=null,I=null)}function l(e,t,n){return e===N.topChange?n:void 0}function c(e,t,n){e===N.topFocus?(s(),a(t,n)):e===N.topBlur&&s()}function u(e,t){R=e,I=t,P=e.value,A=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",L),R.attachEvent("onpropertychange",p)}function d(){R&&(delete R.value,R.detachEvent("onpropertychange",p),R=null,I=null,P=null,A=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==P&&(P=t,i(e))}}function h(e,t,n){return e===N.topInput?n:void 0}function f(e,t,n){e===N.topFocus?(d(),u(t,n)):e===N.topBlur&&d()}function m(e,t,n){return e!==N.topSelectionChange&&e!==N.topKeyUp&&e!==N.topKeyDown||!R||R.value===P?void 0:(P=R.value,I)}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===N.topClick?n:void 0}var y=e(16),b=e(18),C=e(21),w=e(22),_=e(97),E=e(105),x=e(148),T=e(150),S=e(154),N=y.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:S({onChange:null}),captured:S({onChangeCapture:null})},dependencies:[N.topBlur,N.topChange,N.topClick,N.topFocus,N.topInput,N.topKeyDown,N.topKeyUp,N.topSelectionChange]}},R=null,I=null,P=null,A=null,M=!1;w.canUseDOM&&(M=x("change")&&(!("documentMode"in document)||document.documentMode>8));var D=!1;w.canUseDOM&&(D=x("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return A.get.call(this)},set:function(e){P=""+e,A.set.call(this,e)}},O={eventTypes:k,extractEvents:function(e,t,n,i){var o,a;if(r(t)?M?o=l:a=c:T(t)?D?o=h:(o=m,a=f):g(t)&&(o=v),o){var s=o(e,t,n);if(s){var u=E.getPooled(k.change,s,i);return C.accumulateTwoPhaseDispatches(u),u}}a&&a(e,t,n)}};t.exports=O},{105:105,148:148,150:150,154:154,16:16,18:18,21:21,22:22,97:97}],9:[function(e,t,n){"use strict";var r=0,i={createReactRootIndex:function(){return r++}};t.exports=i},{}],10:[function(e,t,n){"use strict";function r(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var i=e(13),o=e(77),a=e(160),s=e(147),l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:a,processUpdates:function(e,t){for(var n,l=null,c=null,u=0;u<e.length;u++)if(n=e[u],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var d=n.fromIndex,p=n.parentNode.childNodes[d],h=n.parentID;s(p),l=l||{},l[h]=l[h]||[],l[h][d]=p,c=c||[],c.push(p)}var f=i.dangerouslyRenderMarkup(t);if(c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case o.INSERT_MARKUP:r(n.parentNode,f[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:r(n.parentNode,l[n.parentID][n.fromIndex],n.toIndex);break;case o.TEXT_CONTENT:a(n.parentNode,n.textContent);break;case o.REMOVE_NODE:}}};t.exports=l},{13:13,147:147,160:160,77:77}],11:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=e(147),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},a=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in t){i(!s.isStandardName.hasOwnProperty(c)),s.isStandardName[c]=!0;var u=c.toLowerCase();if(s.getPossibleStandardName[u]=c,n.hasOwnProperty(c)){var d=n[c];s.getPossibleStandardName[d]=c,s.getAttributeName[c]=d}else s.getAttributeName[c]=u;s.getPropertyName[c]=a.hasOwnProperty(c)?a[c]:c,l.hasOwnProperty(c)?s.getMutationMethod[c]=l[c]:s.getMutationMethod[c]=null;var p=t[c];s.mustUseAttribute[c]=r(p,o.MUST_USE_ATTRIBUTE),s.mustUseProperty[c]=r(p,o.MUST_USE_PROPERTY),s.hasSideEffects[c]=r(p,o.HAS_SIDE_EFFECTS),s.hasBooleanValue[c]=r(p,o.HAS_BOOLEAN_VALUE),s.hasNumericValue[c]=r(p,o.HAS_NUMERIC_VALUE),s.hasPositiveNumericValue[c]=r(p,o.HAS_POSITIVE_NUMERIC_VALUE),s.hasOverloadedBooleanValue[c]=r(p,o.HAS_OVERLOADED_BOOLEAN_VALUE),i(!s.mustUseAttribute[c]||!s.mustUseProperty[c]),i(s.mustUseProperty[c]||!s.hasSideEffects[c]),i(!!s.hasBooleanValue[c]+!!s.hasNumericValue[c]+!!s.hasOverloadedBooleanValue[c]<=1)}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:o};t.exports=s},{147:147}],12:[function(e,t,n){"use strict";function r(e,t){return null==t||i.hasBooleanValue[e]&&!t||i.hasNumericValue[e]&&isNaN(t)||i.hasPositiveNumericValue[e]&&1>t||i.hasOverloadedBooleanValue[e]&&t===!1}var i=e(11),o=e(158),a=(e(166),{createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+o(e)},createMarkupForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(e)&&i.isStandardName[e]){if(r(e,t))return"";var n=i.getAttributeName[e];return i.hasBooleanValue[e]||i.hasOverloadedBooleanValue[e]&&t===!0?n:n+"="+o(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},setValueForProperty:function(e,t,n){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var o=i.getMutationMethod[t];if(o)o(e,n);else if(r(t,n))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute[t])e.setAttribute(i.getAttributeName[t],""+n);else{var a=i.getPropertyName[t];i.hasSideEffects[t]&&""+e[a]==""+n||(e[a]=n)}}else i.isCustomAttribute(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){if(i.isStandardName.hasOwnProperty(t)&&i.isStandardName[t]){var n=i.getMutationMethod[t];if(n)n(e,void 0);else if(i.mustUseAttribute[t])e.removeAttribute(i.getAttributeName[t]);else{var r=i.getPropertyName[t],o=i.getDefaultValueForProperty(e.nodeName,r);i.hasSideEffects[t]&&""+e[r]===o||(e[r]=o)}}else i.isCustomAttribute(t)&&e.removeAttribute(t)}});t.exports=a},{11:11,158:158,166:166}],13:[function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var i=e(22),o=e(123),a=e(126),s=e(139),l=e(147),c=/^(<[^ \/>]+)/,u="data-danger-index",d={dangerouslyRenderMarkup:function(e){l(i.canUseDOM);for(var t,n={},d=0;d<e.length;d++)l(e[d]),t=r(e[d]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][d]=e[d];var p=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var f,m=n[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(c,"$1 "+u+'="'+f+'" ')}for(var v=o(m.join(""),a),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(u)&&(f=+b.getAttribute(u),b.removeAttribute(u),l(!p.hasOwnProperty(f)),p[f]=b,h+=1)}}return l(h===p.length),l(p.length===e.length),p},dangerouslyReplaceNodeWithMarkup:function(e,t){l(i.canUseDOM),l(t),l("html"!==e.tagName.toLowerCase());var n=o(t,a)[0];e.parentNode.replaceChild(n,e)}};t.exports=d},{123:123,126:126,139:139,147:147,22:22}],14:[function(e,t,n){"use strict";var r=e(154),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null}),r({AnalyticsEventPlugin:null}),r({MobileSafariClickEventPlugin:null})];t.exports=i},{154:154}],15:[function(e,t,n){"use strict";var r=e(16),i=e(21),o=e(109),a=e(75),s=e(154),l=r.topLevelTypes,c=a.getFirstReactDOM,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},d=[null,null],p={eventTypes:u,extractEvents:function(e,t,n,r){if(e===l.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(t.window===t)s=t;else{var p=t.ownerDocument;s=p?p.defaultView||p.parentWindow:window}var h,f;if(e===l.topMouseOut?(h=t,f=c(r.relatedTarget||r.toElement)||s):(h=s,f=t),h===f)return null;var m=h?a.getID(h):"",g=f?a.getID(f):"",v=o.getPooled(u.mouseLeave,m,r);v.type="mouseleave",v.target=h,v.relatedTarget=f;var y=o.getPooled(u.mouseEnter,g,r);return y.type="mouseenter",y.target=f,y.relatedTarget=h,i.accumulateEnterLeaveDispatches(v,y,m,g),d[0]=v,d[1]=y,d}};t.exports=p},{109:109,154:154,16:16,21:21,75:75}],16:[function(e,t,n){"use strict";var r=e(153),i=r({bubbled:null,captured:null}),o=r({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};t.exports=a},{153:153}],17:[function(e,t,n){var r=e(126),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},{126:126}],18:[function(e,t,n){"use strict";var r=e(19),i=e(20),o=e(115),a=e(132),s=e(147),l={},c=null,u=function(e){if(e){var t=i.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},d=null,p={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){d=e},getInstanceHandle:function(){return d},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){s(!n||"function"==typeof n);var r=l[t]||(l[t]={});r[e]=n},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=l[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in l)delete l[t][e]},extractEvents:function(e,t,n,i){for(var a,s=r.plugins,l=0,c=s.length;c>l;l++){var u=s[l];if(u){var d=u.extractEvents(e,t,n,i);d&&(a=o(a,d))}}return a},enqueueEvents:function(e){e&&(c=o(c,e))},processEventQueue:function(){var e=c;c=null,a(e,u),s(!c)},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=p},{115:115,132:132,147:147,19:19,20:20}],19:[function(e,t,n){"use strict";function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(a(n>-1),!c.plugins[n]){a(t.extractEvents),c.plugins[n]=t;var r=t.eventTypes;for(var o in r)a(i(r[o],t,o))}}}function i(e,t,n){a(!c.eventNameDispatchConfigs.hasOwnProperty(n)),c.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){a(!c.registrationNameModules[e]),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(147),s=null,l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){a(!s),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(a(!l[n]),l[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=c},{147:147}],20:[function(e,t,n){"use strict";function r(e){return e===g.topMouseUp||e===g.topTouchEnd||e===g.topTouchCancel}function i(e){return e===g.topMouseMove||e===g.topTouchMove}function o(e){return e===g.topMouseDown||e===g.topTouchStart}function a(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)t(e,n[i],r[i]);else n&&t(e,n,r)}function s(e,t,n){e.currentTarget=m.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function l(e,t){a(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function d(e){var t=e._dispatchListeners,n=e._dispatchIDs;f(!Array.isArray(t));var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function p(e){return!!e._dispatchListeners}var h=e(16),f=e(147),m={Mount:null,injectMount:function(e){m.Mount=e}},g=h.topLevelTypes,v={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:d,executeDispatch:s,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,injection:m,useTouchEvents:!1};t.exports=v},{147:147,16:16}],21:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function i(e,t,n){var i=t?m.bubbled:m.captured,o=r(e,n,i);o&&(n._dispatchListeners=h(n._dispatchListeners,o),n._dispatchIDs=h(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function a(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=g(e,r);i&&(n._dispatchListeners=h(n._dispatchListeners,i),n._dispatchIDs=h(n._dispatchIDs,e))}}function s(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function l(e){f(e,o)}function c(e,t,n,r){p.injection.getInstanceHandle().traverseEnterLeave(n,r,a,e,t)}function u(e){f(e,s)}var d=e(16),p=e(18),h=e(115),f=e(132),m=d.PropagationPhases,g=p.getListener,v={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:c};t.exports=v},{115:115,132:132,16:16,18:18}],22:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},{}],23:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e(30),o=e(29),a=e(142);o(r.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;r>e&&n[e]===i[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{142:142,29:29,30:30}],24:[function(e,t,n){"use strict";var r,i=e(11),o=e(22),a=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,l=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,u=i.injection.HAS_NUMERIC_VALUE,d=i.injection.HAS_POSITIVE_NUMERIC_VALUE,p=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var h=document.implementation;
r=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:a,checked:s|l,classID:a,className:r?a:s,cols:a|d,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,defer:l,dir:null,disabled:a|l,download:p,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:l,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,label:null,lang:null,list:a,loop:s|l,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,multiple:s|l,muted:s|l,name:null,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,role:a,rows:a|d,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:a|l,selected:s|l,shape:null,size:a|d,sizes:a,span:d,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:u,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|l,itemType:a,itemID:a,itemRef:a,property:null,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=f},{11:11,22:22}],25:[function(e,t,n){"use strict";var r=e(73),i=e(92),o={linkState:function(e){return new r(this.state[e],i.createStateKeySetter(this,e))}};t.exports=o},{73:73,92:92}],26:[function(e,t,n){"use strict";function r(e){c(null==e.props.checkedLink||null==e.props.valueLink)}function i(e){r(e),c(null==e.props.value&&null==e.props.onChange)}function o(e){r(e),c(null==e.props.checked&&null==e.props.onChange)}function a(e){this.props.valueLink.requestChange(e.target.value)}function s(e){this.props.checkedLink.requestChange(e.target.checked)}var l=e(84),c=e(147),u={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},d={Mixin:{propTypes:{value:function(e,t,n){return!e[t]||u[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(e){return e.props.valueLink?(i(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(o(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(i(e),a):e.props.checkedLink?(o(e),s):e.props.onChange}};t.exports=d},{147:147,84:84}],27:[function(e,t,n){"use strict";function r(e){e.remove()}var i=e(33),o=e(115),a=e(132),s=e(147),l={trapBubbledEvent:function(e,t){s(this.isMounted());var n=this.getDOMNode();s(n);var r=i.trapBubbledEvent(e,t,n);this._localEventListeners=o(this._localEventListeners,r)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,r)}};t.exports=l},{115:115,132:132,147:147,33:33}],28:[function(e,t,n){"use strict";var r=e(16),i=e(126),o=r.topLevelTypes,a={eventTypes:null,extractEvents:function(e,t,n,r){if(e===o.topTouchStart){var a=r.target;a&&!a.onclick&&(a.onclick=i)}}};t.exports=a},{126:126,16:16}],29:[function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}t.exports=r},{}],30:[function(e,t,n){"use strict";var r=e(147),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},l=function(e){var t=this;r(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,u=i,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:d,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fiveArgumentPooler:s};t.exports=p},{147:147}],31:[function(e,t,n){"use strict";var r=e(20),i=e(37),o=e(39),a=e(38),s=e(44),l=e(45),c=e(61),u=(e(62),e(46)),d=e(57),p=e(60),h=e(70),f=e(75),m=e(80),g=e(84),v=e(87),y=e(90),b=e(29),C=e(129),w=e(157);p.inject();var _=c.createElement,E=c.createFactory,x=c.cloneElement,T=m.measure("React","render",f.render),S={Children:{map:i.map,forEach:i.forEach,count:i.count,only:w},Component:o,DOM:u,PropTypes:g,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:a.createClass,createElement:_,cloneElement:x,createFactory:E,createMixin:function(e){return e},constructAndRenderComponent:f.constructAndRenderComponent,constructAndRenderComponentByID:f.constructAndRenderComponentByID,findDOMNode:C,render:T,renderToString:y.renderToString,renderToStaticMarkup:y.renderToStaticMarkup,unmountComponentAtNode:f.unmountComponentAtNode,isValidElement:c.isValidElement,withContext:s.withContext,__spread:b};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:l,InstanceHandles:h,Mount:f,Reconciler:v,TextComponent:d}),S.version="0.13.3",t.exports=S},{129:129,157:157,20:20,29:29,37:37,38:38,39:39,44:44,45:45,46:46,57:57,60:60,61:61,62:62,70:70,75:75,80:80,84:84,87:87,90:90}],32:[function(e,t,n){"use strict";var r=e(129),i={getDOMNode:function(){return r(this)}};t.exports=i},{129:129}],33:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,d[e[m]]={}),d[e[m]]}var i=e(16),o=e(18),a=e(19),s=e(65),l=e(114),c=e(29),u=e(148),d={},p=!1,h=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),s=a.registrationNameDependencies[e],l=i.topLevelTypes,c=0,d=s.length;d>c;c++){var p=s[c];o.hasOwnProperty(p)&&o[p]||(p===l.topWheel?u("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):u("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):p===l.topScroll?u("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(u("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):u("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],n),o[p]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!p){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});t.exports=g},{114:114,148:148,16:16,18:18,19:19,29:29,65:65}],34:[function(e,t,n){"use strict";var r=e(31),i=e(29),o=r.createFactory(e(95)),a=r.createFactory(e(35)),s=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:r.PropTypes.string.isRequired,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return a({name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return o(i({},this.props,{childFactory:this._wrapChild}))}});t.exports=s},{29:29,31:31,35:35,95:95}],35:[function(e,t,n){"use strict";var r=e(31),i=e(4),o=e(94),a=e(157),s=(e(166),17),l=r.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),r=this.props.name+"-"+e,a=r+"-active",s=function(e){e&&e.target!==n||(i.removeClass(n,r),i.removeClass(n,a),o.removeEndEventListener(n,s),t&&t())};o.addEndEventListener(n,s),i.addClass(n,r),this.queueClass(a)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,s))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(i.addClass.bind(i,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return a(this.props.children)}});t.exports=l},{157:157,166:166,31:31,4:4,94:94}],36:[function(e,t,n){"use strict";var r=e(87),i=e(130),o=e(146),a=e(162),s={instantiateChildren:function(e,t,n){var r=i(e);for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=o(s,null);r[a]=l}return r},updateChildren:function(e,t,n,s){var l=i(t);if(!l&&!e)return null;var c;for(c in l)if(l.hasOwnProperty(c)){var u=e&&e[c],d=u&&u._currentElement,p=l[c];if(a(d,p))r.receiveComponent(u,p,n,s),l[c]=u;else{u&&r.unmountComponent(u,c);var h=o(p,null);l[c]=h}}for(c in e)!e.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||r.unmountComponent(e[c]);return l},unmountChildren:function(e){for(var t in e){var n=e[t];r.unmountComponent(n)}}};t.exports=s},{130:130,146:146,162:162,87:87}],37:[function(e,t,n){"use strict";function r(e,t){this.forEachFunction=e,this.forEachContext=t}function i(e,t,n,r){var i=e;i.forEachFunction.call(i.forEachContext,t,r)}function o(e,t,n){if(null==e)return e;var o=r.getPooled(t,n);h(e,i,o),r.release(o)}function a(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function s(e,t,n,r){var i=e,o=i.mapResult,a=!o.hasOwnProperty(n);if(a){var s=i.mapFunction.call(i.mapContext,t,r);o[n]=s}}function l(e,t,n){if(null==e)return e;var r={},i=a.getPooled(r,t,n);return h(e,s,i),a.release(i),p.create(r)}function c(e,t,n,r){return null}function u(e,t){return h(e,c,null)}var d=e(30),p=e(67),h=e(164),f=(e(166),d.twoArgumentPooler),m=d.threeArgumentPooler;d.addPoolingTo(r,f),d.addPoolingTo(a,m);var g={forEach:o,map:l,count:u};t.exports=g},{164:164,166:166,30:30,67:67}],38:[function(e,t,n){"use strict";function r(e,t){var n=x.hasOwnProperty(t)?x[t]:null;S.hasOwnProperty(t)&&y(n===_.OVERRIDE_BASE),e.hasOwnProperty(t)&&y(n===_.DEFINE_MANY||n===_.DEFINE_MANY_MERGED)}function i(e,t){if(t){y("function"!=typeof t),y(!p.isValidElement(t));var n=e.prototype;t.hasOwnProperty(w)&&T.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==w){var o=t[i];if(r(n,i),T.hasOwnProperty(i))T[i](e,o);else{var a=x.hasOwnProperty(i),c=n.hasOwnProperty(i),u=o&&o.__reactDontBind,d="function"==typeof o,h=d&&!a&&!c&&!u;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=o,n[i]=o;else if(c){var f=x[i];y(a&&(f===_.DEFINE_MANY_MERGED||f===_.DEFINE_MANY)),f===_.DEFINE_MANY_MERGED?n[i]=s(n[i],o):f===_.DEFINE_MANY&&(n[i]=l(n[i],o))}else n[i]=o}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in T;y(!i);var o=n in e;y(!o),e[n]=r}}}function a(e,t){y(e&&t&&"object"==typeof e&&"object"==typeof t);for(var n in t)t.hasOwnProperty(n)&&(y(void 0===e[n]),e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function u(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=c(e,h.guard(n,e.constructor.displayName+"."+t))}}var d=e(39),p=(e(45),e(61)),h=e(64),f=e(71),m=e(72),g=(e(83),e(82),e(96)),v=e(29),y=e(147),b=e(153),C=e(154),w=(e(166),C({mixins:null})),_=b({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),E=[],x={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},T={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=v({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=v({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=v({},e.propTypes,t)},statics:function(e,t){o(e,t)}},S={replaceState:function(e,t){g.enqueueReplaceState(this,e),t&&g.enqueueCallback(this,t)},isMounted:function(){var e=f.get(this);return e&&e!==m.currentlyMountingInstance},setProps:function(e,t){g.enqueueSetProps(this,e),t&&g.enqueueCallback(this,t)},replaceProps:function(e,t){g.enqueueReplaceProps(this,e),t&&g.enqueueCallback(this,t)}},N=function(){};v(N.prototype,d.prototype,S);var k={createClass:function(e){var t=function(e,t){this.__reactAutoBindMap&&u(this),this.props=e,this.context=t,this.state=null;var n=this.getInitialState?this.getInitialState():null;y("object"==typeof n&&!Array.isArray(n)),this.state=n};t.prototype=new N,t.prototype.constructor=t,E.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),y(t.prototype.render);for(var n in x)t.prototype[n]||(t.prototype[n]=null);return t.type=t,t},injection:{injectMixin:function(e){E.push(e)}}};t.exports=k},{147:147,153:153,154:154,166:166,29:29,39:39,45:45,61:61,64:64,71:71,72:72,82:82,83:83,96:96}],39:[function(e,t,n){"use strict";function r(e,t){this.props=e,this.context=t}var i=e(96),o=e(147);e(166),r.prototype.setState=function(e,t){o("object"==typeof e||"function"==typeof e||null==e),i.enqueueSetState(this,e),t&&i.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){i.enqueueForceUpdate(this),e&&i.enqueueCallback(this,e)},t.exports=r},{147:147,166:166,96:96}],40:[function(e,t,n){"use strict";var r=e(50),i=e(75),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};t.exports=o},{50:50,75:75}],41:[function(e,t,n){"use strict";var r=e(147),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r(!i),o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=o},{147:147}],42:[function(e,t,n){"use strict";var r=e(161),i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};t.exports=i},{161:161}],43:[function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}var i=e(41),o=e(44),a=e(45),s=e(61),l=(e(62),e(71)),c=e(72),u=e(78),d=e(80),p=e(83),h=(e(82),e(87)),f=e(97),m=e(29),g=e(127),v=e(147),y=e(162),b=(e(166),1),C={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=b++,this._rootNodeID=e;var r=this._processProps(this._currentElement.props),i=this._processContext(this._currentElement._context),o=u.getComponentClassForElement(this._currentElement),a=new o(r,i);a.props=r,a.context=i,a.refs=g,this._instance=a,l.set(a,this);var s=a.state;void 0===s&&(a.state=s=null),v("object"==typeof s&&!Array.isArray(s)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var d,p,f=c.currentlyMountingInstance;c.currentlyMountingInstance=this;try{a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),d=this._getValidatedChildContext(n),p=this._renderValidatedComponent(d)}finally{c.currentlyMountingInstance=f}this._renderedComponent=this._instantiateReactComponent(p,this._currentElement.type);var m=h.mountComponent(this._renderedComponent,e,t,this._mergeChildContext(n,d));return a.componentDidMount&&t.getReactMountReady().enqueue(a.componentDidMount,a),m},unmountComponent:function(){var e=this._instance;if(e.componentWillUnmount){var t=c.currentlyUnmountingInstance;c.currentlyUnmountingInstance=this;try{e.componentWillUnmount()}finally{c.currentlyUnmountingInstance=t}}h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,l.remove(e)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=s.cloneAndReplaceProps(n,m({},n.props,e)),f.enqueueUpdate(this,t)},_maskContext:function(e){var t=null;if("string"==typeof this._currentElement.type)return g;var n=this._currentElement.type.contextTypes;if(!n)return g;t={};for(var r in n)t[r]=e[r];return t},_processContext:function(e){var t=this._maskContext(e);return t},_getValidatedChildContext:function(e){var t=this._instance,n=t.getChildContext&&t.getChildContext();if(n){v("object"==typeof t.constructor.childContextTypes);for(var r in n)v(r in t.constructor.childContextTypes);return n}return null},_mergeChildContext:function(e,t){return t?m({},e,t):e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{v("function"==typeof e[o]),a=e[o](t,o,i,n)}catch(s){a=s}a instanceof Error&&(r(this),n===p.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(e,t){e=this._maskContext(e),t=this._maskContext(t);for(var n=Object.keys(t).sort(),r=(this.getName()||"ReactCompositeComponent",0);r<n.length;r++)n[r]},updateComponent:function(e,t,n,r,i){var o=this._instance,a=o.context,s=o.props;t!==n&&(a=this._processContext(n._context),s=this._processProps(n.props),o.componentWillReceiveProps&&o.componentWillReceiveProps(s,a));var l=this._processPendingState(s,a),c=this._pendingForceUpdate||!o.shouldComponentUpdate||o.shouldComponentUpdate(s,l,a);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,s,l,a,e,i)):(this._currentElement=n,this._context=i,o.props=s,o.state=l,o.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=m({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];m(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a=this._instance,s=a.props,l=a.state,c=a.context;a.componentWillUpdate&&a.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,a.props=t,a.state=n,a.context=r,this._updateRenderedComponent(i,o),a.componentDidUpdate&&i.getReactMountReady().enqueue(a.componentDidUpdate.bind(a,s,l,c),a)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._getValidatedChildContext(),o=this._renderValidatedComponent(i);if(y(r,o))h.receiveComponent(n,o,e,this._mergeChildContext(t,i));else{var a=this._rootNodeID,s=n._rootNodeID;h.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o,this._currentElement.type);var l=h.mountComponent(this._renderedComponent,a,e,this._mergeChildContext(t,i));this._replaceNodeWithMarkupByID(s,l)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(e){var t,n=o.current;o.current=this._mergeChildContext(this._currentElement._context,e),a.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=n,a.current=null}return v(null===t||t===!1||s.isValidElement(t)),t},attachRef:function(e,t){var n=this.getPublicInstance(),r=n.refs===g?n.refs={}:n.refs;r[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};d.measureMethods(C,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var w={Mixin:C};t.exports=w},{127:127,147:147,162:162,166:166,29:29,41:41,44:44,45:45,61:61,62:62,71:71,72:72,78:78,80:80,82:82,83:83,87:87,97:97}],44:[function(e,t,n){"use strict";var r=e(29),i=e(127),o=(e(166),{current:i,withContext:function(e,t){var n,i=o.current;o.current=r({},i,e);try{n=t()}finally{o.current=i}return n}});t.exports=o},{127:127,166:166,29:29}],45:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],46:[function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=e(61),o=(e(62),e(155)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a},{155:155,61:61,62:62}],47:[function(e,t,n){"use strict";var r=e(2),i=e(32),o=e(38),a=e(61),s=e(153),l=a.createFactory("button"),c=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),u=o.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[r,i],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&c[t]||(e[t]=this.props[t]);return l(e,this.props.children)}});t.exports=u},{153:153,2:2,32:32,38:38,61:61}],48:[function(e,t,n){"use strict";function r(e){e&&(null!=e.dangerouslySetInnerHTML&&(v(null==e.children),v("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML)),v(null==e.style||"object"==typeof e.style))}function i(e,t,n,r){var i=p.findReactContainerForID(e);if(i){var o=i.nodeType===x?i.ownerDocument:i;C(t,o)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function o(e){R.call(k,e)||(v(N.test(e)),k[e]=!0)}function a(e){o(e),this._tag=e,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var s=e(6),l=e(11),c=e(12),u=e(33),d=e(40),p=e(75),h=e(76),f=e(80),m=e(29),g=e(128),v=e(147),y=(e(148),e(154)),b=(e(166),u.deleteListener),C=u.listenTo,w=u.registrationNameModules,_={string:!0,number:!0},E=y({style:null}),x=1,T=null,S={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},N=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,k={},R={}.hasOwnProperty;a.displayName="ReactDOMComponent",a.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e,r(this._currentElement.props);var i=S[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t,n)+i},_createOpenTagMarkupAndPutListeners:function(e){var t=this._currentElement.props,n="<"+this._tag;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(w.hasOwnProperty(r))i(this._rootNodeID,r,o,e);else{r===E&&(o&&(o=this._previousStyleCopy=m({},t.style)),o=s.createMarkupForStyles(o));var a=c.createMarkupForProperty(r,o);a&&(n+=" "+a)}}if(e.renderToStaticMarkup)return n+">";var l=c.createMarkupForID(this._rootNodeID);return n+" "+l+">"},_createContentMarkup:function(e,t){var n="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(n="\n");var r=this._currentElement.props,i=r.dangerouslySetInnerHTML;if(null!=i){if(null!=i.__html)return n+i.__html}else{var o=_[typeof r.children]?r.children:null,a=null!=o?null:r.children;if(null!=o)return n+g(o);if(null!=a){var s=this.mountChildren(a,e,t);return n+s.join("")}}return n},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,i){r(this._currentElement.props),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e,i)},_updateDOMProperties:function(e,t){var n,r,o,a=this._currentElement.props;for(n in e)if(!a.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===E){var s=this._previousStyleCopy;for(r in s)s.hasOwnProperty(r)&&(o=o||{},o[r]="");this._previousStyleCopy=null}else w.hasOwnProperty(n)?b(this._rootNodeID,n):(l.isStandardName[n]||l.isCustomAttribute(n))&&T.deletePropertyByID(this._rootNodeID,n);for(n in a){var c=a[n],u=n===E?this._previousStyleCopy:e[n];if(a.hasOwnProperty(n)&&c!==u)if(n===E)if(c?c=this._previousStyleCopy=m({},c):this._previousStyleCopy=null,u){for(r in u)!u.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o=o||{},o[r]="");for(r in c)c.hasOwnProperty(r)&&u[r]!==c[r]&&(o=o||{},o[r]=c[r])}else o=c;else w.hasOwnProperty(n)?i(this._rootNodeID,n,c,t):(l.isStandardName[n]||l.isCustomAttribute(n))&&T.updatePropertyByID(this._rootNodeID,n,c)}o&&T.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t,n){var r=this._currentElement.props,i=_[typeof e.children]?e.children:null,o=_[typeof r.children]?r.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=r.dangerouslySetInnerHTML&&r.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,c=null!=o?null:r.children,u=null!=i||null!=a,d=null!=o||null!=s;null!=l&&null==c?this.updateChildren(null,t,n):u&&!d&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&T.updateInnerHTMLByID(this._rootNodeID,s):null!=c&&this.updateChildren(c,t,n)},unmountComponent:function(){this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),d.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},f.measureMethods(a,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),m(a.prototype,a.Mixin,h.Mixin),a.injection={injectIDOperations:function(e){a.BackendIDOperations=T=e}},t.exports=a},{11:11,12:12,128:128,147:147,148:148,154:154,166:166,29:29,33:33,40:40,6:6,75:75,76:76,80:80}],49:[function(e,t,n){"use strict";var r=e(16),i=e(27),o=e(32),a=e(38),s=e(61),l=s.createFactory("form"),c=a.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[o,i],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(r.topLevelTypes.topSubmit,"submit")}});t.exports=c},{16:16,27:27,32:32,38:38,61:61}],50:[function(e,t,n){"use strict";var r=e(6),i=e(10),o=e(12),a=e(75),s=e(80),l=e(147),c=e(159),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},d={updatePropertyByID:function(e,t,n){var r=a.getNode(e);l(!u.hasOwnProperty(t)),null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},deletePropertyByID:function(e,t,n){var r=a.getNode(e);l(!u.hasOwnProperty(t)),o.deleteValueForProperty(r,t,n)},updateStylesByID:function(e,t){var n=a.getNode(e);r.setValueForStyles(n,t);
},updateInnerHTMLByID:function(e,t){var n=a.getNode(e);c(n,t)},updateTextContentByID:function(e,t){var n=a.getNode(e);i.updateTextContent(n,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=a.getNode(e);i.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);i.processUpdates(e,t)}};s.measureMethods(d,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=d},{10:10,12:12,147:147,159:159,6:6,75:75,80:80}],51:[function(e,t,n){"use strict";var r=e(16),i=e(27),o=e(32),a=e(38),s=e(61),l=s.createFactory("iframe"),c=a.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[o,i],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load")}});t.exports=c},{16:16,27:27,32:32,38:38,61:61}],52:[function(e,t,n){"use strict";var r=e(16),i=e(27),o=e(32),a=e(38),s=e(61),l=s.createFactory("img"),c=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,i],render:function(){return l(this.props)},componentDidMount:function(){this.trapBubbledEvent(r.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(r.topLevelTypes.topError,"error")}});t.exports=c},{16:16,27:27,32:32,38:38,61:61}],53:[function(e,t,n){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=e(2),o=e(12),a=e(26),s=e(32),l=e(38),c=e(61),u=e(75),d=e(97),p=e(29),h=e(147),f=c.createFactory("input"),m={},g=l.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[i,a.Mixin,s],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=p({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=a.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=a.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,f(e,this.props.children)},componentDidMount:function(){var e=u.getID(this.getDOMNode());m[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=u.getID(e);delete m[t]},componentDidUpdate:function(e,t,n){var r=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(r,"checked",this.props.checked||!1);var i=a.getValue(this);null!=i&&o.setValueForProperty(r,"value",""+i)},_handleChange:function(e){var t,n=a.getOnChange(this);n&&(t=n.call(this,e)),d.asap(r,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var o=this.getDOMNode(),s=o;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),c=0,p=l.length;p>c;c++){var f=l[c];if(f!==o&&f.form===o.form){var g=u.getID(f);h(g);var v=m[g];h(v),d.asap(r,v)}}}return t}});t.exports=g},{12:12,147:147,2:2,26:26,29:29,32:32,38:38,61:61,75:75,97:97}],54:[function(e,t,n){"use strict";var r=e(32),i=e(38),o=e(61),a=(e(166),o.createFactory("option")),s=i.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[r],componentWillMount:function(){},render:function(){return a(this.props,this.props.children)}});t.exports=s},{166:166,32:32,38:38,61:61}],55:[function(e,t,n){"use strict";function r(){if(this._pendingUpdate){this._pendingUpdate=!1;var e=s.getValue(this);null!=e&&this.isMounted()&&o(this,e)}}function i(e,t,n){if(null==e[t])return null;if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(e,t){var n,r,i,o=e.getDOMNode().options;if(e.props.multiple){for(n={},r=0,i=t.length;i>r;r++)n[""+t[r]]=!0;for(r=0,i=o.length;i>r;r++){var a=n.hasOwnProperty(o[r].value);o[r].selected!==a&&(o[r].selected=a)}}else{for(n=""+t,r=0,i=o.length;i>r;r++)if(o[r].value===n)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}var a=e(2),s=e(26),l=e(32),c=e(38),u=e(61),d=e(97),p=e(29),h=u.createFactory("select"),f=c.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[a,s.Mixin,l],propTypes:{defaultValue:i,value:i},render:function(){var e=p({},this.props);return e.onChange=this._handleChange,e.value=null,h(e,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var e=s.getValue(this);null!=e?o(this,e):null!=this.props.defaultValue&&o(this,this.props.defaultValue)},componentDidUpdate:function(e){var t=s.getValue(this);null!=t?(this._pendingUpdate=!1,o(this,t)):!e.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?o(this,this.props.defaultValue):o(this,this.props.multiple?[]:""))},_handleChange:function(e){var t,n=s.getOnChange(this);return n&&(t=n.call(this,e)),this._pendingUpdate=!0,d.asap(r,this),t}});t.exports=f},{2:2,26:26,29:29,32:32,38:38,61:61,97:97}],56:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0),l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(e),u.setEnd(s.startContainer,s.startOffset);var d=r(u.startContainer,u.startOffset,u.endContainer,u.endOffset),p=d?0:u.toString().length,h=p+c,f=document.createRange();f.setStart(n,i),f.setEnd(o,a);var m=f.collapsed;return{start:m?h:p,end:m?p:h}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[u()].length,i=Math.min(t.start,r),o="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=c(e,i),l=c(e,o);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var l=e(22),c=e(140),u=e(142),d=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:d?i:o,setOffsets:d?a:s};t.exports=p},{140:140,142:142,22:22}],57:[function(e,t,n){"use strict";var r=e(12),i=e(40),o=e(48),a=e(29),s=e(128),l=function(e){};a(l.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){this._rootNodeID=e;var i=s(this._stringText);return t.renderToStaticMarkup?i:"<span "+r.createMarkupForID(e)+">"+i+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;n!==this._stringText&&(this._stringText=n,o.BackendIDOperations.updateTextContentByID(this._rootNodeID,n))}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=l},{12:12,128:128,29:29,40:40,48:48}],58:[function(e,t,n){"use strict";function r(){this.isMounted()&&this.forceUpdate()}var i=e(2),o=e(12),a=e(26),s=e(32),l=e(38),c=e(61),u=e(97),d=e(29),p=e(147),h=(e(166),c.createFactory("textarea")),f=l.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[i,a.Mixin,s],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(p(null==e),Array.isArray(t)&&(p(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=a.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=d({},this.props);return p(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,h(e,this.state.initialValue)},componentDidUpdate:function(e,t,n){var r=a.getValue(this);if(null!=r){var i=this.getDOMNode();o.setValueForProperty(i,"value",""+r)}},_handleChange:function(e){var t,n=a.getOnChange(this);return n&&(t=n.call(this,e)),u.asap(r,this),t}});t.exports=f},{12:12,147:147,166:166,2:2,26:26,29:29,32:32,38:38,61:61,97:97}],59:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=e(97),o=e(113),a=e(29),s=e(126),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:i.flushBatchedUpdates.bind(i)},u=[c,l];a(r.prototype,o.Mixin,{getTransactionWrappers:function(){return u}});var d=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i){var o=p.isBatchingUpdates;p.isBatchingUpdates=!0,o?e(t,n,r,i):d.perform(e,null,t,n,r,i)}};t.exports=p},{113:113,126:126,29:29,97:97}],60:[function(e,t,n){"use strict";function r(e){return f.createClass({tagName:e.toUpperCase(),render:function(){return new k(e,null,null,null,null,this.props)}})}function i(){I.EventEmitter.injectReactEventListener(R),I.EventPluginHub.injectEventPluginOrder(l),I.EventPluginHub.injectInstanceHandle(P),I.EventPluginHub.injectMount(A),I.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:O,EnterLeaveEventPlugin:c,ChangeEventPlugin:a,MobileSafariClickEventPlugin:p,SelectEventPlugin:D,BeforeInputEventPlugin:o}),I.NativeComponent.injectGenericComponentClass(v),I.NativeComponent.injectTextComponentClass(N),I.NativeComponent.injectAutoWrapper(r),I.Class.injectMixin(h),I.NativeComponent.injectComponentClasses({button:y,form:b,iframe:_,img:C,input:E,option:x,select:T,textarea:S,html:F("html"),head:F("head"),body:F("body")}),I.DOMProperty.injectDOMPropertyConfig(d),I.DOMProperty.injectDOMPropertyConfig(B),I.EmptyComponent.injectEmptyComponent("noscript"),I.Updates.injectReconcileTransaction(M),I.Updates.injectBatchingStrategy(g),I.RootIndex.injectCreateReactRootIndex(u.canUseDOM?s.createReactRootIndex:L.createReactRootIndex),I.Component.injectEnvironment(m),I.DOMComponent.injectIDOperations(w)}var o=e(3),a=e(8),s=e(9),l=e(14),c=e(15),u=e(22),d=e(24),p=e(28),h=e(32),f=e(38),m=e(40),g=e(59),v=e(48),y=e(47),b=e(49),C=e(52),w=e(50),_=e(51),E=e(53),x=e(54),T=e(55),S=e(58),N=e(57),k=e(61),R=e(66),I=e(68),P=e(70),A=e(75),M=e(86),D=e(99),L=e(100),O=e(101),B=e(98),F=e(122);t.exports={inject:i}},{100:100,101:101,122:122,14:14,15:15,22:22,24:24,28:28,3:3,32:32,38:38,40:40,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,57:57,58:58,59:59,61:61,66:66,68:68,70:70,75:75,8:8,86:86,9:9,98:98,99:99}],61:[function(e,t,n){"use strict";var r=e(44),i=e(45),o=e(29),a=(e(166),{key:!0,ref:!0}),s=function(e,t,n,r,i,o){this.type=e,this.key=t,this.ref=n,this._owner=r,this._context=i,this.props=o};s.prototype={_isReactElement:!0},s.createElement=function(e,t,n){var o,l={},c=null,u=null;if(null!=t){u=void 0===t.ref?null:t.ref,c=void 0===t.key?null:""+t.key;for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(l[o]=t[o])}var d=arguments.length-2;if(1===d)l.children=n;else if(d>1){for(var p=Array(d),h=0;d>h;h++)p[h]=arguments[h+2];l.children=p}if(e&&e.defaultProps){var f=e.defaultProps;for(o in f)"undefined"==typeof l[o]&&(l[o]=f[o])}return new s(e,c,u,i.current,r.current,l)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceProps=function(e,t){var n=new s(e.type,e.key,e.ref,e._owner,e._context,t);return n},s.cloneElement=function(e,t,n){var r,l=o({},e.props),c=e.key,u=e.ref,d=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,d=i.current),void 0!==t.key&&(c=""+t.key);for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(l[r]=t[r])}var p=arguments.length-2;if(1===p)l.children=n;else if(p>1){for(var h=Array(p),f=0;p>f;f++)h[f]=arguments[f+2];l.children=h}return new s(e.type,c,u,d,e._context,l)},s.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},t.exports=s},{166:166,29:29,44:44,45:45}],62:[function(e,t,n){"use strict";function r(){if(y.current){var e=y.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e){var t=e&&e.getPublicInstance();if(!t)return void 0;var n=t.constructor;return n?n.displayName||n.name||void 0:void 0}function o(){var e=y.current;return e&&i(e)||void 0}function a(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,l('Each child in an array or iterator should have a unique "key" prop.',e,t))}function s(e,t,n){x.test(e)&&l("Child objects should have non-numeric keys so ordering is preserved.",t,n)}function l(e,t,n){var r=o(),a="string"==typeof n?n:n.displayName||n.name,s=r||a,l=_[e]||(_[e]={});if(!l.hasOwnProperty(s)){l[s]=!0;var c="";if(t&&t._owner&&t._owner!==y.current){var u=i(t._owner);c=" It was passed a child from "+u+"."}}}function c(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];m.isValidElement(r)&&a(r,t)}else if(m.isValidElement(e))e._store.validated=!0;else if(e){var i=C(e);if(i){if(i!==e.entries)for(var o,l=i.call(e);!(o=l.next()).done;)m.isValidElement(o.value)&&a(o.value,t)}else if("object"==typeof e){var c=g.extractIfFragment(e);for(var u in c)c.hasOwnProperty(u)&&s(u,c[u],t)}}}function u(e,t,n,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{w("function"==typeof t[o]),a=t[o](n,o,e,i)}catch(s){a=s}a instanceof Error&&!(a.message in E)&&(E[a.message]=!0,r(this))}}function d(e,t){var n=t.type,r="string"==typeof n?n:n.displayName,i=t._owner?t._owner.getPublicInstance().constructor.displayName:null,o=e+"|"+r+"|"+i;if(!T.hasOwnProperty(o)){T[o]=!0;var a="";r&&(a=" <"+r+" />");var s="";i&&(s=" The element was created by "+i+".")}}function p(e,t){return e!==e?t!==t:0===e&&0===t?1/e===1/t:e===t}function h(e){if(e._store){var t=e._store.originalProps,n=e.props;for(var r in n)n.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&p(t[r],n[r])||(d(r,e),t[r]=n[r]))}}function f(e){if(null!=e.type){var t=b.getComponentClassForElement(e),n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,v.prop),"function"==typeof t.getDefaultProps}}var m=e(61),g=e(67),v=e(83),y=(e(82),e(45)),b=e(78),C=e(138),w=e(147),_=(e(166),{}),E={},x=/^\d+$/,T={},S={checkAndWarnForMutatedProps:h,createElement:function(e,t,n){var r=m.createElement.apply(this,arguments);if(null==r)return r;for(var i=2;i<arguments.length;i++)c(arguments[i],e);return f(r),r},createFactory:function(e){var t=S.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=m.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)c(arguments[i],r.type);return f(r),r}};t.exports=S},{138:138,147:147,166:166,45:45,61:61,67:67,78:78,82:82,83:83}],63:[function(e,t,n){"use strict";function r(e){u[e]=!0}function i(e){delete u[e]}function o(e){return!!u[e]}var a,s=e(61),l=e(71),c=e(147),u={},d={injectEmptyComponent:function(e){a=s.createFactory(e)}},p=function(){};p.prototype.componentDidMount=function(){var e=l.get(this);e&&r(e._rootNodeID)},p.prototype.componentWillUnmount=function(){var e=l.get(this);e&&i(e._rootNodeID)},p.prototype.render=function(){return c(a),a()};var h=s.createElement(p),f={emptyElement:h,injection:d,isNullComponentID:o};t.exports=f},{147:147,61:61,71:71}],64:[function(e,t,n){"use strict";var r={guard:function(e,t){return e}};t.exports=r},{}],65:[function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue()}var i=e(18),o={handleTopLevel:function(e,t,n,o){var a=i.extractEvents(e,t,n,o);r(a)}};t.exports=o},{18:18}],66:[function(e,t,n){"use strict";function r(e){var t=d.getID(e),n=u.getReactRootIDFromNodeID(t),r=d.findReactContainerForID(n),i=d.getFirstReactDOM(r);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){for(var t=d.getFirstReactDOM(f(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var i=0,o=e.ancestors.length;o>i;i++){t=e.ancestors[i];var a=d.getID(t)||"";g._handleTopLevel(e.topLevelType,t,a,e.nativeEvent)}}function a(e){var t=m(window);e(t)}var s=e(17),l=e(22),c=e(30),u=e(70),d=e(75),p=e(97),h=e(29),f=e(137),m=e(143);h(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=i.getPooled(e,t);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};t.exports=g},{137:137,143:143,17:17,22:22,29:29,30:30,70:70,75:75,97:97}],67:[function(e,t,n){"use strict";var r=(e(61),e(166),{create:function(e){return e},extract:function(e){return e},extractIfFragment:function(e){return e}});t.exports=r},{166:166,61:61}],68:[function(e,t,n){"use strict";var r=e(11),i=e(18),o=e(41),a=e(38),s=e(63),l=e(33),c=e(78),u=e(48),d=e(80),p=e(89),h=e(97),f={Component:o.injection,Class:a.injection,DOMComponent:u.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:d.injection,RootIndex:p.injection,Updates:h.injection};t.exports=f},{11:11,18:18,33:33,38:38,41:41,48:48,63:63,78:78,80:80,89:89,97:97}],69:[function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=e(56),o=e(120),a=e(131),s=e(133),l={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};t.exports=l},{120:120,131:131,133:133,56:56}],70:[function(e,t,n){"use strict";function r(e){return h+e.toString(36)}function i(e,t){return e.charAt(t)===h||t===e.length}function o(e){return""===e||e.charAt(0)===h&&e.charAt(e.length-1)!==h}function a(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(h)):""}function l(e,t){if(p(o(e)&&o(t)),p(a(e,t)),e===t)return e;var n,r=e.length+f;for(n=r;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function c(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;n>=a;a++)if(i(e,a)&&i(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,r);return p(o(s)),s}function u(e,t,n,r,i,o){e=e||"",t=t||"",p(e!==t);var c=a(t,e);p(c||a(e,t));for(var u=0,d=c?s:l,h=e;;h=d(h,t)){var f;if(i&&h===e||o&&h===t||(f=n(h,c,r)),f===!1||h===t)break;p(u++<m)}}var d=e(89),p=e(147),h=".",f=h.length,m=100,g={createReactRootID:function(){return r(d.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===h&&e.length>1){var t=e.indexOf(h,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var o=c(e,t);o!==e&&u(e,o,n,r,!1,!0),o!==t&&u(o,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(u("",e,t,n,!0,!1),u(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){u("",e,t,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:h};t.exports=g},{147:147,89:89}],71:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],72:[function(e,t,n){"use strict";var r={currentlyMountingInstance:null,currentlyUnmountingInstance:null};t.exports=r},{}],73:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function i(e){var t={value:"undefined"==typeof e?o.PropTypes.any.isRequired:e.isRequired,requestChange:o.PropTypes.func.isRequired};return o.PropTypes.shape(t)}var o=e(31);r.PropTypes={link:i},t.exports=r},{31:31}],74:[function(e,t,n){"use strict";var r=e(116),i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(">"," "+i.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=i},{116:116}],75:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){var t=R(e);return t&&q.getID(t)}function o(e){var t=a(e);if(t)if(O.hasOwnProperty(t)){var n=O[t];n!==e&&(P(!u(n,t)),O[t]=e)}else O[t]=e;return t}function a(e){return e&&e.getAttribute&&e.getAttribute(L)||""}function s(e,t){var n=a(e);n!==t&&delete O[n],e.setAttribute(L,t),O[t]=e}function l(e){return O.hasOwnProperty(e)&&u(O[e],e)||(O[e]=q.findReactNodeByID(e)),O[e]}function c(e){var t=w.get(e)._rootNodeID;return b.isNullComponentID(t)?null:(O.hasOwnProperty(t)&&u(O[t],t)||(O[t]=q.findReactNodeByID(t)),O[t])}function u(e,t){if(e){P(a(e)===t);var n=q.findReactContainerForID(t);if(n&&k(n,e))return!0}return!1}function d(e){delete O[e]}function p(e){var t=O[e];return t&&u(t,e)?void(H=t):!1}function h(e){H=null,C.traverseAncestors(e,p);var t=H;return H=null,t}function f(e,t,n,r,i){var o=x.mountComponent(e,t,r,N);e._isTopLevel=!0,q._mountImageIntoNode(o,n,i)}function m(e,t,n,r){var i=S.ReactReconcileTransaction.getPooled();i.perform(f,null,e,t,n,i,r),S.ReactReconcileTransaction.release(i)}var g=e(11),v=e(33),y=(e(45),e(61)),b=(e(62),e(63)),C=e(70),w=e(71),_=e(74),E=e(80),x=e(87),T=e(96),S=e(97),N=e(127),k=e(120),R=e(141),I=e(146),P=e(147),A=e(159),M=e(162),D=(e(166),C.SEPARATOR),L=g.ID_ATTRIBUTE_NAME,O={},B=1,F=9,$={},U={},j=[],H=null,q={_instancesByReactRootID:$,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return q.scrollMonitor(n,function(){T.enqueueElementInternal(e,t),r&&T.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){P(t&&(t.nodeType===B||t.nodeType===F)),v.ensureScrollValueMonitoring();var n=q.registerContainer(t);return $[n]=e,n},_renderNewRootComponent:function(e,t,n){var r=I(e,null),i=q._registerComponent(r,t);return S.batchedUpdates(m,r,i,t,n),r},render:function(e,t,n){P(y.isValidElement(e));var r=$[i(t)];if(r){var o=r._currentElement;if(M(o,e))return q._updateRootComponent(r,e,t,n).getPublicInstance();q.unmountComponentAtNode(t)}var a=R(t),s=a&&q.isRenderedByReact(a),l=s&&!r,c=q._renderNewRootComponent(e,t,l).getPublicInstance();return n&&n.call(c),c},constructAndRenderComponent:function(e,t,n){var r=y.createElement(e,t);return q.render(r,n)},constructAndRenderComponentByID:function(e,t,n){var r=document.getElementById(n);return P(r),q.constructAndRenderComponent(e,t,r)},registerContainer:function(e){var t=i(e);return t&&(t=C.getReactRootIDFromNodeID(t)),t||(t=C.createReactRootID()),U[t]=e,t},unmountComponentAtNode:function(e){P(e&&(e.nodeType===B||e.nodeType===F));var t=i(e),n=$[t];return n?(q.unmountComponentFromNode(n,e),delete $[t],delete U[t],!0):!1},unmountComponentFromNode:function(e,t){for(x.unmountComponent(e),t.nodeType===F&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=C.getReactRootIDFromNodeID(e),n=U[t];return n},findReactNodeByID:function(e){var t=q.findReactContainerForID(e);return q.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=q.getID(e);return t?t.charAt(0)===D:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(q.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=j,r=0,i=h(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,a=n[r++];a;){var s=q.getID(a);s?t===s?o=a:C.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,P(!1)},_mountImageIntoNode:function(e,t,n){if(P(t&&(t.nodeType===B||t.nodeType===F)),n){var i=R(t);if(_.canReuseMarkup(e,i))return;var o=i.getAttribute(_.CHECKSUM_ATTR_NAME);i.removeAttribute(_.CHECKSUM_ATTR_NAME);var a=i.outerHTML;i.setAttribute(_.CHECKSUM_ATTR_NAME,o);var s=r(e,a);" (client) "+e.substring(s-20,s+20)+"\n (server) "+a.substring(s-20,s+20),P(t.nodeType!==F)}P(t.nodeType!==F),A(t,e)},getReactRootID:i,getID:o,setID:s,getNode:l,getNodeFromInstance:c,purgeID:d};E.measureMethods(q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=q},{11:11,120:120,127:127,141:141,146:146,147:147,159:159,162:162,166:166,33:33,45:45,61:61,62:62,63:63,70:70,71:71,74:74,80:80,87:87,96:96,97:97}],76:[function(e,t,n){"use strict";function r(e,t,n){f.push({parentID:e,parentNode:null,type:u.INSERT_MARKUP,markupIndex:m.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function i(e,t,n){f.push({parentID:e,parentNode:null,type:u.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function o(e,t){f.push({parentID:e,parentNode:null,type:u.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function a(e,t){f.push({parentID:e,parentNode:null,type:u.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function s(){f.length&&(c.processChildrenUpdates(f,m),l())}function l(){f.length=0,m.length=0}var c=e(41),u=e(77),d=e(87),p=e(36),h=0,f=[],m=[],g={Mixin:{mountChildren:function(e,t,n){var r=p.instantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=this._rootNodeID+a,c=d.mountComponent(s,l,t,n);s._mountIndex=o,i.push(c),o++}return i},updateTextContent:function(e){h++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{h--,h||(t?l():s())}},updateChildren:function(e,t,n){h++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{h--,h||(r?l():s())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=p.updateChildren(r,e,t,n);if(this._renderedChildren=i,i||r){var o,a=0,s=0;for(o in i)if(i.hasOwnProperty(o)){var l=r&&r[o],c=i[o];l===c?(this.moveChild(l,s,a),a=Math.max(l._mountIndex,a),l._mountIndex=s):(l&&(a=Math.max(l._mountIndex,a),this._unmountChildByName(l,o)),this._mountChildByNameAtIndex(c,o,s,t,n)),s++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChildByName(r[o],o)}},unmountChildren:function(){var e=this._renderedChildren;p.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){var o=this._rootNodeID+t,a=d.mountComponent(e,o,r,i);e._mountIndex=n,this.createChild(e,a)},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null}}};t.exports=g},{36:36,41:41,77:77,87:87}],77:[function(e,t,n){"use strict";var r=e(153),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=i},{153:153}],78:[function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=d[t];return null==n&&(d[t]=n=c(t)),n}function i(e){return l(u),new u(e.type,e.props)}function o(e){return new p(e)}function a(e){return e instanceof p}var s=e(29),l=e(147),c=null,u=null,d={},p=null,h={injectGenericComponentClass:function(e){u=e},injectTextComponentClass:function(e){p=e},injectComponentClasses:function(e){s(d,e)},injectAutoWrapper:function(e){c=e}},f={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:h};t.exports=f},{147:147,29:29}],79:[function(e,t,n){"use strict";var r=e(147),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(i.isValidOwner(n)),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(i.isValidOwner(n)),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=i},{147:147}],80:[function(e,t,n){"use strict";function r(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};t.exports=i},{}],81:[function(e,t,n){"use strict";function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=c[n];r&&c.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var o=e(29),a=e(126),s=e(152),l=r(function(e,t){return o({},t,e)}),c={children:a,className:r(s),style:l},u={mergeProps:function(e,t){return i(o({},e),t)}};t.exports=u},{126:126,152:152,29:29}],82:[function(e,t,n){"use strict";var r={};t.exports=r},{}],83:[function(e,t,n){"use strict";var r=e(153),i=r({prop:null,context:null,childContext:null});t.exports=i},{153:153}],84:[function(e,t,n){"use strict";function r(e){function t(t,n,r,i,o){if(i=i||w,null==n[r]){var a=b[o];return t?new Error("Required "+a+" `"+r+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,i){var o=t[n],a=m(o);if(a!==e){var s=b[i],l=g(o);return new Error("Invalid "+s+" `"+n+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}return null}return r(t)}function o(){return r(C.thatReturns(null))}function a(e){function t(t,n,r,i){var o=t[n];if(!Array.isArray(o)){var a=b[i],s=m(o);return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<o.length;l++){var c=e(o,l,r,i);if(c instanceof Error)return c}return null}return r(t)}function s(){function e(e,t,n,r){if(!v.isValidElement(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}return null}return r(e)}function l(e){function t(t,n,r,i){if(!(t[n]instanceof e)){var o=b[i],a=e.name||w;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+a+"`."))}return null}return r(t)}function c(e){function t(t,n,r,i){for(var o=t[n],a=0;a<e.length;a++)if(o===e[a])return null;var s=b[i],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+n+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return r(t)}function u(e){function t(t,n,r,i){var o=t[n],a=m(o);if("object"!==a){var s=b[i];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an object."))}for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,r,i);if(c instanceof Error)return c}return null}return r(t)}function d(e){function t(t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];if(null==a(t,n,r,i))return null}var s=b[i];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+r+"`."))}return r(t)}function p(){function e(e,t,n,r){if(!f(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function h(e){function t(t,n,r,i){var o=t[n],a=m(o);if("object"!==a){var s=b[i];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(o,l,r,i);if(u)return u}}return null}return r(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||v.isValidElement(e))return!0;e=y.extractIfFragment(e);
for(var t in e)if(!f(e[t]))return!1;return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var v=e(61),y=e(67),b=e(82),C=e(126),w="<<anonymous>>",_=s(),E=p(),x={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:a,element:_,instanceOf:l,node:E,objectOf:u,oneOf:c,oneOfType:d,shape:h};t.exports=x},{126:126,61:61,67:67,82:82}],85:[function(e,t,n){"use strict";function r(){this.listenersToPut=[]}var i=e(30),o=e(33),a=e(29);a(r.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];o.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},{29:29,30:30,33:33}],86:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.putListenerQueue=l.getPooled()}var i=e(7),o=e(30),a=e(33),s=e(69),l=e(85),c=e(113),u=e(29),d={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,d,p,h],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};u(r.prototype,c.Mixin,g),o.addPoolingTo(r),t.exports=r},{113:113,29:29,30:30,33:33,69:69,7:7,85:85}],87:[function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=e(88),o=(e(62),{mountComponent:function(e,t,n,i){var o=e.mountComponent(t,n,i);return n.getReactMountReady().enqueue(r,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||null==t._owner){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});t.exports=o},{62:62,88:88}],88:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=e(79),a={};a.attachRefs=function(e,t){var n=t.ref;null!=n&&r(n,e,t._owner)},a.shouldUpdateRefs=function(e,t){return t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){var n=t.ref;null!=n&&i(n,e,t._owner)},t.exports=a},{79:79}],89:[function(e,t,n){"use strict";var r={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:r};t.exports=i},{}],90:[function(e,t,n){"use strict";function r(e){d(o.isValidElement(e));var t;try{var n=a.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var r=u(e,null),i=r.mountComponent(n,t,c);return s.addChecksumToMarkup(i)},null)}finally{l.release(t)}}function i(e){d(o.isValidElement(e));var t;try{var n=a.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var r=u(e,null);return r.mountComponent(n,t,c)},null)}finally{l.release(t)}}var o=e(61),a=e(70),s=e(74),l=e(91),c=e(127),u=e(146),d=e(147);t.exports={renderToString:r,renderToStaticMarkup:i}},{127:127,146:146,147:147,61:61,70:70,74:74,91:91}],91:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.putListenerQueue=a.getPooled()}var i=e(30),o=e(7),a=e(85),s=e(113),l=e(29),c=e(126),u={initialize:function(){this.reactMountReady.reset()},close:c},d={initialize:function(){this.putListenerQueue.reset()},close:c},p=[d,u],h={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};l(r.prototype,s.Mixin,h),i.addPoolingTo(r),t.exports=r},{113:113,126:126,29:29,30:30,7:7,85:85}],92:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var i={createStateSetter:function(e,t){return function(n,r,i,o,a,s){var l=t.call(e,n,r,i,o,a,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};i.Mixin={createStateSetter:function(e){return i.createStateSetter(this,e)},createStateKeySetter:function(e){return i.createStateKeySetter(this,e)}},t.exports=i},{}],93:[function(e,t,n){"use strict";var r=e(37),i=e(67),o={getChildMapping:function(e){return e?i.extract(r.map(e,function(e){return e})):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};t.exports=o},{37:37,67:67}],94:[function(e,t,n){"use strict";function r(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var r=s[n];for(var i in r)if(i in t){l.push(r[i]);break}}}function i(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var a=e(22),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];a.canUseDOM&&r();var c={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){i(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){o(e,n,t)})}};t.exports=c},{22:22}],95:[function(e,t,n){"use strict";var r=e(31),i=e(93),o=e(29),a=e(119),s=e(126),l=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:s.thatReturnsArgument}},getInitialState:function(){return{children:i.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=i.getChildMapping(e.children),n=this.state.children;this.setState({children:i.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=i.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var r=o({},this.state.children);delete r[e],this.setState({children:r})}},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(a(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});t.exports=l},{119:119,126:126,29:29,31:31,93:93}],96:[function(e,t,n){"use strict";function r(e){e!==o.currentlyMountingInstance&&c.enqueueUpdate(e)}function i(e,t){d(null==a.current);var n=l.get(e);return n?n===o.currentlyUnmountingInstance?null:n:null}var o=e(72),a=e(45),s=e(61),l=e(71),c=e(97),u=e(29),d=e(147),p=(e(166),{enqueueCallback:function(e,t){d("function"==typeof t);var n=i(e);return n&&n!==o.currentlyMountingInstance?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){d("function"==typeof t),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");if(n){d(n._isTopLevel);var o=n._pendingElement||n._currentElement,a=u({},o.props,t);n._pendingElement=s.cloneAndReplaceProps(o,a),r(n)}},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");if(n){d(n._isTopLevel);var o=n._pendingElement||n._currentElement;n._pendingElement=s.cloneAndReplaceProps(o,t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});t.exports=p},{147:147,166:166,29:29,45:45,61:61,71:71,72:72,97:97}],97:[function(e,t,n){"use strict";function r(){g(S.ReactReconcileTransaction&&C)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=S.ReactReconcileTransaction.getPooled()}function o(e,t,n,i,o){r(),C.batchedUpdates(e,t,n,i,o)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;g(t===v.length),v.sort(a);for(var n=0;t>n;n++){var r=v[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,h.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],r.getPublicInstance())}}function l(e){return r(),C.isBatchingUpdates?void v.push(e):void C.batchedUpdates(l,e)}function c(e,t){g(C.isBatchingUpdates),y.enqueue(e,t),b=!0}var u=e(7),d=e(30),p=(e(45),e(80)),h=e(87),f=e(113),m=e(29),g=e(147),v=(e(166),[]),y=u.getPooled(),b=!1,C=null,w={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),x()):v.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[w,_];m(i.prototype,f.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,S.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(i);var x=function(){for(;v.length||b;){if(v.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=y;y=u.getPooled(),t.notifyAll(),u.release(t)}}};x=p.measure("ReactUpdates","flushBatchedUpdates",x);var T={injectReconcileTransaction:function(e){g(e),S.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){g(e),g("function"==typeof e.batchedUpdates),g("boolean"==typeof e.isBatchingUpdates),C=e}},S={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:x,injection:T,asap:c};t.exports=S},{113:113,147:147,166:166,29:29,30:30,45:45,7:7,80:80,87:87}],98:[function(e,t,n){"use strict";var r=e(11),i=r.injection.MUST_USE_ATTRIBUTE,o={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,y1:i,y2:i,y:i},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=o},{11:11}],99:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e){if(y||null==m||m!==c())return null;var t=r(m);if(!v||!p(v,t)){v=t;var n=l.getPooled(f.select,g,e);return n.type="select",n.target=m,a.accumulateTwoPhaseDispatches(n),n}}var o=e(16),a=e(21),s=e(69),l=e(105),c=e(133),u=e(150),d=e(154),p=e(161),h=o.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},m=null,g=null,v=null,y=!1,b={eventTypes:f,extractEvents:function(e,t,n,r){switch(e){case h.topFocus:(u(t)||"true"===t.contentEditable)&&(m=t,g=n,v=null);break;case h.topBlur:m=null,g=null,v=null;break;case h.topMouseDown:y=!0;break;case h.topContextMenu:case h.topMouseUp:return y=!1,i(r);case h.topSelectionChange:case h.topKeyDown:case h.topKeyUp:return i(r)}}};t.exports=b},{105:105,133:133,150:150,154:154,16:16,161:161,21:21,69:69}],100:[function(e,t,n){"use strict";var r=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};t.exports=i},{}],101:[function(e,t,n){"use strict";var r=e(16),i=e(20),o=e(21),a=e(102),s=e(105),l=e(106),c=e(108),u=e(109),d=e(104),p=e(110),h=e(111),f=e(112),m=e(134),g=e(147),v=e(154),y=(e(166),r.topLevelTypes),b={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},C={topBlur:b.blur,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topError:b.error,topFocus:b.focus,topInput:b.input,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topReset:b.reset,topScroll:b.scroll,topSubmit:b.submit,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topWheel:b.wheel};for(var w in C)C[w].dependencies=[w];var _={eventTypes:b,executeDispatch:function(e,t,n){var r=i.executeDispatch(e,t,n);r===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,r){var i=C[e];if(!i)return null;var v;switch(e){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:v=s;break;case y.topKeyPress:if(0===m(r))return null;case y.topKeyDown:case y.topKeyUp:v=c;break;case y.topBlur:case y.topFocus:v=l;break;case y.topClick:if(2===r.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:v=u;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:v=d;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:v=p;break;case y.topScroll:v=h;break;case y.topWheel:v=f;break;case y.topCopy:case y.topCut:case y.topPaste:v=a}g(v);var b=v.getPooled(i,n,r);return o.accumulateTwoPhaseDispatches(b),b}};t.exports=_},{102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,134:134,147:147,154:154,16:16,166:166,20:20,21:21}],102:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(105),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.exports=r},{105:105}],103:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(105),o={data:null};i.augmentClass(r,o),t.exports=r},{105:105}],104:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(109),o={dataTransfer:null};i.augmentClass(r,o),t.exports=r},{109:109}],105:[function(e,t,n){"use strict";function r(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o?this[i]=o(n):this[i]=n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var i=e(30),o=e(29),a=e(126),s=e(137),l={type:null,target:s,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);o(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.threeArgumentPooler)},i.addPoolingTo(r,i.threeArgumentPooler),t.exports=r},{126:126,137:137,29:29,30:30}],106:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(111),o={relatedTarget:null};i.augmentClass(r,o),t.exports=r},{111:111}],107:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(105),o={data:null};i.augmentClass(r,o),t.exports=r},{105:105}],108:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(111),o=e(134),a=e(135),s=e(136),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,l),t.exports=r},{111:111,134:134,135:135,136:136}],109:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(111),o=e(114),a=e(136),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),t.exports=r},{111:111,114:114,136:136}],110:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(111),o=e(136),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),t.exports=r},{111:111,136:136}],111:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(105),o=e(137),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),t.exports=r},{105:105,137:137}],112:[function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=e(109),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.exports=r},{109:109}],113:[function(e,t,n){"use strict";var r=e(147),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,l){r(!this.isInTransaction());var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,n,i,o,a,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){r(this.isInTransaction());for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};t.exports=o},{147:147}],114:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],115:[function(e,t,n){"use strict";function r(e,t){if(i(null!=t),null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=e(147);t.exports=r},{147:147}],116:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%i,n=(n+t)%i;return t|n<<16}var i=65521;t.exports=r},{}],117:[function(e,t,n){function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=e(117),o=/^-ms-/;t.exports=r},{117:117}],119:[function(e,t,n){"use strict";function r(e,t){var n=o.mergeProps(t,e.props);return!n.hasOwnProperty(s)&&e.props.hasOwnProperty(s)&&(n.children=e.props.children),i.createElement(e.type,n)}var i=e(61),o=e(81),a=e(154),s=(e(166),a({children:null}));t.exports=r},{154:154,166:166,61:61,81:81}],120:[function(e,t,n){function r(e,t){return e&&t?e===t?!0:i(e)?!1:i(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var i=e(151);t.exports=r},{151:151}],121:[function(e,t,n){function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=e(163);t.exports=i},{163:163}],122:[function(e,t,n){"use strict";function r(e){var t=o.createFactory(e),n=i.createClass({tagName:e.toUpperCase(),displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){a(!1)},render:function(){return t(this.props)}});return n}var i=e(38),o=e(61),a=e(147);t.exports=r},{147:147,38:38,61:61}],123:[function(e,t,n){function r(e){var t=e.match(u);return t&&t[1].toLowerCase()}function i(e,t){var n=c;l(!!c);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var u=o[0];u--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(l(t),a(d).forEach(t));for(var p=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=e(22),a=e(121),s=e(139),l=e(147),c=o.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;t.exports=i},{121:121,139:139,147:147,22:22}],124:[function(e,t,n){"use strict";function r(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e(166),t.exports=r},{166:166}],125:[function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e(5),o=i.isUnitlessNumber;t.exports=r},{5:5}],126:[function(e,t,n){function r(e){return function(){return e}}function i(){}i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],127:[function(e,t,n){"use strict";var r={};t.exports=r},{}],128:[function(e,t,n){"use strict";function r(e){return o[e]}function i(e){return(""+e).replace(a,r)}var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;t.exports=i},{}],129:[function(e,t,n){"use strict";function r(e){return null==e?null:s(e)?e:i.has(e)?o.getNodeFromInstance(e):(a(null==e.render||"function"!=typeof e.render),void a(!1))}var i=(e(45),e(71)),o=e(75),a=e(147),s=e(149);e(166),t.exports=r},{147:147,149:149,166:166,45:45,71:71,75:75}],130:[function(e,t,n){"use strict";function r(e,t,n){var r=e,i=!r.hasOwnProperty(n);i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return o(e,r,t),t}var o=e(164);e(166),t.exports=i},{164:164,166:166}],131:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],132:[function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],133:[function(e,t,n){function r(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],134:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],135:[function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=e(134),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{134:134}],136:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return r?!!n[r]:!1}function i(e){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],
137:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=r},{}],138:[function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=r},{}],139:[function(e,t,n){function r(e){return o(!!a),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var i=e(22),o=e(147),a=i.canUseDOM?document.createElement("div"):null,s={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u,circle:d,clipPath:d,defs:d,ellipse:d,g:d,line:d,linearGradient:d,path:d,polygon:d,polyline:d,radialGradient:d,rect:d,stop:d,text:d};t.exports=r},{147:147,22:22}],140:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=r(e),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,t>=o&&a>=t)return{node:n,offset:t-o};o=a}n=r(i(n))}}t.exports=o},{}],141:[function(e,t,n){"use strict";function r(e){return e?e.nodeType===i?e.documentElement:e.firstChild:null}var i=9;t.exports=r},{}],142:[function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=e(22),o=null;t.exports=r},{22:22}],143:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],144:[function(e,t,n){function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=r},{}],145:[function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=e(144),o=/^ms-/;t.exports=r},{144:144}],146:[function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if((null===e||e===!1)&&(e=a.emptyElement),"object"==typeof e){var i=e;n=t===i.type&&"string"==typeof i.type?s.createInternalComponent(i):r(i.type)?new i.type(i):new u}else"string"==typeof e||"number"==typeof e?n=s.createInstanceForText(e):c(!1);return n.construct(e),n._mountIndex=0,n._mountImage=null,n}var o=e(43),a=e(63),s=e(78),l=e(29),c=e(147),u=(e(166),function(){});l(u.prototype,o.Mixin,{_instantiateReactComponent:i}),t.exports=i},{147:147,166:166,29:29,43:43,63:63,78:78}],147:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=r},{}],148:[function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=e(22);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{22:22}],149:[function(e,t,n){function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],150:[function(e,t,n){"use strict";function r(e){return e&&("INPUT"===e.nodeName&&i[e.type]||"TEXTAREA"===e.nodeName)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],151:[function(e,t,n){function r(e){return i(e)&&3==e.nodeType}var i=e(149);t.exports=r},{149:149}],152:[function(e,t,n){"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}t.exports=r},{}],153:[function(e,t,n){"use strict";var r=e(147),i=function(e){var t,n={};r(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=i},{147:147}],154:[function(e,t,n){var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],155:[function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var o in e)i.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],156:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],157:[function(e,t,n){"use strict";function r(e){return o(i.isValidElement(e)),e}var i=e(61),o=e(147);t.exports=r},{147:147,61:61}],158:[function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=e(128);t.exports=r},{128:128}],159:[function(e,t,n){"use strict";var r=e(22),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML="\ufeff"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}t.exports=a},{22:22}],160:[function(e,t,n){"use strict";var r=e(22),i=e(128),o=e(159),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),t.exports=a},{128:128,159:159,22:22}],161:[function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=r},{}],162:[function(e,t,n){"use strict";function r(e,t){if(null!=e&&null!=t){var n=typeof e,r=typeof t;if("string"===n||"number"===n)return"string"===r||"number"===r;if("object"===r&&e.type===t.type&&e.key===t.key){var i=e._owner===t._owner;return i}}return!1}e(166),t.exports=r},{166:166}],163:[function(e,t,n){function r(e){var t=e.length;if(i(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),i("number"==typeof t),i(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}var i=e(147);t.exports=r},{147:147}],164:[function(e,t,n){"use strict";function r(e){return g[e]}function i(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(v,r)}function a(e){return"$"+o(e)}function s(e,t,n,r,o){var l=typeof e;if(("undefined"===l||"boolean"===l)&&(e=null),null===e||"string"===l||"number"===l||c.isValidElement(e))return r(o,e,""===t?f+i(e,0):t,n),1;var d,g,v,y=0;if(Array.isArray(e))for(var b=0;b<e.length;b++)d=e[b],g=(""!==t?t+m:f)+i(d,b),v=n+y,y+=s(d,g,v,r,o);else{var C=p(e);if(C){var w,_=C.call(e);if(C!==e.entries)for(var E=0;!(w=_.next()).done;)d=w.value,g=(""!==t?t+m:f)+i(d,E++),v=n+y,y+=s(d,g,v,r,o);else for(;!(w=_.next()).done;){var x=w.value;x&&(d=x[1],g=(""!==t?t+m:f)+a(x[0])+m+i(d,0),v=n+y,y+=s(d,g,v,r,o))}}else if("object"===l){h(1!==e.nodeType);var T=u.extract(e);for(var S in T)T.hasOwnProperty(S)&&(d=T[S],g=(""!==t?t+m:f)+a(S)+m+i(d,0),v=n+y,y+=s(d,g,v,r,o))}}return y}function l(e,t,n){return null==e?0:s(e,"",0,t,n)}var c=e(61),u=e(67),d=e(70),p=e(138),h=e(147),f=(e(166),d.SEPARATOR),m=":",g={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;t.exports=l},{138:138,147:147,166:166,61:61,67:67,70:70}],165:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function i(e,t,n){l(Array.isArray(e));var r=t[n];l(Array.isArray(r))}function o(e,t){if(l("object"==typeof t),c.call(t,h))return l(1===Object.keys(t).length),t[h];var n=r(e);if(c.call(t,f)){var s=t[f];l(s&&"object"==typeof s),l(n&&"object"==typeof n),a(n,t[f])}c.call(t,u)&&(i(e,t,u),t[u].forEach(function(e){n.push(e)})),c.call(t,d)&&(i(e,t,d),t[d].forEach(function(e){n.unshift(e)})),c.call(t,p)&&(l(Array.isArray(e)),l(Array.isArray(t[p])),t[p].forEach(function(e){l(Array.isArray(e)),n.splice.apply(n,e)})),c.call(t,m)&&(l("function"==typeof t[m]),n=t[m](n));for(var g in t)v.hasOwnProperty(g)&&v[g]||(n[g]=o(e[g],t[g]));return n}var a=e(29),s=e(154),l=e(147),c={}.hasOwnProperty,u=s({$push:null}),d=s({$unshift:null}),p=s({$splice:null}),h=s({$set:null}),f=s({$merge:null}),m=s({$apply:null}),g=[u,d,p,h,f,m],v={};g.forEach(function(e){v[e]=!0}),t.exports=o},{147:147,154:154,29:29}],166:[function(e,t,n){"use strict";var r=e(126),i=r;t.exports=i},{126:126}]},{},[1])(1)}),function(e,t){function n(){var n,r;n=i?function(t,n){i(e).on(t,n)}:function(t,n){e.addEventListener(t,n)},Turbolinks.EVENTS?r=Turbolinks.EVENTS.BEFORE_UNLOAD:(r="page:receive",Turbolinks.pagesCached(0),t.ReactRailsUJS.RAILS_ENV_DEVELOPMENT&&console.warn("The Turbolinks cache has been disabled (Turbolinks >= 2.4.0 is recommended). See https://github.com/reactjs/react-rails/issues/87 for more information.")),n("page:change",function(){t.ReactRailsUJS.mountComponents()}),n(r,function(){t.ReactRailsUJS.unmountComponents()})}function r(){i?i(function(){t.ReactRailsUJS.mountComponents()}):e.addEventListener("DOMContentLoaded",function(){t.ReactRailsUJS.mountComponents()})}var i="undefined"!=typeof t.jQuery&&t.jQuery;t.ReactRailsUJS={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",RAILS_ENV_DEVELOPMENT:!1,findDOMNodes:function(n){var r,o;switch(typeof n){case"undefined":r="["+t.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=e;break;case"object":r="["+t.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=n;break;case"string":r=n+" ["+t.ReactRailsUJS.CLASS_NAME_ATTR+"]",o=e}return i?i(r,o):o.querySelectorAll(r)},mountComponents:function(e){for(var n=t.ReactRailsUJS.findDOMNodes(e),r=0;r<n.length;++r){var i=n[r],o=i.getAttribute(t.ReactRailsUJS.CLASS_NAME_ATTR),a=t[o]||eval.call(t,o),s=i.getAttribute(t.ReactRailsUJS.PROPS_ATTR),l=s&&JSON.parse(s),c="object"==typeof ReactDOM?ReactDOM:React;c.render(React.createElement(a,l),i)}},unmountComponents:function(e){for(var n=t.ReactRailsUJS.findDOMNodes(e),r=0;r<n.length;++r){var i=n[r],o="object"==typeof ReactDOM?ReactDOM:React;o.unmountComponentAtNode(i)}}},"undefined"!=typeof Turbolinks&&Turbolinks.supported?n():r()}(document,window),function(){var e,t,n,r,i,o,a;o=function(){var e,t,n,r,i;return i=Leanpub.getWishlist(),e=Leanpub.getBooks(),n=Leanpub.isLoggedIn(),n&&e.indexOf(book_id)>-1?$("#wishlist_button_own").css("display","inline-block"):n&&i.indexOf(book_id)>-1?(r=Leanpub.getUsername(),t="<a href='/u/"+r+"/wishlist' class='wishlist-button generic'>On Your Wish List</a>",$("#wishlist_button_in").css("display","inline-block"),$("#wishlist_button_in").append(t)):n&&$("#wishlist_button_add").css("display","inline-block"),0===$(".wishlist-button:visible").length?$("#wishlist").hide():void 0},n=function(){return setTimeout(function(){return $("#mailchimp-subscribe-form input").prop("disabled",!0)},0)},r=function(){return $("#prospective_reader_survey .row").html("<div class='large-12 columns'><p class='explanation'>You have been successfully subscribed to the mailing list.</p></div>")},t=function(){},i=function(){var e;return e=searchToHash().gift_for,null!=e?$.cookie("giftFor",e,{path:"/"+book_slug}):void 0},e=function(){return $.getJSON("/"+book_slug+"/num_readers",function(e){return $(".book-details-list .detail .num-readers").html("<span>"+e.num_readers+"</span>"),$(".book-details-list .detail .total-num-readers").html("<span>"+e.past_edition_num_readers+"</span>")})},a=function(){return $.ajax({url:"/"+book_slug+"/sample_downloads",type:"post"})},$(function(){return $("#wishlist").length>0&&o(),i(),$("#mailchimp-subscribe-form").submit(n).bind("ajax:success",r).bind("ajax:error",t),"undefined"!=typeof book_show_community&&null!==book_show_community&&e(),$("#sample-download-link").click(a)})}.call(this),function(){!function(){var e;return e=function(){function e(){this.parseCurrentParams(window.location.path),this.checkMatureContent(),this.setActiveLinks(),this.setupLinks(),this.showBooks()}return e.prototype.checkMatureContent=function(){return"erotica"===this.category&&"yes"!==$.cookie("show_mature_content")?(this.hidingMatureContent=!0,window.location.href="/age_verification?redirect_url="+window.location.href):void 0},e.prototype.showBooks=function(){return this.hidingMatureContent||$("#bookstore-view").fadeIn(),$("#bookstore-loading").fadeOut()},e.prototype.setActiveLinks=function(){return $(".bookstore-nav-link").each(function(e){return function(t,n){var r,i,o,a,s;return r=$(n),s=r.data("nav-type"),a=r.data("nav-path"),i=e.isActiveTarget(a,s),"display"===s&&((o=r.data("bookstore-type"))&&e.bookstoreType===o||(i=!1)),i?r.closest("li").addClass("active"):void 0}}(this))},e.prototype.setupLinks=function(){return $(".bookstore-nav-link").on("click",function(e){return BookstoreNavigator.navigate($(this).data("nav-path"),$(this).data("nav-type"),$(this).data("bookstore-type"))})},e.prototype.isActiveTarget=function(e,t){return this[t]===e},e.prototype.parseCurrentParams=function(e){var t,n,r;return n=window.location.pathname,n=-1!==(t=n.indexOf("?"))?n.substr(0,n.indexOf("?")):n,r=n.split("/").slice(2),"bundles"===r[0]?(this.bookstoreType=r[0],this.display=r[1],this.page=r[2]):(this.display=r[0],this.category=r[1],this.language=r[2],this.page=r[3]),this.bookstoreType||(this.bookstoreType="books"),this.display||(this.display="earnings_in_last_7_days"),this.category||(this.category="all"),this.language||(this.language="all"),this.page?void 0:this.page=1},e.prototype.navigate=function(e,t,n){var r;switch(t){case"display":this.display=e;break;case"category":this.category=e;break;case"language":this.language=e}return n&&(this.bookstoreType=n),r="bundles"===this.bookstoreType?"/bookstore/bundles/"+this.display+"/"+this.page:"/bookstore/"+this.display+"/"+this.category+"/"+this.language+"/"+this.page,window.location.href=r},e}(),window.BookstoreNavigator||(window.BookstoreNavigator=new e)}()}.call(this),function(){Leanpub.CartModal=function(){return{onClose:function(){return React.unmountComponentAtNode(document.getElementById("react-modal"))},initializeCartModalButtons:function(){return $(".open-cart-modal").on("click",function(){var e,t,n;return e=parseInt($(this).attr("data-cartable-id")),t=$(this).attr("data-cartable-type"),n=$(this).attr("data-coupon-id"),React.render(React.createElement(CartItemModal,{cartableId:e,cartableType:t,couponId:n,onClose:Leanpub.CartModal.onClose}),document.getElementById("react-modal"))})}}}()}.call(this),function(){var e,t,n,r;(e=document.getElementById("freshness-timestamp"))&&(t=new Date(e.getAttribute("datetime")),n=function(){var e,t,n,r,i;return i=this.seconds,n=this.minutes,t=this.hours,e=this.days,r=this.months,0===n?"Just now!":1===n?"A minute ago":45>n?n+" minutes ago":90>n?"~1 hour ago":1440>n?t+" hours ago":2880>n?"Yesterday":43200>n?e+" days ago":86400>n?"Last month":525960>n?r+" months ago":void 0},r=function(){var r,i,o;return o=Math.max(0,Math.floor((new Date-t)/1e3)),r={seconds:o,minutes:Math.floor(o/60),hours:Math.floor(o/3600),days:Math.floor(o/86400),months:Math.floor(o/2628e3)},i=n.call(r),e.innerHTML=i},setInterval(r,6e3),r())}.call(this),function(){var e,t;t=function(){return $("html, body").css("overflow","hidden"),$("#homepage-essay").fadeIn(250)},e=function(){return $("html, body").css("overflow","auto"),$("#homepage-essay").fadeOut(250)},$(function(){var n,r,i,o,a;return n=$("#featured"),r=n.find("#featured_book"),i=r.find(".cms-content"),a=$("#top_books"),o=function(){var e,t,o,s,l;if(r.height("auto"),i.css("overflow","visible").height("auto"),$(this).width()>=768){if(l=a.height(),e=n.height(),t=e-l,0===t)return;return o=0>t?r.height("auto"):i.css("overflow","auto"),s=o.height()-t,o.height(s)}},r&&a&&(o(),$(window).on("resize",o)),document.getElementById("homepage-essay")?(t(),$(".show-home-page").click(e)):void 0})}.call(this),function(){$(function(){return $("#mailchimp-subscribe").bind("ajax:success",function(e,t,n){return $("#mailchimp-subscribe-button").attr("disabled","disabled").val("You're Subscribed!"),Leanpub.setFlashNotice("alert-info","We have successfully subscribed "+t.email+" to our readers mailing list.")}),$("#mailchimp-unsubscribe").bind("ajax:success",function(e,t,n){return $("#mailchimp-unsubscribe-button").attr("disabled","disabled").val("You are no longer subscribed"),Leanpub.setFlashNotice("alert-info","We have successfully unsubscribed "+t.email+" from our readers mailing list.")}),$("#mailchimp-subscribe-authors").bind("ajax:success",function(e,t,n){return $("#mailchimp-subscribe-authors-button").attr("disabled","disabled").val("You're Subscribed!"),Leanpub.setFlashNotice("alert-info","We have successfully subscribed "+t.email+" to our authors mailing list.")}),$("#mailchimp-unsubscribe-authors").bind("ajax:success",function(e,t,n){return $("#mailchimp-unsubscribe-authors-button").attr("disabled","disabled").val("You are no longer subscribed"),Leanpub.setFlashNotice("alert-info","We have successfully unsubscribed "+t.email+" from our authors mailing list.")})})}.call(this),function(){window.getOffset=function(e){var t,n;if(t=n=0,e.offsetParent)for(t=e.offsetLeft,n=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop;return{left:t,top:n}}}.call(this),function(){var e,t,n,r,i,o;(t=document.getElementById("js-quick-buy"))&&(o=document.getElementById("js-quick-buy-trigger"))&&(n=/visible/.test(t.className),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"},r=i[Modernizr.prefixed("transition")],t.addEventListener(r,function(e){var n;if(e.target===t)return/visible/.test(e.target.className)?void 0:null!=(n=e.target.style)?n.display="none":void 0}),e=function(){var e,r,i;return e=o.clientHeight+getOffset(o).top,i=e<window.scrollY,n!==i?(i&&null!=(r=t.style)&&(r.display="block"),setTimeout(function(){return t.className=i?t.className+" visible":t.className.replace(/(?:^|\s)visible(?!\S)/,"")},0),n=i):void 0},e(),window.addEventListener("scroll",e),Modernizr.touch&&window.addEventListener("touchmove",e))}.call(this),function(){function e(e){if(r)return r[e];var t=document.cookie.split("; ");r={};for(var n,i=t.length-1;i>=0;i--)n=t[i].split("="),r[n[0]]=decodeURIComponent(n[1]);return r[e]}function t(e,t,n){var i=new Date;i.setDate(i.getDate()+n);var o=escape(t)+(null==n?"":"; expires="+i.toUTCString());document.cookie=e+"="+o,r=null}function n(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",r=null}var r;window.readCookie=e,window.writeCookie=t,window.deleteCookie=n}(),function(){var e,t,n,r,i,o=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};try{i=null!=(n=JSON.parse(readCookie("user-info")))?n.username:void 0}catch(a){return void(e=a)}("undefined"!=typeof authorUsernames&&null!==authorUsernames&&o.call(authorUsernames,i)>=0||"undefined"!=typeof editorUsernames&&null!==editorUsernames&&o.call(editorUsernames,i)>=0)&&(t=document.getElementById("edit-book"),null!=t&&null!=(r=t.style)&&(r.display="block"))}.call(this),function(){$(function(){return $("#custom-receipt-form").bind("ajax:success",function(e,t,n){var r;return r=$("#modal-1"),r.prop("checked",!r.prop("checked")),Leanpub.setFlashNotice("alert-info","We have sent your receipt. It should arrive in the next 10 minutes or so.",!0)}),$("#custom-receipt-form").bind("ajax:error",function(e,t,n){return Leanpub.setFlashNotice("alert-error","There was an error while sending your receipt.",!0)}),$(".share_email_with_author").bind("ajax:success",function(e,t,n){var r;return r=$(e.currentTarget).find(".share_email_with_author-button"),r.removeAttr("data-disable-with"),r.attr("disabled","disabled").val("Email Shared!"),Leanpub.setFlashNotice("alert-info","We have successfully shared your email.",!0)}),$(".share_email_with_author").bind("ajax:error",function(e,t,n){var r;return r=$(e.currentTarget).find(".share_email_with_author-button"),r.removeAttr("disabled").val("Share Email"),Leanpub.setFlashNotice("alert-error","There was an error sharing your email.",!0)}),$(".custom-receipt").on("click",function(e){var t;return t=$("#modal-1"),t.prop("checked",!t.prop("checked"))})}),Leanpub.WelcomeModal=function(){return{onClose:function(){return React.unmountComponentAtNode(document.getElementById("react-modal"))},open:function(e){return React.render(React.createElement(WelcomeModal,{user:e,onClose:Leanpub.WelcomeModal.onClose}),document.getElementById("react-modal"))}}}()}.call(this),function(){var e,t;t=function(e,t,n){return $("#user-has-api-key").hide(),$("#user-no-api-key").show().removeClass("hidden")},e=function(e,t,n){return $("#user-has-api-key").show().removeClass("hidden"),$("#user-no-api-key").hide(),$("#your-api-key").text(t.key)},$(function(){return $("#revoke-api-link").bind("ajax:success",t),$("#enable-api-link, #change-api-key-link").bind("ajax:success",e),$(document.body).on("ajax:success","form#share_email_with_author",function(e,t,n,r){return $(this).children(".btn").attr("disabled","disabled").val("Thank You!")}),$("#mailchimp-subscribe").bind("ajax:success",function(e,t,n){return $("#mailchimp-subscribe-button").attr("disabled","disabled").val("You're Subscribed!"),Leanpub.setFlashNotice("alert-info","We have successfully subscribed "+t.email+" to our readers mailing list.")}),$("#mailchimp-unsubscribe").bind("ajax:success",function(e,t,n){return $("#mailchimp-unsubscribe-button").attr("disabled","disabled").val("You are no longer subscribed"),Leanpub.setFlashNotice("alert-info","We have successfully unsubscribed "+t.email+" from our readers mailing list.")}),$("#mailchimp-subscribe-authors").bind("ajax:success",function(e,t,n){return $("#mailchimp-subscribe-authors-button").attr("disabled","disabled").val("You're Subscribed!"),Leanpub.setFlashNotice("alert-info","We have successfully subscribed "+t.email+" to our authors mailing list.")}),$("#mailchimp-unsubscribe-authors").bind("ajax:success",function(e,t,n){return $("#mailchimp-unsubscribe-authors-button").attr("disabled","disabled").val("You are no longer subscribed"),Leanpub.setFlashNotice("alert-info","We have successfully unsubscribed "+t.email+" from our authors mailing list.")})})}.call(this),function(){var e;e=function(e,t,n){return $(e.currentTarget).replaceWith("<span class='send-to-kindle-link'>Sent to Kindle</span>"),Leanpub.setFlashNotice("alert-info","We have sent "+t.title+" to your Kindle via "+t.kindle_email+". Once it is sent by Amazon (which can take up to 5 minutes), it will arrive on your Kindle the next time you connect to wi-fi.")},$(function(){return $(".send-to-kindle-link").bind("ajax:success",e)})}.call(this),function(){var e;e=function(){function e(){this.spinner("stop"),this.initDetails(),this.initSelection(),this.initToggle(),this.initResize(),this.updateTargetHeight()}var t,n;return t={close:".close",spinner:".spinner",target:"#details-target",panel:"#details-panel",twttrBtn:"#tweetBtn > a"},n={main:"#main",list:"#book-list",items:".book-list-item",toggleGroup:".view-button-group",toggle:".view-button-group input"},e.selectedElement=null,e.listHeight=null,e.listOffset=null,e.targetHeight=null,e.prototype.initDetails=function(){return $(t.close).on("click",function(e){return function(e){return $(t.panel).hide()}}(this))},e.prototype.initSelection=function(){return $(n.list).on("click",function(e){return function(t){var r;return r=$(t.target).closest(n.items),r.length&&!r.hasClass("no-event")?e.handleSelection(r):void 0}}(this))},e.prototype.initToggle=function(){return $(n.toggleGroup).on("click",function(e){return function(t){var r;return r=$(t.target).closest(n.toggle).val(),null!=r?e.handleViewToggle(r):void 0}}(this))},e.prototype.initResize=function(){return this.listOffset=$(n.main).offset(),null!=this.listOffset?(this.setHeight(),$(window).resize(function(e){return function(){return e.setHeight()}}(this))):void 0},e.prototype.setHeight=function(){return this.listHeight=$(window).innerHeight()-this.listOffset.top-25,this.panelHeight=$(t.panel).outerHeight(),$(n.list).css("height",this.listHeight)},e.prototype.updateTargetHeight=function(){return this.targetHeight=$(t.panel).height()},e.prototype.spinner=function(e){switch(e){case"start":return $(t.spinner).show().spin("large");case"stop":return $(t.spinner).fadeOut(250).spin(!1)}},e.prototype.handleSelection=function(e){return $(t.panel).show(),$(this.selectedElement).is(e)?void 0:(this.selectedElement=e,$(n.items).removeClass("selected"),$(e).addClass("selected"),$(t.panel).css("min-height",this.targetHeight),this.spinner("start"),$(t.target).children().hide(),$(t).show(),this.requestBookData())},e.prototype.handleViewToggle=function(e){return $(n.list).removeClass().addClass(e)},e.prototype.requestBookData=function(){return $.ajax({url:"/user_dashboard/library_details",type:"GET",dataType:"script",data:{book_slug:$(this.selectedElement).data("slug"),hidden:$(this.selectedElement).data("hidden")},success:function(e){return function(t){return e.handleSuccess(t)}}(this),error:function(e){return function(t){return e.handleError(t)}}(this)})},e.prototype.handleError=function(e){return console.warn("Unable to fetch book details",e)},e.prototype.handleSuccess=function(e){return window.SocialSharing&&ReactRailsUJS.mountComponents(),this.spinner("stop"),this.updateTargetHeight(),this.initializeEmailSharing(!!this.emailShared),this.initializeNotifications(!!this.allowNotifications),this.initializeReceipt(),this.emailShared=null,this.allowNotifications=null},e.prototype.initializeEmailSharing=function(e){return e?this.showUnshareEmail():this.showShareEmail(),$("#share_email_with_author").bind("ajax:success",function(e){return function(t,n,r){return e.showUnshareEmail(),Leanpub.setFlashNotice("alert-info","Your email has been shared with the author.",!0)}}(this)),$("#share_email_with_author").bind("ajax:error",function(e){return function(e,t,n){return Leanpub.setFlashNotice("alert-error","Your email could not be shared with the author.",!0)}}(this)),$("#unshare_email_with_author").bind("ajax:success",function(e){return function(t,n,r){return e.showShareEmail(),Leanpub.setFlashNotice("alert-info","Your email has been unshared with the author.",!0)}}(this)),$("#unshare_email_with_author").bind("ajax:error",function(e){return function(e,t,n){return Leanpub.setFlashNotice("alert-error","Your email could not be unshared with the author.",!0)}}(this))},e.prototype.showShareEmail=function(){var e,t,n;return null!=(e=$("#share_email_with_author"))&&null!=(t=e.show())&&t.removeClass("hidden"),null!=(n=$("#unshare_email_with_author"))?n.hide():void 0},e.prototype.showUnshareEmail=function(){var e,t,n;return null!=(e=$("#unshare_email_with_author"))&&null!=(t=e.show())&&t.removeClass("hidden"),null!=(n=$("#share_email_with_author"))?n.hide():void 0},e.prototype.initializeNotifications=function(e){return e?this.showDisallowed():this.showAllowed(),$("#allow_release_notifications").bind("ajax:success",function(e){return function(t,n,r){return e.showDisallowed(),Leanpub.setFlashNotice("alert-info","You have allowed new release emails.",!0)}}(this)),$("#allow_release_notifications").bind("ajax:error",function(e){return function(e,t,n){return Leanpub.setFlashNotice("alert-error","We could not allow new release emails.",!0)}}(this)),$("#disallow_release_notifications").bind("ajax:success",function(e){return function(t,n,r){return e.showAllowed(),Leanpub.setFlashNotice("alert-info","You have disallowed new release emails.",!0)}}(this)),$("#disallow_release_notifications").bind("ajax:error",function(e){return function(e,t,n){return Leanpub.setFlashNotice("alert-error","We could not disallow new release emails.",!0)}}(this))},e.prototype.initializeFollow=function(e){var t;return e===!0?$(".unfollow").show():e===!1&&$(".follow").show(),t=function(){return $(".unfollow").is(":hidden")?($(".unfollow").show(),$(".follow").hide()):($(".unfollow").hide(),$(".follow").show())},$(".follow-links a").bind("ajax:success",t)},e.prototype.showAllowed=function(){var e,t,n;return null!=(e=$("#allow_release_notifications"))&&null!=(t=e.show())&&t.removeClass("hidden"),null!=(n=$("#disallow_release_notifications"))?n.hide():void 0},e.prototype.showDisallowed=function(){var e,t,n;return null!=(e=$("#disallow_release_notifications"))&&null!=(t=e.show())&&t.removeClass("hidden"),null!=(n=$("#allow_release_notifications"))?n.hide():void 0},e.prototype.initializeReceipt=function(){return $("#custom-receipt-form").bind("ajax:success",function(e,t,n){var r;return r=$("#modal-1"),r.prop("checked",!r.prop("checked")),Leanpub.setFlashNotice("alert-info","We have sent your receipt. It should arrive in the next 10 minutes or so.",!0)}),$("#custom-receipt-form").bind("ajax:error",function(e,t,n){return Leanpub.setFlashNotice("alert-error","There was an error while sending your receipt.",!0)})},e}(),window.Library=new e}.call(this),function(){this.AjaxButton=React.createClass({displayName:"AjaxButton",propTypes:{text:React.PropTypes.string.isRequired,onClick:React.PropTypes.func.isRequired,requestPending:React.PropTypes.bool.isRequired},getClazz:function(){return this.props.requestPending?"generic":"submit"},getText:function(){return this.props.requestPending?"Please wait...":this.props.text},render:function(){return React.createElement("div",{className:"submit-wrapper"},React.createElement("button",{className:this.getClazz(),disabled:this.props.requestPending,onClick:this.props.onClick},this.getText()))}})}.call(this),function(){this.CartItemList=React.createClass({displayName:"CartItemList",propTypes:{cartItems:React.PropTypes.array,onRemove:React.PropTypes.func,onEdit:React.PropTypes.func},getDefaultProps:function(){return{cartItems:[]}},getInitialState:function(){return{renderLarge:!0}},componentDidMount:function(){return this.handleResize(),$(window).on("resize",this.handleResize)},componentWillUnmount:function(){return $(window).off("resize")},handleResize:function(){return window.innerWidth<700?this.setState({renderLarge:!1}):this.setState({renderLarge:!0})},renderItems:function(){var e,t,n,r,i;for(r=this.props.cartItems,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(React.createElement(CartItemListItem,{key:e.id,cartItem:e,onRemove:this.props.onRemove,onEdit:this.props.onEdit,large:this.state.renderLarge}));return i},renderTotal:function(){return React.createElement("div",{className:"total-wrapper"},React.createElement("h4",null,"Total:"),React.createElement("span",{className:"total-price"},React.createElement(Price,{price:Leanpub.ShoppingCartUtils.getSubtotal(this.props.cartItems)})),React.createElement("p",{className:"subtext"},"All prices shown in USD"))},renderTable:function(){return this.state.renderLarge?React.createElement("table",{className:"cart-items-table table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{className:"preview center"},"Item"),React.createElement("th",{className:"name left"}),React.createElement("th",{className:"center"},"Quantity"),React.createElement("th",{className:"center"},"Price"),React.createElement("th",{className:"center"},"Total"),React.createElement("th",{className:"center"},"Gift"),React.createElement("th",{className:"center"},"\xa0"))),React.createElement("tbody",null,this.renderItems())):this.renderItems()},render:function(){return React.createElement("section",{className:"cart-item-list"},this.renderTable(),this.renderTotal(),React.createElement("p",{className:"disclaimer"},"Your shopping cart will be saved if you navigate away from this page, so feel free to ",React.createElement("a",{href:"/bookstore"
},"buy more books"),"."))}})}.call(this),function(){this.CartItemListItem=React.createClass({displayName:"CartItemListItem",propTypes:{cartItem:React.PropTypes.object.isRequired,onRemove:React.PropTypes.func,onEdit:React.PropTypes.func,large:React.PropTypes.bool},getDefaultProps:function(){return{large:!0}},getInitialState:function(){return{pendingRequest:!1}},componentDidUpdate:function(){return this.state.pendingRequest?$(this.refs.spinner.getDOMNode()).spin("small"):void 0},handleCloseEdit:function(){return React.unmountComponentAtNode(document.getElementById("react-modal"))},handleEditSuccess:function(e){var t;return this.handleCloseEdit(),Leanpub.setFlashNotice("alert-success","Updated item in cart",!0),"function"==typeof(t=this.props).onEdit?t.onEdit(e):void 0},handleEdit:function(){return this.props.cartItem.cartable.sellable?React.render(React.createElement(CartItemModal,{cartableId:this.props.cartItem.cartable_id,cartableType:this.props.cartItem.cartable_type,cartItem:this.props.cartItem,onClose:this.handleCloseEdit,onEdit:this.handleEditSuccess}),document.getElementById("react-modal")):void 0},handleRemoveSuccess:function(){var e;return this.setState({pendingRequest:!1}),"function"==typeof(e=this.props).onRemove&&e.onRemove(this.props.cartItem),Leanpub.ShoppingCartUtils.decrementShoppingCart(),Leanpub.setFlashNotice("alert-success","Removed item from cart",!0)},handleRemoveError:function(){return this.setState({pendingRequest:!1}),Leanpub.setFlashNotice("alert-error","Could not remove item from cart",!0)},handleRemove:function(){return confirm("Are you sure you want to delete this item from your cart?")?this.setState({pendingRequest:!0},function(e){return function(){return $.ajax({url:"/cart_items/"+e.props.cartItem.id,type:"delete",data:{id:e.props.cartItem.id},success:e.handleRemoveSuccess,error:e.handleRemoveError})}}(this)):void 0},renderGift:function(){return this.props.cartItem.is_gift?React.createElement("i",{className:"fa fa-check"}):"-"},renderEdit:function(){if(this.state.pendingRequest)return React.createElement("i",{ref:"spinner",className:"spinner"});if(this.props.cartItem.cartable.sellable&&!this.props.cartItem.cartable.free_purchase_only)return React.createElement("button",{type:"button",className:"submit edit-cart-item",onClick:this.handleEdit},"Edit")},renderRemove:function(){return this.state.pendingRequest?React.createElement("span",null):React.createElement("button",{type:"button",className:"danger remove-cart-item",onClick:this.handleRemove},"Remove")},renderGiftIcon:function(){return this.props.cartItem.is_gift?React.createElement("i",{className:"fa fa-gift"}):void 0},renderSmall:function(){return React.createElement("div",{className:"cart-item small"},React.createElement("div",{className:"book-info"},React.createElement("a",{href:Leanpub.Cartable.getLink(this.props.cartItem.cartable)},this.renderCovers()),React.createElement("p",null,Leanpub.Cartable.getDisplayName(this.props.cartItem.cartable),this.renderGiftIcon())),React.createElement("ul",{className:"stats-list"},React.createElement("li",null,React.createElement("span",null,this.props.cartItem.quantity),React.createElement("h6",null,"Quantity")),React.createElement("li",null,React.createElement(Price,{price:this.props.cartItem.unit_price}),React.createElement("h6",null,"Price")),React.createElement("li",null,React.createElement(Price,{price:this.props.cartItem.unit_price*this.props.cartItem.quantity}),React.createElement("h6",null,"Total"))),React.createElement("ul",{className:"action-button-list"},React.createElement("li",null,this.renderEdit()),React.createElement("li",null,this.renderRemove())))},renderCovers:function(){var e;return e="Bundle"===this.props.cartItem.cartable_type?_.map(this.props.cartItem.cartable.books,function(e){return React.createElement("span",{className:"cover-container"},React.createElement("img",{src:e.title_page_url}))}):React.createElement("img",{className:"cover",src:this.props.cartItem.cartable.title_page_url}),React.createElement("div",{className:"covers-container"},e)},renderBookTitles:function(){var e;if("Bundle"===this.props.cartItem.cartable_type)return e=_.map(this.props.cartItem.cartable.books,function(e){return e.title}).join(", "),React.createElement("div",{className:"book-titles-container"},e)},render:function(){return this.props.large?React.createElement("tr",{className:"cart-item"},React.createElement("td",{className:"preview center"},React.createElement("a",{href:Leanpub.Cartable.getLink(this.props.cartItem.cartable)},this.renderCovers())),React.createElement("td",{className:"wrap left"},React.createElement("p",{className:"title"},Leanpub.Cartable.getDisplayName(this.props.cartItem.cartable)),this.renderBookTitles()),React.createElement("td",{className:"center",onClick:this.handleEdit},this.props.cartItem.quantity),React.createElement("td",{className:"center",onClick:this.handleEdit},React.createElement(Price,{price:this.props.cartItem.unit_price})),React.createElement("td",{className:"center",onClick:this.handleEdit},React.createElement(Price,{price:this.props.cartItem.unit_price*this.props.cartItem.quantity})),React.createElement("td",{className:"center",onClick:this.handleEdit},this.renderGift()),React.createElement("td",{className:"right action-button-list"},this.renderEdit(),this.renderRemove())):this.renderSmall()}})}.call(this),function(){this.ModalMixin={renderModal:function(){return React.createElement("div",{className:"modal react-modal"},React.createElement("div",{className:"modal-window modal-window-visible"},React.createElement("div",{className:"modal-inner"},React.createElement("i",{className:"fa fa-close",onClick:this.props.onClose}),this.renderContent())))}}}.call(this),function(){this.CartItemModal=React.createClass({displayName:"CartItemModal",mixins:[ModalMixin],propTypes:{cartableId:React.PropTypes.number,cartableType:React.PropTypes.string,cartItem:React.PropTypes.object,couponId:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),onClose:React.PropTypes.func.isRequired,onEdit:React.PropTypes.func},getInitialState:function(){return{cartable:{},pendingRequest:!0,error:!1}},componentWillMount:function(){return $.ajax({url:"/cart_items/"+this.props.cartableId+"/cartable",type:"get",data:{id:this.props.cartableId,type:this.props.cartableType,coupon_id:this.props.couponId},success:this.handleLoadSuccess,error:this.handleLoadError})},componentDidMount:function(){return this.state.pendingRequest?$(this.refs.spinner.getDOMNode()).spin("large"):void 0},handleLoadSuccess:function(e){return this.setState({pendingRequest:!1,cartable:null!=e?e.cartable:void 0,packageDiscount:null!=e?e.package_discount:void 0})},handleLoadError:function(){return this.setState({pendingRequest:!1,error:!0})},renderPricing:function(){return this.state.cartable.sellable&&!this.state.cartable.free_purchase_only?React.createElement(CartablePricing,{cartable:this.state.cartable,packageDiscount:this.state.packageDiscount}):void 0},renderMeta:function(){var e,t;return e=this.state.cartable["package"]&&!(null!=(t=this.state.cartable.short_description)?t.length:void 0)?this.state.cartable.short_about_the_book:this.state.cartable.short_description,React.createElement("div",{className:"cartable-meta"},React.createElement("div",{className:"cartable-meta-book-info"},React.createElement("img",{src:this.state.cartable.title_page_url}),React.createElement("h4",{className:"cartable-title"},this.state.cartable.title||this.state.cartable.name),React.createElement("p",{className:"cartable-description",dangerouslySetInnerHTML:{__html:e}})),this.renderPricing())},renderContent:function(){var e;return e=this.props.cartItem?"Edit Purchase":"Add To Cart",this.state.pendingRequest?React.createElement("i",{ref:"spinner",className:"modal-spinner"}):this.state.error?React.createElement("div",null,React.createElement("h4",null,"Something Went Wrong"),React.createElement("p",null,"Please try this action again.")):React.createElement("div",null,React.createElement("div",{className:"modal-title-wrapper"},React.createElement("h1",{className:"modal-title"},e)),this.renderMeta(),React.createElement(CartableNameYourPrice,{cartable:this.state.cartable,sellable:this.state.cartable.sellable,freeOnly:this.state.cartable.free_purchase_only,type:this.props.cartableType,cartItem:this.props.cartItem,packageDiscount:this.state.packageDiscount,authorSlider:this.state.cartable.show_what_author_gets,causeSlider:this.state.cartable.show_what_cause_gets,internationalStrings:{},onEdit:this.props.onEdit}))},render:function(){return this.renderModal()}})}.call(this),function(){this.ShoppingCartCaptcha=React.createClass({displayName:"ShoppingCartCaptcha",propTypes:{verifyCallback:React.PropTypes.func.isRequired,recaptchaSiteKey:React.PropTypes.string.isRequired},componentDidMount:function(){return"undefined"!=typeof grecaptcha?this.loadCaptcha():window[this.props.onloadCallbackName]=function(e){return function(){return e.loadCaptcha()}}(this)},componentWillUnmount:function(){return"undefined"!=typeof grecaptcha?grecaptcha.reset():void 0},loadCaptcha:function(){return grecaptcha.render("lpub-recaptcha",{sitekey:this.props.recaptchaSiteKey,callback:this.verifyCallback})},verifyCallback:function(){var e;return"function"==typeof(e=this.props).verifyCallback?e.verifyCallback.apply(e,arguments):void 0},render:function(){return React.createElement("div",{id:"lpub-recaptcha"})}})}.call(this),function(){this.SpinnerMixin={componentDidUpdate:function(e,t){var n;return this.refs.spinner?(n=$(this.refs.spinner.getDOMNode()),n.spin("large"),n.focus()):void 0},handleSpinnerClick:function(e){return e.stopPropagation()},renderSpinner:function(e){return e?React.createElement("div",{ref:"spinner",className:"spinner",onClick:this.handleSpinnerClick}):void 0}}}.call(this),function(){this.FormMixin={getInitialState:function(){return{errors:{}}},addError:function(e,t){var n;return n=this.state.errors,n[e]=t,this.setState({errors:n})},removeError:function(e){var t;return t=this.state.errors,delete t[e],this.setState({errors:t})},clearErrors:function(){return this.setState({errors:{}})}}}.call(this),function(){this.CartPurchaseForm=React.createClass({displayName:"CartPurchaseForm",mixins:[SpinnerMixin,FormMixin],propTypes:{onTaxChange:React.PropTypes.func.isRequired,recaptchaSiteKey:React.PropTypes.string.isRequired,requestPending:React.PropTypes.bool,captchaRequired:React.PropTypes.bool},getInitialState:function(){return{}},componentDidMount:function(){return $(this.refs.cc_number.getDOMNode()).on("change",this.handleCreditCardChange)},getPurchaseData:function(){var e;return e={"g-recaptcha-response":this.state.captchaResponse,cart_purchase:{charge_credit_card:"1",credit_card:{first_name:$(this.refs.first_name.getDOMNode()).val(),last_name:$(this.refs.last_name.getDOMNode()).val(),card_number:$(this.refs.cc_number.getDOMNode()).val(),card_verification_value:$(this.refs.cvv.getDOMNode()).val(),expiry_date:{month:$(this.refs.expiry_month.getDOMNode()).val(),year:"20"+$(this.refs.expiry_year.getDOMNode()).val()}}}},this.refs.email&&(e.cart_purchase.email_address=$(this.refs.email.getDOMNode()).val()),$.extend(!0,e,this.refs.tax_fields.getTaxData())},setErrors:function(e){var t,n;n={};for(t in e)n[t]=e[t][0];return this.setState({errors:n})},onVerifyCaptcha:function(e){return this.setState({captchaResponse:e})},handleCreditCardChange:function(e){return this.props.onTaxChange(this.getPurchaseData())},renderErrors:function(e){return e?React.createElement("p",{className:"help-inline error"},e):void 0},renderEmail:function(){return Leanpub.isLoggedIn()?void 0:React.createElement("div",{className:"control-group string required email"},React.createElement("label",{className:"string required"},"Email Address"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"email",className:"string required",id:"email",size:"50",type:"text"}),this.renderErrors(this.state.errors.email_address)))},renderCaptcha:function(){return this.props.captchaRequired?React.createElement(ShoppingCartCaptcha,{recaptchaSiteKey:this.props.recaptchaSiteKey,verifyCallback:this.onVerifyCaptcha}):void 0},renderTaxFields:function(){var e;return e=this.refs.cc_number?function(e){return function(t){return e.props.onTaxChange(e.getPurchaseData())}}(this):this.props.onTaxChange,React.createElement(CartPurchaseTaxFields,{ref:"tax_fields",onTaxChange:e})},render:function(){return React.createElement("div",{id:"cart-purchase-form"},this.renderSpinner(this.props.requestPending),React.createElement("div",{className:"form-wrapper"},React.createElement("div",{className:"control-group string required first-name"},React.createElement("label",{className:"string required"},"First Name"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"first_name",className:"string required",id:"first-name",size:"50",type:"text"}),this.renderErrors(this.state.errors["credit_card.first_name"]))),React.createElement("div",{className:"control-group string required last-name"},React.createElement("label",{className:"string required"},"Last Name"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"last_name",className:"string required",id:"last-name",size:"50",type:"text"}),this.renderErrors(this.state.errors["credit_card.last_name"]))),this.renderTaxFields(),React.createElement("div",{className:"control-group string required cc-number"},React.createElement("label",{className:"string required"},"Card Number"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"cc_number",className:"string required",id:"cc-number",size:"50",type:"text"}),this.renderErrors(this.state.errors["credit_card.number"]))),React.createElement("div",{className:"control-group string required expiry-date"},React.createElement("label",{className:"string required"},"Expiry Date"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"expiry_month",className:"string required expiry-input",id:"expiry-month",size:"2",maxLength:"2",type:"text",placeholder:"MM"}),React.createElement("input",{ref:"expiry_year",className:"string required expiry-input",id:"expiry-year",size:"2",maxLength:"2",type:"text",placeholder:"YY"}),this.renderErrors(this.state.errors["credit_card.month"]))),React.createElement("div",{className:"control-group string required cvv"},React.createElement("label",{className:"string required"},"CVV/CSC"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"cvv",className:"string required cvv-input",id:"cvv",size:"3",type:"text",placeholder:"123"}),this.renderErrors(this.state.errors["credit_card.verification_value"]))),this.renderEmail(),this.renderCaptcha()),React.createElement("div",{className:"disclaimer"},React.createElement("div",{className:"card-icons"},React.createElement("i",{className:"fa fa-cc-visa"}),React.createElement("i",{className:"fa fa-cc-mastercard"})),React.createElement("p",null,"Leanpub accepts Visa and MasterCard only. We do not store your credit card data on our servers.\nInstead, we send this form securely via SSL to our payment processor, which is as secure as PayPal."),React.createElement("p",null,"If you use a Visa or MasterCard debit card, there may be a small fee (typically about 10 cents) which\nis charged by our payment processor. This is because we are a Canadian merchant, and most Visa\nor MasterCard debit card transactions we have seen are from the US.")))}})}.call(this),function(){this.CartPurchaseFreeForm=React.createClass({displayName:"CartPurchaseFreeForm",mixins:[SpinnerMixin,FormMixin],setErrors:function(e){var t,n;n={};for(t in e)n[t]=e[t][0];return this.setState({errors:n})},renderErrors:function(e){return e?React.createElement("p",{className:"help-inline error"},e):void 0},getPurchaseData:function(){return{cart_purchase:{free_download:"1",free_download_email:$(this.refs.email.getDOMNode()).val()}}},render:function(){return React.createElement("div",{id:"cart-purchase-form"},React.createElement("div",{className:"form-wrapper"},React.createElement("div",{className:"control-group string required email-free"},React.createElement("label",{className:"string required"},"Email Address"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"email",id:"email",className:"string required",size:"50",type:"text"}),this.renderErrors(this.state.errors.free_download_email)))),React.createElement("div",{className:"disclaimer"},React.createElement("p",null,"In order to complete your purchase you must enter a valid email address.\nIf you are new to Leanpub, we will generate a new Leanpub account for you\nwith this email address. If you are a returning Leanpub user, we will ask\nthat you sign in with this email address to complete your purchase.")))}})}.call(this),function(){this.CartPurchaseTaxFields=React.createClass({displayName:"CartPurchaseTaxFields",mixins:[FormMixin],propTypes:{onTaxChange:React.PropTypes.func.isRequired},getInitialState:function(){return{showVAT:!1,showProvince:!1}},componentDidMount:function(){var e;return(e=Leanpub.getCountryCode())&&($(this.refs.country.getDOMNode()).val(e),this.handleCountryChange()),$(this.refs.country.getDOMNode()).on("change",this.handleCountryChange)},componentDidUpdate:function(e,t){return this.refs.province&&($(this.refs.province.getDOMNode()).off("change",this.handleProvinceChange),$(this.refs.province.getDOMNode()).on("change",this.handleProvinceChange)),this.refs.vat_number?($(this.refs.vat_number.getDOMNode()).off("change",this.handlVATNumberChange),$(this.refs.vat_number.getDOMNode()).on("change",this.handlVATNumberChange)):void 0},getTaxData:function(){var e;return e={cart_purchase:{buyer_country_code:$(this.refs.country.getDOMNode()).val()}},this.refs.province&&(e.cart_purchase.buyer_province_code=$(this.refs.province.getDOMNode()).val()),this.refs.vat_number&&(e.cart_purchase.vat_number=$(this.refs.vat_number.getDOMNode()).val()),e},handleCountryChange:function(e){var t,n,r,i,o;return t=$(this.refs.country.getDOMNode()).val(),t=t.toUpperCase(),i=null!=(n="CA"===t)?n:{"true":!1},o=null!=(r=t in Leanpub.VATpricing.VAT_TAX_RATES)?r:{"true":!1},this.setState({showVAT:o,showProvince:i},function(e){return function(){return e.props.onTaxChange(e.getTaxData())}}(this))},handlVATNumberChange:function(e){return this.props.onTaxChange(this.getTaxData())},handleProvinceChange:function(e){return this.removeError("province"),this.props.onTaxChange(this.getTaxData())},renderVATNumber:function(){return this.state.showVAT?React.createElement("div",{className:"control-group string required vat-number"},React.createElement("label",{className:"string"},"EU VAT #"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"vat_number",className:"string required",id:"vat-number",size:"50",type:"text"}))):void 0},renderProvince:function(){var e,t,n;if(this.state.showProvince)return t=function(){var t,r,i,o;for(i=Leanpub.Provinces,o=[],t=0,r=i.length;r>t;t++)n=i[t],e="",n.code===Leanpub.getRegionCode()&&(e="selected"),o.push(React.createElement("option",{key:n.code,value:n.code,selected:e},n.name));return o}(),React.createElement("div",{className:"control-group required province"},React.createElement("label",{className:"string required"},"Province"),React.createElement("div",{className:"controls"},React.createElement("select",{ref:"province",className:"required"},t)))},renderCountries:function(){var e,t;return t=function(){var t,n,r,i;for(r=Leanpub.Countries,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(React.createElement("option",{key:e.code,value:e.code},e.name));return i}(),React.createElement("div",{className:"control-group required country"},React.createElement("label",{className:"string required"},"Residing Country"),React.createElement("div",{className:"controls"},React.createElement("select",{ref:"country",className:"required",id:"country-code"},t)))},render:function(){return React.createElement("div",{className:"tax-fields row-wrapper"},this.renderCountries(),this.renderVATNumber(),this.renderProvince())}})}.call(this),function(){this.CartableNameYourPrice=React.createClass({displayName:"CartableNameYourPrice",mixins:[FormMixin],propTypes:{location:React.PropTypes.string.isRequired,cartable:React.PropTypes.object.isRequired,sellable:React.PropTypes.bool,freeOnly:React.PropTypes.bool,type:React.PropTypes.string.isRequired,internationalStrings:React.PropTypes.object.isRequired,cartItem:React.PropTypes.object,packageDiscount:React.PropTypes.object,authorSlider:React.PropTypes.bool,causeSlider:React.PropTypes.bool,onEdit:React.PropTypes.func,displayOnly:React.PropTypes.bool},selectors:{valueElement:".ui-slider-value",valueInput:".ui-slider-value input",handleElement:".ui-slider-handle",rangeElement:".ui-slider-range"},getDefaultProps:function(){return{sellable:!0,freeOnly:!1,location:"modal",displayOnly:!1}},getInitialState:function(){return{unitPrice:this.getInitialUnitPrice(),unitPriceWithVAT:this.getInitialUnitPriceWithVAT(),isGift:this.getInitialGift(),sliders:{},enabled:!0,vatPercentage:Leanpub.VATpricing.getVATPercentage()}},componentWillMount:function(){return $(document).on("vat:update",function(e){return function(){return e.setState({vatPercentage:Leanpub.VATpricing.getVATPercentage()})}}(this))},componentDidMount:function(){return this.props.sellable&&!this.props.freeOnly?(this.initializeSliders(),this.initializeEditFields()):void 0},componentWillUnmount:function(){return $(document).off("vat:update")},getInitialGift:function(){return this.props.cartItem?this.props.cartItem.is_gift:!1},getInitialUnitPrice:function(){var e,t;return this.props.sellable?this.props.cartItem?parseFloat(this.props.cartItem.unit_price):parseFloat((null!=(e=this.props.cartItem)?e.price:void 0)||(null!=(t=this.props.packageDiscount)?t.discounted_price:void 0)||this.props.cartable.suggested_price||this.props.cartable.minimum_price):0},getInitialUnitPriceWithVAT:function(){var e;return e=this.getInitialUnitPrice(),e*(1+Leanpub.VATpricing.getVATPercentage())},initializeEditFields:function(){return this.state.isGift?($(this.refs.is_gift.getDOMNode()).prop("checked",!0),$(this.refs.giftee_email.getDOMNode()).val(this.props.cartItem.giftee_email),$(this.refs.gift_note.getDOMNode()).val(this.props.cartItem.gift_note)):this.refs.quantity?$(this.refs.quantity.getDOMNode()).val(this.props.cartItem.quantity):void 0},initializeSliders:function(){var e,t,n,r,i,o;return n=$(this.refs.youPayInput.getDOMNode()),n.attr("id","you_pay_"+this.props.location),o=n.rangeinput({min:0,unit:"$ ",formatter:this.formatCurrencyWithoutUnit,input_events:{change:this.handleYouPayInputChange}}),this.props.authorSlider&&(e=$(this.refs.authorEarnsInput.getDOMNode()),e.attr("id","author_earns_"+this.props.location),r=e.rangeinput({min:0,unit:"$ ",formatter:this.formatCurrencyWithoutUnit,input_events:{change:this.handleAuthorEarnsInputChange}})),this.props.causeSlider&&(t=$(this.refs.causeEarnsInput.getDOMNode()),t.attr("id","cause_earns_"+this.props.location),i=t.rangeinput({min:0,unit:"$ ",formatter:this.formatCurrencyWithoutUnit,input_events:{change:this.handleCauseEarnsInputChange}})),o.add(r).add(i).each(function(){var e;return e=$('<div class="ui-slider-range"></div><div class="ui-slider-range happy-price"></div>'),$(this).append(e).data("range_color",{min:e.filter(".ui-slider-range:not(.happy-price)").css("background-color"),max:e.filter(".ui-slider-range.happy-price").css("background-color")}),e.remove()}),o.on({slide:this.handleYouPaySlide}),this.props.authorSlider&&r.on({slide:this.handleAuthorEarnsSlide}),this.props.causeSlider&&i.on({slide:this.handleCauseEarnsSlide}),this.setState({sliders:{youPaySliderElement:o,authorEarnsSliderElement:r,causeEarnsSliderElement:i}},function(e){return function(){return e.updatePrice(e.state.unitPriceWithVAT)}}(this))},formatCurrency:function(e,t){return(t?"":"$")+parseFloat(e).toFixed(2)},formatCurrencyWithoutUnit:function(e){return this.formatCurrency(e,!0)},flatFee:function(){return parseFloat(this.props.cartable.flat_fee)},royaltyToRevenueRatio:function(){return parseFloat(this.props.cartable.royalties_to_revenue_ratio)},authorRoyaltyRatio:function(){return parseFloat(this.props.cartable.ratio_of_revenue_to_authors)},causeRoyaltyRatio:function(){return parseFloat(this.props.cartable.ratio_of_revenue_to_causes)},minimumPrice:function(){var e,t;return e=parseFloat((null!=(t=this.props.packageDiscount)?t.discounted_price:void 0)||this.props.cartable.minimum_price),e*(1+this.state.vatPercentage)},suggestedPrice:function(){var e;return e=parseFloat(this.props.cartable.suggested_price||this.props.cartable.minimum_price),e*(1+this.state.vatPercentage)},maximumPrice:function(){var e;return e=parseFloat(this.props.cartable.maximum_price),e*(1+this.state.vatPercentage)},sanitizePrice:function(e,t){var n,r;return r=this.formatCurrencyWithoutUnit(e),n="function"===$.type(t)?t(this.props.cartable.suggested_price):this.props.cartable.suggested_price,$.isNumeric(r)?r:n},subjectToPriceLimiting:function(e){var t,n,r;return t=!1,r=500,n=.99,e=parseFloat(e),e<this.minimumPrice()?(e=this.minimumPrice(),t=!0):0!==e&&n>e&&(e=n,t=!0),0>e?(e=0,t=!0):e>r&&(e=r,t=!0),t?e:!1},priceLimitedPrice:function(e){var t;return t=this.subjectToPriceLimiting(e),t?t:e},authorEarningsFromPrice:function(e){var t;return e=parseFloat(e),e/=1+this.state.vatPercentage,t=0>=e?0:(e*this.royaltyToRevenueRatio()-this.flatFee())*this.authorRoyaltyRatio(),Math.floor(100*t)/100},causeEarningsFromPrice:function(e){var t;return e=parseFloat(e),e/=1+this.state.vatPercentage,t=0>=e?0:(e*this.royaltyToRevenueRatio()-this.flatFee())*this.causeRoyaltyRatio()},priceFromAuthorEarnings:function(e){var t;return e=parseFloat(e),t=0===e?0:(e/this.authorRoyaltyRatio()+this.flatFee())/this.royaltyToRevenueRatio(),t+=t*this.state.vatPercentage,Math.ceil(100*t)/100},priceFromCauseEarnings:function(e){var t;return e=parseFloat(e),t=0===e?0:(e/this.causeRoyaltyRatio()+this.flatFee())/this.royaltyToRevenueRatio(),t+=t*this.state.vatPercentage,Math.ceil(100*t)/100},updateAuthorEarnings:function(e){return this.updatePrice(this.priceLimitedPrice(this.priceFromAuthorEarnings(e)))},updateCauseEarnings:function(e){return this.updatePrice(this.priceLimitedPrice(this.priceFromCauseEarnings(e)))},updatePrice:function(e){var t,n;return n=(e-this.minimumPrice())/(this.maximumPrice()-this.minimumPrice()),this.state.sliders.youPaySliderElement.data("value",e),this.props.authorSlider&&this.state.sliders.authorEarnsSliderElement.data("value",this.authorEarningsFromPrice(e)),this.props.causeSlider&&this.state.sliders.causeEarnsSliderElement.data("value",this.causeEarningsFromPrice(e)),t=this,this.state.sliders.youPaySliderElement.add(this.state.sliders.authorEarnsSliderElement).add(this.state.sliders.causeEarnsSliderElement).each(function(){var e,r,i,o,a,s,l,c,u,d,p;return o=$(this).data("value"),d={},e=100,s=$(this).data("range_color"),i=$.xcolor.gradientlevel(s.min,s.max,Math.min(1,n)*e,e),$(t.selectors.rangeElement,this).css("background-color",i),$(this).slider("value",o),$(t.selectors.valueInput,this).val(t.formatCurrencyWithoutUnit(o)),u=$(t.selectors.valueElement,this),r=$(t.selectors.handleElement,this).width(),p=u.outerWidth(!0),c=$(this).width(),a=o/t.maximumPrice(),l=p>a*c-r/2,l?(d=$.extend(d,{left:a*c+r/2+parseInt(u.css("margin-right"),10)}),u.closest(t.selectors.valueElement).addClass("inverse")):(d=$.extend(d,{left:0}),u.closest(t.selectors.valueElement).removeClass("inverse")),u.css(d)}),this.setState({unitPrice:e/(1+this.state.vatPercentage),unitPriceWithVAT:e})},handleAdd:function(){var e,t;return this.setState({enabled:!1}),e={cartable_id:this.props.cartable.id,cartable_type:this.props.type,subtotal:this.state.unitPrice,vat_percentage:this.state.vatPercentage,coupon_id:null!=(t=this.props.packageDiscount)?t.coupon_id:void 0},$.ajax({url:"/cart_items",type:"post",data:e,success:function(e){return function(){return window.location.href="/shopping_cart/"}}(this),error:function(e){return function(){return e.setState({enabled:!0},function(){return Leanpub.setFlashNotice("alert-error","Could not add item to cart, please try again",!0)})}}(this)})},handleEdit:function(){var e,t,n;if(this.state.isGift&&(t=$(this.refs.giftee_email.getDOMNode()).val(),!t.length))return this.addError("giftee_email","is required"),void Leanpub.setFlashNotice("alert-error","Please fix the gift fields.",!0);if(this.refs.quantity){if(n=parseFloat($(this.refs.quantity.getDOMNode()).val()),1>n)return this.addError("quantity","This must be between 1 and 100."),void Leanpub.setFlashNotice("alert-error","Please fix the quantity.",!0)}else n=1;return n>100?(this.addError("quantity","This must be between 1 and 100."),void Leanpub.setFlashNotice("alert-error","Please fix the quantity.",!0)):(this.setState({enabled:!1}),e={id:this.props.cartItem.id,unit_price:this.state.unitPrice,vat_percentage:this.state.vatPercentage,quantity:n,is_gift:this.state.isGift,giftee_email:"",gift_note:""},this.state.isGift&&(e.giftee_email=$(this.refs.giftee_email.getDOMNode()).val(),e.gift_note=$(this.refs.gift_note.getDOMNode()).val()),$.ajax({url:"/cart_items/"+this.props.cartItem.id,type:"put",data:e,success:function(e){return function(t){var n;return"function"==typeof(n=e.props).onEdit?n.onEdit(t.cart_item):void 0}}(this),error:function(e){return function(t){var n,r;return(n=null!=(r=JSON.parse(t.responseText).errors)?r[0]:void 0)?Leanpub.setFlashNotice("alert-error",n,!0):Leanpub.setFlashNotice("alert-error","Could not edit item in cart",!0),e.setState({enabled:!0})}}(this)}))},handleYouPayInputChange:function(e){var t,n;return t=this.sanitizePrice($(e.currentTarget).val()),n=this.subjectToPriceLimiting(t),$.isNumeric(n)&&(t=n,e.preventDefault()),$(e.currentTarget).val(t),this.updatePrice(t)},handleYouPaySlide:function(e,t){var n,r;return n=t.value,r=this.subjectToPriceLimiting(n),$.isNumeric(r)&&(n=r,e.preventDefault()),this.updatePrice(n)},handleAuthorEarnsInputChange:function(e){var t,n;return t=this.sanitizePrice($(e.currentTarget).val(),this.priceFromAuthorEarnings),n=this.subjectToPriceLimiting(this.priceFromAuthorEarnings(t)),$.isNumeric(n)&&(t=this.authorEarningsFromPrice(n),e.preventDefault()),$(e.currentTarget).val(t),this.updateAuthorEarnings(t)},handleAuthorEarnsSlide:function(e,t){var n,r;return n=t.value,r=this.subjectToPriceLimiting(this.priceFromAuthorEarnings(n)),$.isNumeric(r)&&(n=this.authorEarningsFromPrice(r),e.preventDefault()),this.updateAuthorEarnings(n)},handleCauseEarnsInputChange:function(e){var t,n;return t=this.sanitizePrice($(e.currentTarget).val(),this.priceFromCauseEarnings),n=this.subjectToPriceLimiting(this.priceFromCauseEarnings(t)),jQuery.isNumeric(n)&&(t=this.causeEarningsFromPrice(n),e.preventDefault()),$(e.currentTarget).val(t),this.updateCauseEarnings(t)},handleCauseEarnsSlide:function(e,t){var n,r;return n=t.value,r=this.subjectToPriceLimiting(this.priceFromCauseEarnings(n)),jQuery.isNumeric(r)&&(n=this.causeEarningsFromPrice(r),e.preventDefault()),this.updateCauseEarnings(n)},handleIsGiftChange:function(e){return this.setState({isGift:e.currentTarget.checked},this.initializeEditFields)},renderUSD:function(){return this.state.vatPercentage?void 0:React.createElement("span",{className:"subtext"},"(USD)")},renderVATWarning:function(){return this.state.vatPercentage?React.createElement("span",{className:"subtext"},"(USD, Includes ",Leanpub.Utilities.taxPercentage(100*this.state.vatPercentage)+"%"," VAT)"):void 0},renderSubmit:function(){var e,t,n,r;if(!this.props.displayOnly&&(this.props.sellable||this.props.freeOnly))return t=this.props.cartItem?"handleEdit":"handleAdd",e=this.props.cartItem?"edit":"",n={},this.state.enabled||(n={pointerEvents:"none",cursor:"default",backgroundColor:"#999999",textShadow:"none",borderBottom:"none"}),r=!this.props.cartItem&&this.state.enabled?this.props.freeOnly?"Add Free Ebook to Cart":this.props.internationalStrings.buttonText||"Add Ebook to Cart":this.props.cartItem&&this.state.enabled?this.props.internationalStrings.buttonText||"Update":this.state.enabled?void 0:this.props.internationalStrings.pleaseWait||"Please wait...",React.createElement("div",{className:"submit-wrapper"},React.createElement("a",{className:"submit "+e,style:n,onClick:this[t]},r))},renderCauseSlider:function(){return this.props.causeSlider?React.createElement("div",null,React.createElement("label",{className:"slider-label"},this.props.internationalStrings.causeEarns||"Cause gets"),React.createElement("input",{ref:"causeEarnsInput",className:"author-earns",type:"number",min:this.minimumPrice(),max:this.maximumPrice(),step:"0.01"})):void 0},renderAuthorSlider:function(){
return this.props.authorSlider?React.createElement("div",null,React.createElement("label",{className:"slider-label"},this.props.internationalStrings.authorEarns||"Author Earns"),React.createElement("input",{ref:"authorEarnsInput",className:"author-earns",type:"number",min:this.minimumPrice(),max:this.maximumPrice(),step:"0.01"})):void 0},renderToolTip:function(){return this.props.internationalStrings.toolTip?React.createElement("i",{className:"fa fa-question-circle tooltip-item more-info"},React.createElement("div",{className:"tooltip"},React.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.internationalStrings.toolTip}}))):void 0},renderErrors:function(e){return e?React.createElement("p",{className:"help-inline error"},e):void 0},renderGifteeFields:function(){return this.state.isGift?React.createElement("div",{className:"giftee-fields-wrapper"},React.createElement("div",{className:"control-group string required giftee-email"},React.createElement("label",{className:"string required"},"Recipient email or username"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"giftee_email",className:"string required",id:"giftee-email",size:"50",type:"text"}),this.renderErrors(this.state.errors.giftee_email))),React.createElement("div",{className:"control-group string gift-note"},React.createElement("label",{className:"string"},"Gift note"),React.createElement("div",{className:"controls"},React.createElement("textarea",{ref:"gift_note",className:"text optional",id:"gift-note",rows:"2",cols:"40",type:"text"})))):void 0},renderIsGiftField:function(){var e,t;if((null!=(e=this.props.cartItem)&&null!=(t=e.cartable)?t.is_package:void 0)&&this.props.sellable)return React.createElement("div",{className:"gift-form-wrapper"},React.createElement("div",{className:"control-group boolean optional is-gift"},React.createElement("input",{ref:"is_gift",id:"is-gift",type:"checkbox",onChange:this.handleIsGiftChange}),React.createElement("label",{className:"boolean optional",htmlFor:"is-gift"},"This purchase is a gift")),this.renderGifteeFields(),this.renderQuantity())},renderQuantity:function(){var e,t;if(this.props.cartItem&&!this.state.isGift&&(null!=(e=this.props.cartItem)&&null!=(t=e.cartable)?t.is_package:0))return React.createElement("div",{className:"control-group boolean optional quantity"},React.createElement("label",{className:"boolean optional"},"Quantity"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"quantity",id:"quantity",type:"number",min:"1"}),this.renderErrors(this.state.errors.quantity)))},renderSliders:function(){return this.props.sellable&&!this.props.freeOnly?React.createElement("div",{className:"sliders-wrapper"},React.createElement("label",{clasName:"slider-label"},this.props.internationalStrings.youPay||"You Pay"),this.renderUSD(),this.renderVATWarning(),this.renderToolTip(),React.createElement("input",{ref:"youPayInput",className:"you-pay",type:"number",min:this.minimumPrice(),max:this.maximumPrice(),step:"0.01"}),this.renderAuthorSlider(),this.renderCauseSlider()):void 0},render:function(){return React.createElement("section",{className:"name-your-price"},this.renderSliders(),this.renderIsGiftField(),this.renderSubmit())}})}.call(this),function(){this.CartablePricing=React.createClass({displayName:"CartablePricing",propTypes:{cartable:React.PropTypes.object.isRequired,packageDiscount:React.PropTypes.object},renderRegularPrice:function(){return this.props.cartable.bundle?React.createElement("div",{className:"price-detail"},React.createElement(Price,{price:this.props.cartable.regular_minimum_price,subtext:"Regular Price",strike:!0})):void 0},renderFreePrice:function(){return this.props.cartable.free_minimum?React.createElement("div",{className:"price-detail"},React.createElement("div",{className:"price-minimum"},React.createElement(Price,{text:"Free",subtext:"Minimum Price"}))):void 0},renderMinimumPrice:function(){return this.props.cartable["package"]&&!this.props.cartable.free_minimum?React.createElement("div",{className:"price-detail"},React.createElement("div",{className:"price-minimum"},React.createElement(Price,{price:this.props.cartable.minimum_price,subtext:"Minimum Price",strike:!!this.props.packageDiscount}))):void 0},renderCouponPrice:function(){return this.props.packageDiscount?React.createElement("div",{className:"price-detail"},React.createElement("div",{className:"price-minimum coupon-price"},React.createElement(Price,{price:this.props.packageDiscount.discounted_price,subtext:"Coupon Price"}))):void 0},renderBundlePrice:function(){return this.props.cartable.bundle?React.createElement("div",{className:"price-detail"},React.createElement("div",{className:"price-highlight"},React.createElement(Price,{price:this.props.cartable.minimum_price,subtext:"Bundle Price"}))):void 0},renderSuggestedPrice:function(){return this.props.cartable["package"]?React.createElement("div",{className:"price-detail"},React.createElement("div",{className:"price-highlight"},React.createElement(Price,{price:this.props.cartable.suggested_price,subtext:"Suggested Price"}))):void 0},render:function(){return React.createElement("div",{className:"pricing-wrapper"},this.renderFreePrice(),this.renderRegularPrice(),this.renderMinimumPrice(),this.renderCouponPrice(),this.renderBundlePrice(),this.renderSuggestedPrice())}})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};this.kindle_email=React.createClass({displayName:"kindle-emails",componentWillMount:function(){var e;return e=JSON.parse(this.props.kindleEmails),e.length||(e=[{root:"",domain:"kindle.com",key:1,isBrandNew:!0}]),e=_.map(e,function(e,t){return _.extend(e,{key:t,badInput:!1})}),e=_.map(e,function(e){return _.pick(e,["domain","key","root","isBrandNew"])}),e=_.map(e,function(e){return"free.kindle.com"===e.domain?_.extend(e,{domain:"kindle.com"}):e}),this.setState({emails:this.validateEmails(e)})},componentDidMount:function(){var e;return this.selectBrandNewEmail(),e=document.getElementsByClassName("simple_form kindle_emails")[0],e.onsubmit=this.validateForm},componentDidUpdate:function(){return this.selectBrandNewEmail()},selectBrandNewEmail:function(){var e;return e="kindle-email-root-input "+(this.state.emails.length-1),_.last(this.state.emails).isBrandNew?document.getElementsByClassName(e)[0].select():void 0},validateForm:function(e){return _.findWhere(this.state.emails,{badInput:!0})?($(".alert").html("Empty or duplicate emails are not permitted; please remove them before saving!"),$(".alert").addClass("has-alert"),e.preventDefault()):($(".alert").html("Submitting..."),$(".alert").removeClass("has-alert"))},validateEmails:function(e){return this.markDupes(this.markBlanks(e))},markBlanks:function(t){var n;return t=_.map(t,function(e){return _.extend(e,{badInput:!1})}),n=_.filter(t,function(e){return""===e.root.trim()}),n=_.map(n,function(e){return _.extend(e,{badInput:!0})}),_.map(t,function(t){var r;return r=t.key,e.call(_.pluck(n,"key"),r)>=0?_.find(n,{key:t.key}):t})},markDupes:function(e){var t,n,r,i,o,a,s;for(r=i=0,o=e.length;o>i;r=++i)n=e[r],s=n.root+"@"+n.domain,a=e.slice(r+1,e.length),t=_.find(a,function(e){return e.root+"@"+e.domain===s}),t&&(_.extend(t,{badInput:!0}),e=_.map(e,function(e){return e.key===t.key?t:e}));return e},handleAddEmail:function(){var e,t,n;return e=this.state.emails,n=this.state.emails.length?_.last(this.state.emails).key+1:0,t={root:"",domain:"kindle.com",key:n,isBrandNew:!0},e=e.concat([t]),this.setState({emails:this.validateEmails(e)})},handleDeleteEmail:function(e){var t;return t=this.state.emails,t=_.without(t,t.slice(e,e+1)[0]),t=_.map(t,function(e,t){return _.extend(e,{key:t})}),this.setState({emails:t})},handleRootChange:function(e,t){var n;return n=this.state.emails,n[e].root=t.target.value.toString().trim(),n=_.map(this.state.emails,function(e){return _.extend(e,{isBrandNew:!1})}),this.setState({emails:this.validateEmails(n)})},handleDomainChange:function(e,t){var n;return n=this.state.emails,n[e].domain=t.target.value.toString(),this.setState({emails:this.validateEmails(n)})},renderInputFields:function(){var e,t,n,r,i,o;for(i=this.state.emails,o=[],n=0,r=i.length;r>n;n++)e=i[n],t=e.badInput?"error":"",o.push(React.createElement("span",{className:"kindle-email-field",key:e.key},React.createElement("input",{type:"text",className:"kindle-email-root-input "+e.key+" "+t,name:"user[kindle_emails_attributes]["+e.key+"][root]",value:e.root,placeholder:"your_kindle",onChange:_.partial(this.handleRootChange,e.key)}),React.createElement("span",{className:"at-symbol"},"@"),React.createElement("select",{name:"user[kindle_emails_attributes]["+e.key+"][domain]",className:"kindle-email-domain-input",onChange:_.partial(this.handleDomainChange,e.key),value:e.domain},React.createElement("option",{value:"kindle.com"},"kindle.com"),React.createElement("option",{value:"kindle.cn"},"kindle.cn")),React.createElement("span",{type:"button",className:"remove",onClick:_.partial(this.handleDeleteEmail,e.key)},"Remove")));return o},render:function(){return React.createElement("div",{className:"kindle-emails-container"},React.createElement("label",{className:"alert"},"Please fill in each of your Kindle email addresses."),this.renderInputFields(),React.createElement("button",{type:"button",className:"generic",onClick:this.handleAddEmail},"Add a kindle"))}})}.call(this),function(){this.LanguageAndLocaleSelector=React.createClass({displayName:"LanguageAndLocaleSelector",getDefaultProps:function(){return{showLocales:!0}},getInitialState:function(){var e;return e=this.findLanguage(this.props.currentLanguageId||124),this.props.localesTopLevel?{currentLanguage:this.findLocale(this.props.currentLocaleId,e),currentLocale:null}:{currentLanguage:e,currentLocale:this.findLocale(this.props.currentLocaleId,e)}},findLanguage:function(e){var t,n,r,i;for(i=this.props.languages,t=0,r=i.length;r>t;t++)if(n=i[t],n.id===parseInt(e))return n},findLocale:function(e,t){var n,r,i,o;for(t||(t=this.state.currentLanguage),o=t.locales,n=0,r=o.length;r>n;n++)if(i=o[n],i.id===parseInt(e))return i},currentLanguageHasLocales:function(){return null!=this.state.currentLanguage.locales&&this.state.currentLanguage.locales.length>1},handleLanguageChange:function(e){return this.setState({currentLanguage:this.findLanguage(e.target.value)})},handleLocaleChange:function(e){return this.setState({currentLocale:this.findLocale(e.target.value)})},renderLanguageOption:function(e){return React.createElement("option",{key:e.id,value:e.id},e.name)},renderLanguageOptions:function(){var e,t,n,r,i;for(r=this.props.languages,i=[],e=0,n=r.length;n>e;e++)t=r[e],t.showInDropdown&&i.push(this.renderLanguageOption(t));return i},renderLocaleOption:function(e){return React.createElement("option",{key:e.id,value:e.id},e.name)},renderLocaleOptions:function(){var e,t,n,r,i;for(r=this.state.currentLanguage.locales,i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(this.renderLocaleOption(n));return i},renderLocaleSelect:function(){var e;return React.createElement("div",{className:"control-group select optional"},React.createElement("label",{className:"select optional",htmlFor:"book_locale_id"},"Locale"),React.createElement("select",{name:"book[locale_id]",id:"book_locale_id",value:null!=(e=this.state.currentLocale)?e.id:void 0,onChange:this.handleLocaleChange},this.renderLocaleOptions()),React.createElement("p",{className:"help-block info"},"You can set an optional locale. This has no effect on book generation, but it will show up on your book web page."))},render:function(){return React.createElement("div",{className:"language-and-locale-selector"},React.createElement("div",{className:"control-group select optional"},React.createElement("label",{className:"select optional",htmlFor:"book_language_or_locale_id"},"Main Language Used in the Book"),React.createElement("select",{name:"book[language_or_locale_id]",id:"book_language_or_locale_id",value:this.state.currentLanguage.id,onChange:this.handleLanguageChange},this.renderLanguageOptions()),React.createElement("input",{type:"hidden",name:"book[language_or_locale_model_type]",value:this.state.currentLanguage.modelType}),React.createElement("p",{className:"help-block info"},"This helps us to set up the fonts that we use in your book. If you are writing with a mixture of languages that includes Chinese, Japanese or Korean, then you should check out the ",React.createElement("a",{href:"https://leanpub.com/help/manual#leanpub-auto-switching-back-and-forth-between-language-fonts"},"language switcher section of the manual"),". If you have troubles with characters not showing up properly, please let us know at hello@leanpub.com.")),this.props.showLocales&&this.currentLanguageHasLocales()?this.renderLocaleSelect():void 0)}})}.call(this),function(){this.LoginModal=React.createClass({displayName:"LoginModal",mixins:[ModalMixin,SpinnerMixin],propTypes:{email:React.PropTypes.string,onClose:React.PropTypes.func,onAuthenticate:React.PropTypes.func},getInitialState:function(){return{requestPending:!1}},componentDidMount:function(){return $(this.refs.email.getDOMNode()).val(this.props.email)},handleLogin:function(){var e;return this.setState({requestPending:!0}),e={email:$(this.refs.email.getDOMNode()).val(),password:$(this.refs.password.getDOMNode()).val()},$.ajax({url:"/cart_purchases/login",type:"post",data:e,success:function(e){return function(t){var n;return"function"==typeof(n=e.props).onAuthenticate&&n.onAuthenticate(t.user),e.props.onClose()}}(this),error:function(e){return function(t){return Leanpub.setFlashNotice("alert-error","We could not log you in. Please double check your credentials.",!0),e.setState({requestPending:!1})}}(this)})},renderLogin:function(){return React.createElement(AjaxButton,{text:"Login",onClick:this.handleLogin,requestPending:this.state.requestPending})},renderForm:function(){return React.createElement("div",{className:"login-form"},React.createElement("p",{className:"disclaimer"},"Please sign in to your Leanpub account to complete your purchase."),React.createElement("p",{className:"disclaimer"},"You can sign in here using your password or the secure login token we have\njust emailed to you at ",React.createElement("strong",null,this.props.email),"."),React.createElement("div",{className:"row-wrapper"},React.createElement("div",{className:"control-group string required email"},React.createElement("label",{className:"string"},"Email"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"email",className:"string required",size:"50",type:"text"}))),React.createElement("div",{className:"control-group string required password"},React.createElement("label",{className:"string"},"Sign In Token or Account Password"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"password",className:"string required",size:"50",type:"password"})))),this.renderLogin())},renderContent:function(){return React.createElement("div",{className:"login-modal-wrapper"},React.createElement("div",{className:"modal-title-wrapper"},React.createElement("h1",{className:"modal-title"},"Please Login")),this.renderSpinner(this.state.requestPending),this.renderForm())},render:function(){return this.renderModal()}})}.call(this),function(){this.TaxModal=React.createClass({displayName:"TaxModal",mixins:[ModalMixin,SpinnerMixin],propTypes:{shoppingCart:React.PropTypes.object.isRequired,onTaxChange:React.PropTypes.func.isRequired,requestPending:React.PropTypes.bool.isRequired,onClose:React.PropTypes.func},getInitialState:function(){return{requestPending:this.props.requestPending}},componentWillReceiveProps:function(e){return this.setState({requestPending:e.requestPending})},getTaxData:function(){var e;return e={cart_purchase:{do_express_checkout:"1"}},$.extend(!0,e,this.refs.tax_fields.getTaxData())},handleContinue:function(){return this.setState({requestPending:!0}),$.ajax({url:"/cart_purchases",type:"post",data:this.getTaxData(),success:function(e){return function(e){return e.redirect?window.location.href=e.redirect:void 0}}(this),error:function(e){return function(t){var n,r,i;return n=(null!=(r=JSON.parse(t.responseText))&&null!=(i=r.errors)?i[0]:void 0)||"There was an error communicating with PayPal.",e.setState({requestPending:!1}),Leanpub.setFlashNotice("alert-error",n,!0,!0)}}(this)})},renderContinue:function(){return React.createElement(AjaxButton,{text:"Continue",onClick:this.handleContinue,requestPending:this.state.requestPending})},renderTaxFields:function(){return React.createElement(CartPurchaseTaxFields,{ref:"tax_fields",onTaxChange:_.partial(this.props.onTaxChange,_,!0,!1)})},renderForm:function(){return React.createElement("div",{className:"tax-form"},React.createElement("p",{className:"disclaimer"},"To continue to PayPal, you must declare your country of residence:"),this.renderTaxFields())},renderItems:function(){return React.createElement(ShoppingCartMeta,{shoppingCart:this.props.shoppingCart,showBreakdown:!0})},renderTotal:function(){return React.createElement("div",{className:"total-wrapper"},React.createElement("h4",null,"Total:"),React.createElement("span",{className:"total-price"},React.createElement(Price,{price:Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart),includeVAT:!1})))},renderContent:function(){return React.createElement("div",{className:"tax-modal-wrapper"},React.createElement("div",{className:"modal-title-wrapper"},React.createElement("h1",{className:"modal-title"},"Select Your Country")),this.renderSpinner(this.state.requestPending),this.renderForm(),this.renderItems(),this.renderTotal(),this.renderContinue())},render:function(){return this.renderModal()}})}.call(this),function(){this.WelcomeModal=React.createClass({displayName:"WelcomeModal",mixins:[ModalMixin,SpinnerMixin,FormMixin],propTypes:{user:React.PropTypes.object,onClose:React.PropTypes.func},getInitialState:function(){return{requestPending:!1}},handleSubmit:function(){var e,t,n;return this.setState({requestPending:!0}),this.clearErrors(),e={id:null!=(t=this.props.user)?t.id:void 0,user:{password:$(this.refs.password.getDOMNode()).val(),password_confirmation:$(this.refs.password.getDOMNode()).val()}},$.ajax({url:"/u/"+(null!=(n=this.props.user)?n.username:void 0)+".json",type:"put",data:e,success:function(e){return function(t){return Leanpub.setFlashNotice("alert-success","We have updated your account.",!0),e.setState({requestPending:!1}),e.props.onClose()}}(this),error:function(e){return function(t){return e.setErrors(JSON.parse(t.responseText).errors),Leanpub.setFlashNotice("alert-error","We could not update your account. Go to your account dashboard for more options.",!0),e.setState({requestPending:!1})}}(this)})},setErrors:function(e){var t,n;this.clearErrors(),n=[];for(t in e)n.push(this.addError(t,e[t][0]));return n},renderErrors:function(e){return e?React.createElement("p",{className:"help-inline error"},e):void 0},renderSubmit:function(){return React.createElement("div",null,React.createElement(AjaxButton,{text:"Update",onClick:this.handleSubmit,requestPending:this.state.requestPending}),React.createElement("button",{className:"generic not-now",onClick:this.props.onClose},"Not Now"))},renderForm:function(){var e,t;return React.createElement("div",{className:"welcome-form"},React.createElement("p",{className:"disclaimer"},"We\u2019ve emailed your download links and a purchase receipt to ",React.createElement("strong",null,null!=(e=this.props.user)?e.email:void 0),"."),React.createElement("p",{className:"disclaimer"},"Also, we\u2019ve created a Leanpub account for you with the email address of ",React.createElement("strong",null,null!=(t=this.props.user)?t.email:void 0),".\nThis way, you\u2019ll be able to get free updates to your purchases whenever they occur, and see all your purchases in your personal Leanpub library."),React.createElement("p",{className:"disclaimer"},"To set a password for your account, please enter one below. You can reset your password anytime using your email address,\nso you don\u2019t need to pick a password now."),React.createElement("div",{className:"row-wrapper"},React.createElement("div",{className:"control-group string required password"},React.createElement("label",{className:"string"},"Create Password"),React.createElement("div",{className:"controls"},React.createElement("input",{ref:"password",className:"string required",size:"50",type:"password"}),this.renderErrors(this.state.errors.password)))),this.renderSubmit())},renderContent:function(){return React.createElement("div",{className:"welcome-modal-wrapper"},React.createElement("div",{className:"modal-title-wrapper"},React.createElement("h1",{className:"modal-title"},"Thanks For Your Purchase!")),this.renderSpinner(this.state.requestPending),this.renderForm())},render:function(){return this.renderModal()}})}.call(this),function(){this.Price=React.createClass({displayName:"Price",propTypes:{price:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),text:React.PropTypes.string,subtext:React.PropTypes.string,includeVAT:React.PropTypes.bool},getDefaultProps:function(){return{price:0,string:null,strike:!1,includeVAT:!0}},getInitialState:function(){return{price:parseFloat(this.props.price)}},componentWillMount:function(){return $(document).on("vat:update",function(e){return function(){return e.forceUpdate()}}(this))},componentWillReceiveProps:function(e){return this.setState({price:parseFloat(e.price)})},componentWillUnmount:function(){return $(document).off("vat:update")},getDisplayPrice:function(){return this.props.includeVAT?Leanpub.VATpricing.getPriceWithVAT(this.state.price):this.state.price.toFixed(2)},getExtraClass:function(){return this.props.strike?"strike":""},renderSubtext:function(){return this.props.subtext?React.createElement("div",{className:"subtext"},this.props.subtext):void 0},renderPrice:function(){return this.props.text?React.createElement("div",{className:"price"},this.props.text):React.createElement("div",{className:"price "+this.getExtraClass()},"$",this.getDisplayPrice())},render:function(){return React.createElement("div",{className:"react-price"},this.renderPrice(),this.renderSubtext())}})}.call(this),function(){this.SocialSharing=React.createClass({displayName:"SocialSharing",propTypes:{facebook:React.PropTypes.bool,twitter:React.PropTypes.bool,google:React.PropTypes.bool,url:React.PropTypes.string,text:React.PropTypes.string},getDefaultProps:function(){return{facebook:!0,twitter:!0,google:!0}},handleClick:function(e){var t,n,r;return n=encodeURIComponent(this.props.url),r=encodeURIComponent(this.props.text+(" "+this.props.url+" via @leanpub")),t=function(){switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+n;case"twitter":return"https://twitter.com/home?status="+r;case"google":return"https://plus.google.com/share?url="+n}}(),window.open(t,"","width=600, height=400")},renderOptions:function(){var e,t,n,r,i,o;for(i=[],this.props.facebook&&i.push("facebook"),this.props.twitter&&i.push("twitter"),this.props.google&&i.push("google"),o=[],t=e=0,n=i.length;n>e;t=++e)r=i[t],o.push(React.createElement("li",{key:"social-"+t,className:r,onClick:_.partial(this.handleClick,r)},React.createElement("i",{className:"fa fa-"+r})));return o},render:function(){return React.createElement("section",{className:"social-sharing"},React.createElement("ul",null,this.renderOptions()))}})}.call(this),function(){this.ShoppingCartCheckout=React.createClass({displayName:"ShoppingCartCheckout",propTypes:{shoppingCart:React.PropTypes.object.isRequired,recaptchaSiteKey:React.PropTypes.string.isRequired,onTaxChange:React.PropTypes.func.isRequired,requestPending:React.PropTypes.bool,onEdit:React.PropTypes.func},getInitialState:function(){return{showTaxModal:!1}},handlePPClick:function(){return Leanpub.clearFlashes(),this.setState({showTaxModal:!0})},handleTaxClose:function(){return Leanpub.clearFlashes(),this.setState({showTaxModal:!1})},renderTaxModal:function(){return this.state.showTaxModal?React.createElement(TaxModal,{shoppingCart:this.props.shoppingCart,onTaxChange:this.props.onTaxChange,requestPending:this.props.requestPending,onClose:this.handleTaxClose}):void 0},renderCartMeta:function(){return React.createElement(ShoppingCartMeta,{shoppingCart:this.props.shoppingCart,showBreakdown:!0})},renderFreeEmail:function(){return 0!==Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart)||Leanpub.isLoggedIn()?void 0:React.createElement("div",{className:"email-wrapper"},React.createElement(CartPurchaseFreeForm,{ref:"form"}))},renderFreePurchase:function(){return 0===Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart)?React.createElement("div",{className:"free-purchase"},React.createElement("h3",null,"Your purchase is free!"),this.renderFreeEmail()):void 0},renderPaymentOptions:function(){return 0!==Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart)?React.createElement("div",{className:"payment-options"},React.createElement("div",{className:"edit-box"},React.createElement("a",{onClick:this.props.onEdit},"Go back and edit my cart")),React.createElement("h5",null,"Pay with credit card or with"),React.createElement("button",{className:"submit",onClick:this.handlePPClick},"PayPal"),React.createElement("div",{className:"subtext"},"All prices shown in USD")):void 0},renderCreditCard:function(){return 0!==Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart)?React.createElement("div",{className:"cc-wrapper"},React.createElement(CartPurchaseForm,{recaptchaSiteKey:this.props.recaptchaSiteKey,ref:"form",onTaxChange:this.props.onTaxChange,requestPending:this.props.requestPending,captchaRequired:this.props.shoppingCart.captcha_required})):void 0},renderPricing:function(){return 0!==Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart)?React.createElement(ShoppingCartPricing,{shoppingCart:this.props.shoppingCart}):void 0},render:function(){return React.createElement("section",{className:"shopping-cart-checkout"},this.renderTaxModal(),this.renderFreePurchase(),this.renderPaymentOptions(),this.renderCreditCard(),this.renderCartMeta(),this.renderPricing())}})}.call(this),function(){this.ShoppingCartEdit=React.createClass({displayName:"ShoppingCartEdit",propTypes:{shoppingCart:React.PropTypes.object.isRequired,onRemove:React.PropTypes.func,onEdit:React.PropTypes.func},render:function(){return React.createElement("div",{className:"shopping-cart-edit"},React.createElement(CartItemList,{cartItems:this.props.shoppingCart.cart_items,onRemove:this.props.onRemove,onEdit:this.props.onEdit}))}})}.call(this),function(){this.ShoppingCartMeta=React.createClass({displayName:"ShoppingCartMeta",propTypes:{shoppingCart:React.PropTypes.object.isRequired,showBreakdown:React.PropTypes.bool},getDefaultProps:function(){return{showBreakdown:!1}},renderItem:function(e){return React.createElement("tr",{key:e.id},React.createElement("td",null,Leanpub.Cartable.getDisplayName(e.cartable)),React.createElement("td",null,e.quantity),React.createElement("td",null,React.createElement(Price,{price:e.unit_price,includeVAT:!this.props.showBreakdown})),this.props.showBreakdown?React.createElement("td",null,React.createElement(Price,{price:e.tax_amount,includeVAT:!1})):null,this.props.showBreakdown?React.createElement("td",null,React.createElement(Price,{price:e.grand_total,includeVAT:!1})):null)},renderItems:function(){var e;return React.createElement("table",{className:"table-minimal meta-items-table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Quantity"),React.createElement("th",null,"Price"),this.props.showBreakdown?React.createElement("th",null,"Tax"):null,this.props.showBreakdown?React.createElement("th",null,"Total"):null)),React.createElement("tbody",null,function(){var t,n,r,i;for(r=this.props.shoppingCart.cart_items,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(this.renderItem(e));return i}.call(this)))},render:function(){return React.createElement("div",{className:"shopping-cart-meta"},this.renderItems())}})}.call(this),function(){this.ShoppingCartPricing=React.createClass({displayName:"ShoppingCartPricing",propTypes:{shoppingCart:React.PropTypes.object.isRequired},renderMetaPrice:function(e,t,n){var r,i;return null==n&&(n=""),i="total"===n&&(r=parseFloat(Leanpub.ShoppingCartUtils.getVAT(this.props.shoppingCart)))?React.createElement("p",{className:"vat-warning"},"Includes ",Leanpub.Utilities.taxPercentage(100*r),"% VAT"):void 0,React.createElement("tr",null,React.createElement("td",{className:n+"-text"},e),React.createElement("td",{className:n+"-price"},React.createElement(Price,{price:t,includeVAT:!1}),i))},renderMetaTax:function(e,t,n){return null==n&&(n=""),React.createElement("tr",null,React.createElement("td",{className:n+"-text"},e," (",(100*t).toFixed(0),"%)"),React.createElement("td",{className:n+"-price"},React.createElement(Price,{price:t*Leanpub.ShoppingCartUtils.getSubtotal(this.props.shoppingCart),includeVAT:!1})))},renderSubtotal:function(){return parseFloat(Leanpub.ShoppingCartUtils.getVAT(this.props.shoppingCart))?void 0:this.renderMetaPrice("Subtotal",Leanpub.ShoppingCartUtils.getSubtotal(this.props.shoppingCart),"subtotal")},renderGST:function(){var e;if(e=parseFloat(Leanpub.ShoppingCartUtils.getGST(this.props.shoppingCart)))return this.renderMetaTax("GST",e,"tax")},renderHST:function(){var e;if(e=parseFloat(Leanpub.ShoppingCartUtils.getHST(this.props.shoppingCart)))return this.renderMetaTax("HST",e,"tax")},renderTotal:function(){return this.renderMetaPrice("Total",Leanpub.ShoppingCartUtils.getGrandTotal(this.props.shoppingCart),"total")},renderPricing:function(){return React.createElement("table",{className:"meta-pricing-table"},React.createElement("tbody",null,this.renderSubtotal(),this.renderGST(),this.renderHST(),this.renderTotal()))},render:function(){return React.createElement("div",{className:"shopping-cart-pricing"},this.renderPricing())}})}.call(this),function(){this.ShoppingCartProgressBar=React.createClass({displayName:"ShoppingCartProgressBar",propTypes:{stage:React.PropTypes.number.isRequired,onStageSelect:React.PropTypes.func,"static":React.PropTypes.bool},getDefaultProps:function(){return{"static":!1}},handleStageSelection:function(e){var t;return"function"==typeof(t=this.props).onStageSelect?t.onStageSelect(e):void 0},renderSelector:function(e,t,n){var r,i;return null==n&&(n=!0),r=this.props["static"]||!n?"disable-jump":"",r+=e===this.props.stage?" active":"",i=null,n&&!this.props["static"]&&(i=_.partial(this.handleStageSelection,e)),React.createElement("li",{className:"stage-selector "+r,onClick:i},t)},render:function(){return React.createElement("div",{className:"shopping-cart-progress-bar"},React.createElement("ul",null,this.renderSelector(1,"Edit Cart"),this.renderSelector(2,"Checkout"),this.renderSelector(3,"Download",!1)))}})}.call(this),function(){this.ShoppingCartWizard=React.createClass({displayName:"ShoppingCartWizard",propTypes:{shoppingCart:React.PropTypes.object.isRequired,recaptchaSiteKey:React.PropTypes.string.isRequired,internationalStrings:React.PropTypes.object.isRequired},getInitialState:function(){return{shoppingCart:this.props.shoppingCart,stage:1,requestPending:!1,showLoginModal:!1}},componentWillMount:function(){return $(".react-loading").hide()},nextStage:function(){return 2===this.state.stage?this.performPurchase():this.setState({stage:this.state.stage+1})},performPurchase:function(){var e,t;return this.setState({requestPending:!0}),e=null!=(t=this.refs.checkout.refs.form)?t.getPurchaseData():void 0,e||(e={cart_purchase:{free_download:"1"}}),$.ajax({url:"/cart_purchases",type:"post",dataType:"json",data:e,success:function(e){return function(e){return window.location.href="/cart_purchases/"+e.cart_purchase.uuid+"/thankyou"}}(this),error:function(e){return function(t){var n,r,i,o,a;return(null!=(r=JSON.parse(t.responseText))?r.require_login:void 0)?e.setState({loginEmail:null!=(i=JSON.parse(t.responseText))?i.email:void 0,showLoginModal:!0}):(n=null!=(o=JSON.parse(t.responseText))?o.errors:void 0,null!=(a=e.refs.checkout.refs.form)&&a.setErrors(n),(null!=n?n.base:void 0)?Leanpub.setFlashNotice("alert-error",n.base[0],!0,!0):n&&Leanpub.setFlashNotice("alert-error","There was an error completing your purchase.",!0,!0)),e.setState({requestPending:!1})}}(this)})},goToStage:function(e){return this.setState({stage:e})},handleRemoveCartItem:function(e){var t,n;return t=_.reject(this.state.shoppingCart.cart_items,function(t){return t===e}),n=this.state.shoppingCart,n.cart_items=t,this.setState({shoppingCart:n})},handleEditCartItem:function(e){
var t,n;return t=_.map(this.state.shoppingCart.cart_items,function(t){return t.id===e.id?e:t}),n=this.state.shoppingCart,n.cart_items=t,this.setState({shoppingCart:n})},handleUpdateTaxes:function(e,t,n){var r,i;return null==n&&(n=!0),this.setState({requestPending:!0}),r={country_code:e.cart_purchase.buyer_country_code,force_country:t,province_code:e.cart_purchase.buyer_province_code,vat_number:e.cart_purchase.vat_number,credit_card_prefix:null!=(i=e.cart_purchase.credit_card)?i.card_number.slice(0,9):void 0},$.ajax({url:"/shopping_cart/"+this.props.shoppingCart.uuid+"/update_taxes",type:"put",data:r,success:function(e){return function(t){return!n||parseFloat(t.shopping_cart.subtotal)===parseFloat(Leanpub.ShoppingCartUtils.getSubtotal(e.state.shoppingCart).toFixed(2))&&parseFloat(t.shopping_cart.grand_total)===parseFloat(Leanpub.ShoppingCartUtils.getGrandTotal(e.state.shoppingCart).toFixed(2))||Leanpub.setFlashNotice("alert-info","Because of your residing country, IP address, and credit card number, your total has been updated.",!0),e.setState({requestPending:!1,shoppingCart:t.shopping_cart})}}(this),error:function(e){return function(){return e.setState({requestPtrueending:!1},function(){return Leanpub.setFlashNotice("alert-error","There was an error updating your billing information. Please change your residing country.",!0)})}}(this)})},handleLoginClose:function(){return this.setState({showLoginModal:!1})},handleAuthentication:function(e){return Leanpub.setFlashNotice("alert-info","Logged in as: "+e.email+". Please click 'Purchase' to finalize your purchase.",!0),Leanpub.checkForUser(),Leanpub.configureHeader()},renderLoginModal:function(){return this.state.showLoginModal?React.createElement(LoginModal,{email:this.state.loginEmail,onClose:this.handleLoginClose,onAuthenticate:this.handleAuthentication}):void 0},renderCartItems:function(){return React.createElement(ShoppingCartEdit,{shoppingCart:this.state.shoppingCart,onRemove:this.handleRemoveCartItem,onEdit:this.handleEditCartItem})},renderCheckout:function(){return React.createElement(ShoppingCartCheckout,{ref:"checkout",shoppingCart:this.state.shoppingCart,onTaxChange:this.handleUpdateTaxes,requestPending:this.state.requestPending,recaptchaSiteKey:this.props.recaptchaSiteKey,onEdit:_.partial(this.goToStage,1)})},renderStage:function(){var e;if(this.state.shoppingCart.cart_items.length)return e=function(){switch(this.state.stage){case 1:return"renderCartItems";case 2:return"renderCheckout"}}.call(this),React.createElement("div",{className:"cart-stages"},this[e]())},renderNextButton:function(){var e,t;if(this.state.shoppingCart.cart_items.length)return e=function(){switch(this.state.stage){case 1:return"Continue";case 2:return"Purchase"}}.call(this),this.state.requestPending&&(e="Please wait..."),t=this.state.requestPending?"generic":"submit",React.createElement("button",{className:t+" continue-link",disabled:this.state.requestPending,onClick:this.nextStage},e)},renderProgressBar:function(){return this.state.shoppingCart.cart_items.length?React.createElement(ShoppingCartProgressBar,{stage:this.state.stage,onStageSelect:this.goToStage}):void 0},renderEmpty:function(){return this.state.shoppingCart.cart_items.length?void 0:React.createElement("div",{className:"cart-empty"},React.createElement("h4",null,this.props.internationalStrings.emptyText),React.createElement("p",null,"You can browse books to purchase in our ",React.createElement("a",{href:"/bookstore"},"Bookstore"),"."))},render:function(){return React.createElement("section",{className:"shopping-cart-wizard"},this.renderEmpty(),this.renderLoginModal(),this.renderProgressBar(),this.renderStage(),this.renderNextButton())}})}.call(this),function(){Leanpub.Cartable=function(){return{getLink:function(e){return e.book_id?"/"+e.landing_page_slug:"/b/"+e.landing_page_slug},getDisplayName:function(e){return e.book_id?"The Book"!==e.name?e.title+" ("+e.name+")":e.title:e.name}}}()}.call(this),function(){Leanpub.Countries=function(){return[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Laos",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montenegro",code:"ME"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia",code:"RS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syria",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}()}.call(this),function(){Leanpub.Provinces=function(){return[{name:"Alberta",code:"AB"},{name:"British Columbia",code:"BC"},{name:"Manitoba",code:"MB"},{name:"New Brunswick",code:"NB"},{name:"Newfoundland and Labrador",code:"NL"},{name:"Nova Scotia",code:"NS"},{name:"Northwest Territories",code:"NT"},{name:"Nunavut",code:"NU"},{name:"Ontario",code:"ON"},{name:"Prince Edward Island",code:"PE"},{name:"Quebec",code:"QC"},{name:"Saskatchewan",code:"SK"},{name:"Yukon",code:"YT"}]}()}.call(this),function(){Leanpub.ShoppingCartUtils=function(){return{getSubtotal:function(e){var t,n,r,i,o,a,s;if(s=0,e.cart_items)for(a=e.cart_items,n=0,i=a.length;i>n;n++)t=a[n],s+=parseFloat(t.subtotal);else if(e instanceof Array)for(r=0,o=e.length;o>r;r++)t=e[r],s+=parseFloat(t.subtotal);return s},getGrandTotal:function(e){var t,n,r,i,o;for(n=0,o=e.cart_items,r=0,i=o.length;i>r;r++)t=o[r],n+=parseFloat(t.grand_total);return n},getGST:function(e){var t;return null!=(null!=(t=e.cart_items)?t.length:void 0)?e.cart_items[0].gst_percentage:0},getHST:function(e){var t;return null!=(null!=(t=e.cart_items)?t.length:void 0)?e.cart_items[0].hst_percentage:0},getVAT:function(e){var t;return null!=(null!=(t=e.cart_items)?t.length:void 0)?e.cart_items[0].vat_percentage:0},decrementShoppingCart:function(){var e;return e=parseInt($("#shopping-cart-icon .notification-count").text()),$("#shopping-cart-icon .notification-count").remove(),NaN!==e&&e-1>0?$("#shopping-cart-icon").append("<div class='notification-count'>"+(e-1)+"</div>"):void 0}}}()}.call(this),function(){!function(e){return e.fn.bounceClasses=function(t,n,r){var i,o;return i=e(this),i.hasClass(t)||(o=t,t=n,n=o),i.removeClass(t).addClass(n),void 0!==r?r(e(this),n,t):void 0},e.fn.LeanpubAccordion=function(){var t,n,r,i;return i=this,n=function(t){var n,r;return n=e(this).parent(".submenu").next("ul"),r=e(this),"A"===e(this)[0].nodeName&&(r=e(this).parent(".submenu").children(".icon")),r.bounceClasses("fa-plus","fa-minus"),n.slideToggle(300)},r=function(e){return void 0!==e&&"function"==typeof e},t=this.find(".submenu"),e.fn.closeSiblings=function(t){var n,o;return o=e(this),o.addClass("not-close").parents("ul").addClass("not-close"),n=e(i).find(".submenu + ul:not(.not-close)"),n.each(function(n,i){var a,s;return s=e(i),a=s.prev(".submenu").children(".icon"),s.is(":visible")&&(a.bounceClasses("fa-plus","fa-minus"),s.slideToggle(300)),r(t)?t(o,s,a):void 0}),o.removeClass("not-close").parents("ul").removeClass("not-close")},t&&t.length>0?(t.children(".icon").on("click",n),t.children(".submenu > a").on("click",n)):void 0}}(jQuery),function(e){return e(document).ready(function(){var t;return e(".accordion-menu").LeanpubAccordion(),t=e(".accordion-menu .active").parent().prev(),t.hasClass("submenu")?e(t.children()[0]).trigger("click"):void 0})}(jQuery)}.call(this),function(){}.call(this);